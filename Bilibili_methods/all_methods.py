# -*- coding:utf- 8 -*-
import asyncio
import hashlib
import httpx
import json
import math
import random
import re
import sys
import time
import traceback
import urllib
from urllib import parse
from CONFIG import CONFIG
from pylangtools.langconv import Converter

import Bilibili_methods.log_reporter as log_reporter
import js2py

import bç«™cookie.bç«™cookie_
import bç«™cookie.globalvar as gl
import numpy
import requests
from asgiref.sync import async_to_sync
from utl.ä»£ç† import request_with_proxy

up_nickname_dict = {
    'çœŸæœç²’å®˜æ–¹': 'æœç²’æ€»',
    'é‚»å®¶å°å¦¹è£…æœºé¦†': 'å°æ¬£é˜¿å§¨',
    'è‹å®æ˜“è´­': 'å°ç‹®å­',
    'Jesse_White': 'Jå“¥',
    'çº¢é­”æ¸¸æˆæ‰‹æœº': 'çº¢é­”å§¬',
    'Haylouå˜¿å–½': 'å˜¿å–½',
    'IGNä¸­å›½': 'IGN',
    'è‹æ³Šå°”SUPOR': 'è‹é…±',
    'ç¾è±ç”µå™¨': 'è±è±å­',
    'MuMuæ¨¡æ‹Ÿå™¨-Mué…±': 'Mué…±',
    'å®æ³¢é“¶è¡Œä¿¡ç”¨å¡': 'å¡å®',
    'æ–‡çŸ³BOOX': 'å°å¸ƒ',
    'GATERON-ä½³è¾¾éš†': 'ä½³è¾¾éš†',
    'Chiline': 'åƒæ¿‘',
    'å¤©çŒ«å›½é™…': 'é˜¿é™…',
    'å®ç¾NINGMEI': 'å®ç¾',
    'å®æ™“ç¾': 'æ™“ç¾',
    'éº¦å½“åŠ³': 'éº¦éº¦',
    'ä¸­å›½å¹³å®‰': 'å¹³æ€»',
    'å¹³å®‰é“¶è¡Œ': 'å®‰æ€»',
    'ä¸­å›½è”é€šå®¢æœå®˜æ–¹': 'å°U',
    'æ‹›å•†é“¶è¡ŒApp': 'å°æ‹›å–µ',
    'åç¡•å¤©é€‰å®˜æ–¹UP': 'å¤©é€‰å§¬',
    'é›…è¿ªç”µåŠ¨è½¦å®˜æ–¹': 'è¿ªè¿ªå­',
    'é£Ÿæ—äººé£Ÿå“': 'é£Ÿäººæ—',
    'QCYè“ç‰™è€³æœºå®˜æ–¹å·': 'Qå®',
    'UGREENç»¿è”': 'ç»¿è”',
    'å™ä¸–è§†é¢‘': 'å™äº‹å›',
    'å¹³å®‰å°è´¢å¨˜': 'å°è´¢å¨˜',
    'å¨é©¬æ±½è½¦': 'å¨é…±',
    'å½“è´æŠ•å½±': 'è´é…±',
    'andaseaTå®‰å¾·æ–¯ç‰¹ç”µç«æ¤…': 'å°å®‰',
    'æ™ºäº‘ç¨³å®šå™¨': 'äº‘å¦¹',
    'å¥‰ç§‘éº¦å…‹é£': 'å¥‰ç§‘',
    'å°æ˜æŠ•å½±': 'æ˜ä»”',
    'åªæŠ•èºç¢—å°ç¢—å¦¹': 'ç¢—å¦¹',
    'é»‘é²¨æ¸¸æˆæ‰‹æœº': 'é²¨é²¨é…±',
    'Thunderoboté›·ç¥ç¬”è®°æœ¬': 'å°é›·',
    'å“”å“©å“”å“©ç•ªå‰§': 'å®˜æ–¹',
    'å“”å“©å“”å“©çºªå½•ç‰‡': 'å®˜æ–¹',
    'ä¸­å›½ç§»åŠ¨åŠ¨æ„Ÿåœ°å¸¦': 'å°åŠ¨å®',
    'äºŒæŸ„APP': 'äºŒæŸ„',
    'åŒç¨‹æ—…è¡Œ': 'ç¨‹ä»”',
    'é…¸é…¸ä¹³å®˜æ–¹': 'é…¸é…¸',
    'å”éº¦å®˜æ–¹è´¦å·': 'éº¦å­å“¥',
    'ç‡•å­DIYè£…æœº': 'ç‡•å­',
    'ä¸­å›½ç”µä¿¡é’å¹´ä¸€æ´¾': 'æ´¾æ´¾',
    'å¤§åå­˜å‚¨å® ': 'åå¦¹',
    'æ¬¡å…ƒä¹¦é¦†': 'é¦†é•¿',
    'COLGç©å®¶ç¤¾åŒº': 'é¦™è•‰çš®',
    'ç¾çš„ç”Ÿæ´»å°å®¶ç”µ': 'ç¾ç¾å­',
    'å”¯å“ä¼š': 'ä¸‰å£å¨˜',
    'UPUPOOåŠ¨æ€æ¡Œé¢': 'å•Šå™—',
    'ç´¢æ³°ZOTAC': 'é˜¿ç´¢',
    'ç¾çš„ç³»æ´—è¡£æœº': 'å‡€å‡€å­',
    'å¹¿æ±½ä¸°ç”°': 'å°ç”°ç”°',
    'Apexgamingè‰¾æ¹ƒç”µç«': 'å°è‰¾',
    'å¹³å®‰äººå¯¿': 'è±¹æ€»',
    'QQæ˜Ÿ': 'Qé…±',
    'å°ç™½ä¸€é”®é‡è£…ç³»ç»Ÿ': 'å°ç™½',
    'å‘³çŸ¥é¦™é£Ÿå“å®˜æ–¹': 'å°é¦™',
    'å¥åŠ›å®å¾®æ³¡æ°´': 'æ³¡æ³¡å­',
    'è™è¯¾ç½‘': 'è™å¦å¦',
    'ALIENWAREå¤–æ˜Ÿäºº': 'å¤–æ˜Ÿäºº',
    'KBEARé­å®è€³æœº': 'é­å®',
    'CRDå…‹å¾•å¸å®˜æ–¹å·': 'å¾•å¾•',
    'éº¦å¯Œè¿ª': 'ç³Šè¿ª',
    'æƒ è€Œæµ¦å®¶ç”µ': 'æƒ å°æµ¦',
    'TTè¯­éŸ³': '16',
    'èµ·ç‚¹è¯»ä¹¦-ç‚¹å¨˜': 'ç‚¹å¨˜',
    'çº¯ç”„å®˜æ–¹': 'å°ç”„',
    'æ—ºæ—ºæ—ºä»”ä¿±ä¹éƒ¨': 'æ—ºä»”',
    'ç¾å•†æµ·ç›—èˆ¹CORSAIR': 'èˆ¹èˆ¹',
    'é˜¿å¿—-ä¸‰å›½å¿—æˆ˜ç•¥ç‰ˆ': 'é˜¿å¿—',
    'vçŒ«è¯ºv': 'çŒ«è¯º',
    'å¤§é¹è´¨æ£€å‘˜': 'å¤§é¹',
    'æ°´æœˆé›¨Moondrop': 'é˜¿æ°´',
    'SONGXè€³æœº': 'å°X',
    'åˆ˜åº¸å¹²å‡€åˆå«ç”Ÿ': 'åº¸å­',
    'æ²ƒéš†åšæœ': 'å°éš†äºº',
    'æŒé˜…iReaderå®˜æ–¹è´¦å·': 'å°é˜…é˜…',
    'å¥¥è¿ªåŒé’»AULDEY': 'é’»é’»',
    'å‹å‘': 'å‘å“¥',
    'Wacomå’Œå† ': 'å°Wa',
    'KIOXIAé“ ä¾ ä¸­å›½': 'é“ ä¾ ',
    'iKFè“ç‰™è€³æœº': 'iæ€»',
    'æ­å·è”é€š': 'æ­å­',
    'å¤§åå­˜å‚¨': 'åå¦¹',
    'å°ç”µç§‘æŠ€TECLAST': 'å°å°',
    'Ulanziä¼˜ç¯®å­': 'ç¯®ç¯®å­',
    'éƒ½å¸‚æ—¶æŠ¥å®˜æ–¹': 'å°éƒ½',
    'å·´å£«ç®¡å®¶': 'å°å·´',
    'æ–—é±¼ç›´æ’­': 'é²¨é±¼å¨˜',
    'æ¥ä¼Šä»½': 'ä¼Šä»”',
    'å­å½¦å¨±ä¹': 'å­å½¦å›',
    'LETSHUOERé“„è€³': 'é“„è€³å›',
    'BANPRESTO': 'çœ¼ç›å‚',
    'æ˜åŸºä¸“ä¸šæ‘„å½±æ˜¾ç¤ºå™¨': 'æ˜åŸº',
    'MAXSUNé“­ç‘„': 'å¸®ä¸»',
    'æ«ç¬›Saramonic': 'å°ç¬›',
    'é«˜æ¼«æ‰‹ç»˜æ¿': 'é«˜æ¼«',
    'å“”å“©å“”å“©å¹¿å‘Šå¨˜': 'å¹¿å‘Šå¨˜',
    'é…’æ‹¾çƒ¤è‚‰': 'å°é…’',
    'æ©™å…‰å®˜æ–¹': 'æ©™å¨˜',
    'å±ˆè‡£æ°ä¸­å›½': 'å°å±ˆ',
    'T3å‡ºè¡Œ': 'Té…±',
    'èŠ™æ¸…å¯†é’¥å®˜æ–¹è´¦å·': 'å°å¯†é’¥',
    'èºéœ¸ç‹': 'èºéœ¸éœ¸',
    'éå†…è¡£å®˜æ–¹è´¦å·': 'å°é',
    'bilibiliGoods': 'è°·å­å¨˜',
    'æ–½å¾·æ¥¼STAEDTLER': 'æ¥¼æ¥¼',
    'åå…­èƒ': 'èƒèƒ',
    'è°·ç²’å¤šé¼“åŠ±': 'å°è°·',
    'è€ä¹¡é¸¡': 'BBé¸¡',
    'ç¾çš„æ–™ç†çˆ†æ–™å±€': 'å°æ–™',
    'KOORUIç§‘ç¿å®˜æ–¹UP': 'ç§‘ç¿',
    'ä¹å·é£ç¥DeepCool': 'ä¹å·é£ç¥',
    'å‘¨é»‘é¸­': 'é¸­é¸­',
    'æ–¯å¡”å…‹3000': 'å°å¡”',
    'åº”ç”¨å®': 'å®å¦¹',
    'å“ˆå¼—HAVAL': 'å°å“ˆ',
    'å°ç±³æœ‰å“': 'æœ‰å“',
    'æ´¾ä¹æ±‰å ¡': 'ä¹ä¹å­',
    'å‰ç¨‹æ— å¿§å®˜æ–¹': 'uu',
    'ä¸­å›½ç”µä¿¡è¥ä¸šå…å®˜æ–¹': 'Aæ˜Ÿ',
    'åå®‡ä¸‡ç»´': 'ç»´ç»´',
    'èšåˆ’ç®—': 'ç« é±¼å¨˜',
    'é‡‘å…¸SATINE': 'å…¸å…¸å­',
    'ç½—é©¬ä»•å®˜æ–¹å·': 'ç½—å®',
    'è™¹é¢†é‡‘å®˜æ–¹è´¦å·': 'å°é‡‘',
    'æ ¼å…°ä»•å®˜æ–¹è´¦å·': 'å°æ ¼',
    'Mlilyæ¢¦ç™¾åˆåºŠå«': 'ä»™å­',
    'Defenseå†³è‰²å°å½©å£³': 'æ˜Ÿæ˜Ÿ',
    'éªéª‘ç”µç«æ¤…': 'å°éª‘',
    'å°å¸Œå°æ¡ƒChannel': 'å°å¸Œå°æ¡ƒ',
    'Thermalrightå®˜æ–¹è´¦å·': 'åˆ©æ°‘',
    'æ¼«ç»˜æ–°é£': 'æ¼«ç»˜',
    'ç‹è€…è£è€€': 'è€äºšç‘Ÿ',
    'COGIé«˜å§¿': 'å°é«˜é«˜',
    'AIMERçˆ±æ…•å†…è¡£': 'å°æ…•',
    'äº”è±æ±½è½¦': 'å°äº”',
    'å¥‡å½±åŠ¨æ¼«å®˜æ–¹è´¦å·': 'å¥‡å½±åŠ¨æ¼«',
    'cdfä¸‰äºšå›½é™…å…ç¨åŸ': 'ä¸‰äºšå›½é™…å…ç¨åŸ',
    '-è¯„å¤´è®ºè¶³-': 'è¯„å¤´è®ºè¶³',
    'è”æƒ³æ‹¯æ•‘è€…å®˜æ–¹': 'è”æƒ³æ‹¯æ•‘è€…',
    'ç¡¬æ ¸çš„åŠä½›ä»™äºº': 'åŠfo',
    'SOUNDPEATS': 'Så›',
    'çˆ±æ•´æ´»çš„41å´½w': 'æ —å­',
    'å®‰æ…•å¸Œ': 'å®‰ä¸½',
    'iFashionåƒé€è¡£': 'å°åƒ',
    'æ­¦å“¥åˆ†äº«': 'æ­¦å“¥',
    'ç§»é€Ÿç§‘æŠ€': 'ç§»å®',
    'å“”å“©å“”å“©çº¿ä¸‹æ´»åŠ¨': 'çº¿ä¸‹å¨˜',
    'Xboxç›’å­å›': 'å’Œç›’å­å›',
    'APEX-TOYS': 'APEX',
    'iQOOæ‰‹æœº': 'iQOO',
    'ä¼˜åœ°æœºå™¨äºº': 'å°ä¼˜',
    'åˆ›ä¿¡å·¥ç¨‹å’¨è¯¢': 'åˆ›åˆ›',
    'æ­£å®—è½¬è½¬APP': 'è½¬è½¬',
    'æ¢¦æƒ³çš„é˜¿è‚¯è€å¸ˆ': 'é˜¿è‚¯è€å¸ˆ',
    'FreeCheckå…è´¹æŸ¥é‡': 'å°è®ºæ–‡',
    'å†°ç³–IO': 'å†°ç³–',
    'å°é¾™åç«é”…': 'å·¨é¾™',
    'çŒ´å­éŸ³æ‚¦å®˜æ–¹è´¦å·': 'çŒ´è€å¸ˆ',
    'è”æƒ³æœªæ¥æ¢ç§˜å±€': 'é˜¿young',
    'ä¸æ„§æ˜¯è‰¯å“é“ºå­': 'è‰¯è€æ¿',
    'èŠæ´›æ´›å®˜æ–¹': 'å°èŠéŸ³',
    'æ›¦å½¤Asuna': 'æ›¦å½¤',
    'å›§é¸½å®˜æ–¹è´¦å·': 'å›§é¸½',
    'å¦–èˆ_YOWU': 'å¦–èˆå°å§å§',
    'æ·˜èœèœçœŸçš„èœ': 'èœèœ',
    'åŒ—äº¬ç§»åŠ¨å®˜æ–¹': 'å°ç§»é…±',
    'çš‡å®¶åŠ å‹’æ¯”æ¸¸è½®': 'æ¯”æ¯”',
    'CFORCEå“ç‰Œ': 'CFORCE',
    'GANç”µè„‘å®éªŒå®¤': 'è€GAN',
    'æ¬§è±é›…ç”·å£«å®˜æ–¹': 'å°é›…',
    'ç¦æ˜•æ•™è‚²': 'å°ç¦ç‹¸',
    'ä½‘ç¾': 'ä½‘ç¾å›',
    'ç²¾èƒè‡ªç„¶': 'å°ç„¶',
    'å¨ƒå“ˆå“ˆ': 'å¨ƒå¨ƒå­',
    'å…ƒæ°”æ£®æ—': 'æ—å­',
    'ACTOYSå®˜æ–¹è´¦å·': 'ACTOYS',
    'COMICAç§‘å”›': 'å°å”›',
    'æ¾³ä¹ä¹³': 'ä¹ä¹',
    'æµ¦ç§‘ç‰¹Plextor': 'æµ¦ç§‘ç‰¹',
    'é™†é‡‘æ‰€å®˜æ–¹è´¦å·': 'æ‰€é•¿',
    'æ¾ä¸‹panasonic': 'æ¾æ¾å­',
    'çµåŠ¨åˆ›æƒ³å®˜æ–¹': 'é˜¿åŠ¨',
    'ç¦¾å·å…´ç§‘æŠ€': 'æ‘¸é±¼å·',
    'æµ·ä¿¡å®˜æ–¹': 'å“ˆåˆ©',
    'å¤¸å…‹_Quark': 'å¤¸å½',
    'å°¼åº·è¶£å‘ç°': 'å°¼åº·',
    'å¾®æ˜ŸGAMING': 'å°çº¢é¾™',
    'å¤©ç¾æ„åˆ¶é‹å‚': 'ç¾é…±',
    'æ°´çš„åˆå”±': 'æ°´å”',
    'Padmateæ´¾ç¾ç‰¹': 'æ´¾æ´¾',
    'æ˜æœˆé•œç‰‡è®¤è¯†ä¸‹': 'æ˜æœˆé•œç‰‡',
    'åº”å±Šç”Ÿæ±‚èŒç½‘': 'èŒå‰èŒ',
    '-é›·ç”µæ¨¡æ‹Ÿå™¨-': 'é›·ç”µæ¨¡æ‹Ÿå™¨',
    'HFP': 'Homeå¦¹',
    'wellymerckå¨åˆ©é»˜å…‹': 'å¨å®',
    'é™ˆä¸ä¹REACTION': 'ä¸ä¹',
    'æ°å£«é‚¦jissbon': 'JJ',
    'æ‡‚ä½ çš„TCL': 'Tå“¥',
    'èŒç¾½moeyu': 'èŒç¾½',
    'å¤ªäºŒé…¸èœé±¼': 'å°äºŒå“¥',
    'å¤šå¤šè§†é¢‘ä¸æ­£ç»å®˜æ–¹': 'å¤šå¤š',
    'å¹¸è¿çŸ³å®˜æ–¹': 'è€çŸ³',
    'åœ¨ä¸‹é’Ÿè–›é«˜': 'é«˜é«˜',
    'TTCæ­£ç‰Œç§‘ç”µ': 'TTC',
    'å–œæ¬¢å°±ä¹°JustBuy': 'æ®µæ€»',
    '3DMæ¸¸æˆç½‘å®˜æ–¹': 'ä¸‰å¤§å¦ˆ',
    'å¾—åŠ›é›†å›¢': 'åŠ›åŠ›',
    'å“ˆå•°å‡ºè¡Œ': 'å°å“ˆ',
    'RAPOOé›·æŸ': 'é›·æŸ',
    'çŒ«è€³FM': 'Må¨˜',
    'é‡‘å±±æ–‡æ¡£': 'é‡‘å°ç´',
    'Bio-E': 'å°E',
    'èŠ™æ¸…FulQun': 'å°èŠ™',
    'ä¹å·å…¬å¸': 'ä¹å·',
    'AutoFullå‚²é£ç”µç«æ¤…': 'æ¤…å­ç²¾',
    'ROGç©å®¶å›½åº¦å®˜æ–¹UP': 'å°R',
    'æ¼«åº“Mancool': 'åº“ä»”',
    'ä¼˜é…¸ä¹³': 'å°ä¼˜',
    'äº”è°·é“åœºå®˜æ–¹è´¦å·': 'é˜¿è°·',
    'ç»¿æºç”µåŠ¨è½¦å®˜': 'å°ç»¿',
    'æ€è°‹ç§‘æŠ€': 'æ€å°è°‹',
    'é›·è›‡ç©å®¶æ®¿å ‚': 'é›·è›‡',
    'è˜‘è‡è¡—å®˜æ–¹': 'è˜‘è‡é…±',
    'è…¾è®¯å«å£«å®˜æ–¹å¸å·': 'é¹…æ¢é•¿',
    'å¤ªå¤ªä¹é²œå‘³å¨æˆ¿': 'å¤ªå¤ªä¹',
    'inphicè‹±è²å…‹': 'å°è‹±',
    'å½±é©°ç§‘æŠ€': 'å½±é©°',
    'å¼‚èƒ½è€…å®˜æ–¹': 'å°å¼‚',
    'å°é¹æ±½è½¦çš„å°P': 'å°P',
    'URBANREVIVO': 'Una',
    'æ™¨å…‰æ–‡åˆ›ç ”ç©¶ç¤¾': 'ç¤¾é•¿',
    'æ½®ç©å®¢': 'å¥å“¥',
    '352å‡€æ°´å™¨': 'é˜¿å‡€',
    'ZMIç´«ç±³': 'å°ç´«',
    'Redmiçº¢ç±³æ‰‹æœº': 'çº¢ç±³',
    'æ‹›å•†é“¶è¡Œä¿¡ç”¨å¡': 'å°æ‹›å–µ',
    'åæ“ç§‘æŠ€_ASRock': 'çš®çš®æ“',
    'è¾¾å¢¨Topmore': 'è¾¾å¢¨',
    'å’Œå¹³ç²¾è‹±': 'é¸¡ä»”',
    'æ…•è¯¾ç½‘å®˜æ–¹è´¦å·': 'è€æ…•',
    'æ°§æ°”è¯­éŸ³': 'å°é²¸é±¼',
    'HUIONç»˜ç‹': 'å°ç»˜',
    'ç å³°å‡¯è¶Šæœºè½¦': 'å°å‡¯',
    'ç½‘æ˜“æ¸¸æˆå¥‡é‡': 'èšŒèšŒ',
    'è£…æœºå°æ½˜è¥¿': 'é¦¨é¦¨',
    'åˆç”»æ•™è‚²': 'åˆé…±',
    'æ²ƒå°”ç›Official': 'äºŒå¦ˆ',
    'è‹±ç‰¹å°”æ¸¸æˆ': 'ä¸ƒä¸ƒ',
    'AMDä¸­å›½': 'AMD',
    'é¹…å‚ç¨‹åºå‘˜': 'çŒ¿çŒ¿',
    'å°Šå®¢è“ç‰™è€³æœº': 'å°Šå®¢',
    'MSIå¾®æ˜Ÿæ˜¾å¡å®˜æ–¹è´¦å·': 'é¾™å¦¹',
    'Mideaæ¨ç†ç¤¾': 'æ¨ç†ç¤¾',
    'è„±æ¯›ç‹—åˆ˜è€æ¿': 'åˆ˜è€æ¿',
    'é€†æˆ˜': 'å®‰çªå„¿',
    'é‡Œä¸–ç•Œçš„ç›¸å®œæœ¬è‰é“º': 'é˜¿ç›¸',
    'ä¸­å›½ç”µä¿¡é‡åº†å…¬å¸': 'å°ä¿¡',
    'éº»è¾£ç‹å­MLWZ': 'éº»è¾£ç‹å­',
    'ç«ç»’å®‰å…¨å®éªŒå®¤': 'ç»’ç»’',
    'æ‰æœSonkwo': 'æ‰æœå¨˜',
    'æ¾³æŸ¯ç›å®˜æ–¹è´¦å·': 'å°æ¾³',
    'æˆ˜åŒå¸•å¼¥ä»€': 'åŒå®',
    '360ç²‰ä¸å›¢': 'å›¢å›¢',
    'é™•è¥¿ä¸­å…¬æ•™è‚²': 'é˜¿ä¸­',
    'ç½‘æ˜“MuMu-Mué…±': 'Mué…±',
    'å°–å«SCREAM': "å°–å«",
    'å“ç›æ³‰': 'å“ç›',
    'å“”å“©å“”å“©å¤§ä¼šå‘˜': 'å¤§å­¦é•¿',
    'HEYTEAå–œèŒ¶': 'å–œèŒ¶',
    'æ°´æ˜Ÿå®¶çººç”µå•†': 'å°æ°´æ˜Ÿ',
    'ä¸‰äº”äºŒå‡€åŒ–å§¬': 'é˜¿å‡€',
    'æ±½è½¦ä¹‹å®¶åŸåˆ›': 'å®¶å®¶',
    'LEVEL8åœ°å¹³çº¿8å·': 'å°å…«',
    'é—ªé­”SmartDevil': 'é­”é­”',
    'Insta360': 'å°å½±',
    'ç¾šé‚¦åŠ¨æ¼«': 'é‚¦é‚¦',
    'å®å‘è‚¡ä»½': 'å‘å‘',
    'ç”µå·¢': 'é˜¿å·¢',
    'KLOOKå®¢è·¯': 'KK',
    'å¤§ç™½å«æµ´': 'å¤§ç™½',
    'å‰æ¯”ç‰¹æ¸¸æˆ': 'å°G',
    'ZEROZONEæ³½æ´›': 'é˜¿Z',
    'è‡ªç„¶å ‚': 'å ‚ä¸»',
    'æ¢…è§é’æ¢…é…’': 'å°æ¢…å­',
    'æ¯”äºšè¿ªæ±½è½¦': 'å°è¿ª',
    'GAOKINMOTOé«˜é‡‘åŠ¨åŠ›': 'é˜¿é‡‘',
    'èˆœåä¸´æ­¦é¸­': 'é¸­é¸­',
    'é›ªä½›å…°å®˜æ–¹è´¦å·': 'å°é›ª',
    'æ‘©ç™»ä»•è“ç‰™è€³æœº': 'å°æ‘©',
    'é˜¿ç‰¹å¼ˆè€³è“ç‰™è€³æœº': 'é˜¿ç‰¹',
    'ç½‘æ˜“UUåŠ é€Ÿå™¨å®˜æ–¹': 'UUå¦¹',
    'åŒ—æµ·ç‰§åœºå®˜æ–¹è´¦å·': 'å°åŒ—',
    'è„‰åŠ¨é©»å°ç ´ç«™åŠäº‹å¤„': 'å°è„‰',
    'è‹å®æ˜“è´­æ‰‹æœºç”µè„‘': 'è‹è‹',
    'SoleusAirèˆ’ä¹æ°': 'å°èˆ’',
    'ç½—é’ˆç›˜': 'å…°å…°',
    'åŒ—äº¬è”é€šå®˜æ–¹è´¦å·': 'åŒ—åŒ—',
    'æ‹›å•†é“¶è¡Œå®˜æ–¹è´¦å·': 'å°æ‹›æ‹›',
    'ä¸‰æ˜Ÿç›–ä¹ä¸–æ‰‹æœº': 'å°æ˜Ÿ',
    'å“ˆè¶£æŠ•å½±': 'å°å“ˆ',
    'ç¾çš„æ™ºæ…§å®¶': 'å°ç¾',
    'ç¾¤æ ¸ç§‘æŠ€æ‹›è˜å°åŠ©ç†': 'å°åŠ©ç†',
    'è‡­å®èºè›³ç²‰': 'è‡­å®',
    'è‚²ç¢§ä¸­å›½Ubisoft': 'é˜¿è‚²',
    'æ¯”è‹›ç”µæ± ': 'å°è‹›',
    'å¤§å®¶çš„éŸ³ä¹å§¬': 'éŸ³ä¹å§¬',
    'å“”å“©å“”å“©ä¼šå‘˜è´­': 'ä¼šå‘˜è´­',
    'æ¦„èŠå®˜æ–¹': 'æ¦„èŠ',
    'æ¢µéŸ³ç‘œä¼½å®˜æ–¹è´¦å·': 'æ¢µéŸ³ç‘œä¼½',
    'å‰åˆ©æ‹›è˜': '66ç†Š',
    'ç”Ÿæ­»ç‹™å‡»2å®˜æ–¹': 'é…±é…±',
    'æ™ºè¡Œç«è½¦ç¥¨å®˜æ–¹è´¦å·': 'ç¥¨å§',
    'Ankerä¸­å›½': 'å®‰Sir',
    'å¢¨å°†BIGBIG-WONå®˜æ–¹è´¦å·': 'å°å¢¨',
    'é£åˆ©æµ¦å®¶ç”µå®˜æ–¹': 'é£åˆ©æµ¦å®¶ç”µ',
    'ç¦ç‰¹ä¸­å›½': 'ç¦ç‰¹',
    'å…ƒæ°”æ¡Œé¢å®˜æ–¹å·': 'å…ƒæ°”å–µ',
    'äº”ç¯è§‚å¯Ÿå®¤': 'å°è§‚',
    'aigoå›½æ°‘å¥½ç‰©': 'å°a',
    'machenikeæœºæ¢°å¸ˆ': 'æœºæ¢°å¸ˆ',
    'BOYAå£°å­¦': 'å°é›…',
    'Ankerå®‰å…‹_': 'å®‰å…‹',
    'é²å¤§å¸ˆå®˜æ–¹': 'å°é²',
    'è”æƒ³YOGAå’Œå°æ–°å®˜æ–¹': 'YOGAå’Œå°æ–°',
    'è…¾è®¯æ‹›è˜': 'è˜å­',
    'è‰¾è‚¯ç”µå­ç§‘æŠ€': 'è‰¾è‚¯',
    'ç¾çš„': 'Måš',
    'ä¸€åŠ æ‰‹æœº': 'åŠ å“¥',
    'realmeçœŸæˆ‘æ‰‹æœº': 'realme',
    'å‘³å¯æ»‹': 'vv',
    'åˆå¤©ç½‘å®‰å®éªŒå®¤': 'å°åˆ',
    'ä¸€åªå®å¦¹': 'å®å¦¹',
    'å¤§é‡‘ç©ºè°ƒä¸­å›½': 'å¤§é‡‘',
    'Sapphireè“å®ç§‘æŠ€': 'è“å®çŸ³',
    'ä¸€åªå•Šå™—å–µ': 'å•Šå™—',
    'å¥ˆé›ªçš„èŒ¶': 'å¥ˆé›ª',
    'NVIDIAè‹±ä¼Ÿè¾¾å®˜æ–¹è´¦å·': 'è‹±ä¼Ÿè¾¾',
    'Varmiloé˜¿ç±³æ´›': 'é˜¿ç±³æ´›',
    'é»‘å³¡è°·': 'å°è°·',
    'è½»è‚´CHEAYO': 'è‚´è‚´',
    'é…·æ¯”é­”æ–¹å®˜æ–¹è´¦å·': 'é…·æ¯”é­”æ–¹',
    'ä¸‡ä»£å—æ¢¦å®«ä¸­å›½': 'å°å—',
    'éª¨ä¼½COUGARä¸­å›½': 'éª¨ä¼½',
    'é“¶æ¬£SilverStoneå®˜æ–¹': 'é“¶æ¬£',
    'Razeré›·è›‡': 'é›·è›‡',
    'ç¦¾å›ç¡•è¡Œ': 'å°ç¦¾',
    'å“”å“©å“”å“©æ¼«ç”»': 'æ¼«ç”»å§¬',
    'åˆ›ä¿¡æ•™è‚²': 'å°åˆ›',
    'äº¿ç èšåˆ': 'äº¿ç ',
    'æ–¯æ³°å¾—ä¹StadlerForm': 'å¾—ä¹å­',
    'å¤ªå¹³æ´‹æ±½è½¦APP': 'å°æ±½è½¦',
    'MasterGoäº§å“è®¾è®¡å·¥å…·': 'MasterGo',
    'äº”èŠ³æ–‹1921': 'é˜¿æ–‹',
    'Datalandè¿ªå…°æ˜¾å¡': 'è¿ªå…°',
    'Segotepé‘«è°·': 'å°é‘«',
    'ç»¿æºç”µåŠ¨è½¦å®˜æ–¹': 'å°ç»¿',
    'AORUSæŠ€å˜‰ç”µç«': 'é›•å¦¹',
    '78åŠ¨æ¼«ç½‘': '78åŠ¨æ¼«',
    'å‡¯åç”µå­': 'å‡¯å',
    'AIåº¦æ™“æ™“': 'æ™“æ™“',
    'BDuckå°±æ˜¯å°é»„é¸­': 'å°é»„é¸­',
    'åˆ«å…‹': 'å°å…‹',
    'Pico-VRå®˜æ–¹': 'Picoå¦¹',
    'PHILIPSæ˜¾ç¤ºå™¨': 'PHILIPSå°ç¼–',
    'çŒè˜app': 'å°çŒ',
    'äººç±»å¿«ä¹': 'å¤šå¤š',
    'ç¾æœ¯å®è‰ºè€ƒ': 'ç¾å®',
    'Nanoleafå®˜æ–¹': 'Nanoleaf',
    'ä¸­å›½é‡‘å¸': 'å°é‡‘',
    'AGONçˆ±æ”»ç”µç«å®˜æ–¹': 'çˆ±æ”»',
    'ç¾å›¢ä¹°èœ': 'å°èœ',
    'Darmosharkå®˜æ–¹è´¦å·': 'Darmoshark',
    'ç´¢å°¼ä¸­å›½': 'é˜¿ç´¢',
    'AJAZZé»‘çˆµå¤–è®¾': 'å°é»‘',
    'çˆ±ç›ç”µåŠ¨è½¦å®˜æ–¹è´¦å·': 'çˆ±ç›',
    'å®ä¸½æ¥Polaroid': 'å°å®',
    'TCL': 'Tå“¥',

}

# å™«ï¼å¥½ï¼æˆ‘ä¸­äº†ï¼
kongpinglun = 'â¡'


class methods:
    def __init__(self):
        self.requests_with_proxy = request_with_proxy.request_with_proxy()
        self.copy_suffix = ['']  # å¤åˆ¶åç¼€
        self.changyongemo = ['doge', 'è„±å•doge', 'å¦™å•Š', 'åƒç“œ', 'tv_doge', 'è—ç‹', 'åŸç¥_å“‡', 'åŸç¥_å“¼', 'åŸç¥_å—¯',
                             'åŸç¥_æ¬¸å˜¿', 'åŸç¥_å–èŒ¶']  # å¸¸ç”¨çš„è¡¨æƒ…åŒ…
        self.at_member = ['_å¤§é”¦é²¤_', 'é™ˆç¿', 'å“”å“©å“”å“©å¤§ä¼šå‘˜', 'å“”å“©å“”å“©ä¼šå‘˜è´­']
        self.username = ''  # è‡ªå·±è´¦å·çš„åå­—ï¼Œé»˜è®¤ä¸ºç©º
        self.caihongpi_chance = 0  # å¯¹å®˜æ–¹ä½¿ç”¨å½©è™¹å±çš„æ¦‚ç‡ï¼Œæ•°å­—è¶Šå¤§ï¼Œå½©è™¹å±é¢‘ç‡è¶Šé«˜
        self.repostchance = 0.5  # è½¬å‘åŠ¨æ€æ—¶ï¼Œè½¬å‘å†…å®¹ä¸ºè¯„è®ºå†…å®¹çš„å‡ ç‡
        self.pinglunzhuanbiancishu = 5  # è·å–è¯„è®ºæ—¶å¤±è´¥é‡æ–°å°è¯•çš„æ¬¡æ•°
        self.chance_shangjiayingguang = 0  # éšæœºæŒ‘çº¿è‡ªå®šä¹‰å•†å®¶å¹¿å‘Šå›å¤è¯çš„æ¦‚ç‡
        self.chance_copy_comment = 0  # æŠ„è¯„è®ºçš„æ¦‚ç‡
        self.range_copy_comment = 1  # æŠ„è¯„è®ºçš„é•¿åº¦åœ¨20æ¡è¯„è®ºè¯„å‡é•¿åº¦çš„æ¯”ç‡ï¼Œæ•°å­—è¶Šå¤§ï¼ŒæŠ„çš„è¯„è®ºè¶Šé•¿
        self.non_official_chp_chance = 0  # å¯¹éå®˜æ–¹ä½¿ç”¨cphè¯„è®ºçš„æ¦‚ç‡
        self.sleeptime = numpy.linspace(1, 3, 500, endpoint=False)
        self.replycontent = ['[åŸç¥_æ¬¸å˜¿]', '[åŸç¥_å–èŒ¶]', 'å¥½è€¶', 'æ¥äº†', 'å†²é¸­', 'æ¥äº†æ¥äº†', 'å†²',
                             '[åŸç¥_å“¼]', '[åŸç¥_å—¯][åŸç¥_å“‡][åŸç¥_å“¼]', '[åŸç¥_å“‡][åŸç¥_å“¼]', '[åŸç¥_å“‡]',
                             'ä¸‡ä¸€å‘¢', '[æ­ªå˜´][æ­ªå˜´]', '[doge]', '[è„±å•doge][è„±å•doge]', '[è„±å•doge]', 'ç‰›', '[è„¸çº¢]',
                             '[é¼“æŒ]']  # é»˜è®¤å›å¤å†…å®¹
        self.dianzanshibai = list()
        self.zhuanfashibai = list()
        self.pinglunshibai = list()
        self.guanzhushibai = list()
        self.official_caihongpilist = [  # å®˜æ–¹å›å¤å†…å®¹
            # 'è€æ¿è¶…çº§å¤§æ°”å–µ[æ°¸é›å¡”è²_å˜»å˜»å–µ][æ°¸é›å¡”è²_å¥½çƒ­]éå¸¸æ„Ÿè°¢è€æ¿å–µ[æ°¸é›å¡”è²_æ˜Ÿæ˜Ÿçœ¼][æ°¸é›å¡”è²_å“ˆå“ˆå“ˆ]@{1} çš„è¯„è®ºå–µ',
            # 'è€æ¿è¶…çº§å¤§æ°”å–µ[æ°¸é›å¡”è²_å¥½çƒ­][æ°¸é›å¡”è²_å˜»å˜»å–µ]éå¸¸æ„Ÿè°¢è€æ¿å–µ[æ°¸é›å¡”è²_å“ˆå“ˆå“ˆ][æ°¸é›å¡”è²_æ˜Ÿæ˜Ÿçœ¼]@{1} çš„è¯„è®ºå–µ',
            # 'è€æ¿è¶…çº§å¤§æ°”å–µ[æ°¸é›å¡”è²_ä»¤äººå…´å¥‹][æ°¸é›å¡”è²_å¥½çƒ­]éå¸¸æ„Ÿè°¢è€æ¿å–µ[æ°¸é›å¡”è²_äº²å˜´][æ°¸é›å¡”è²_å˜»å˜»å–µ]@{1} çš„è¯„è®ºå–µ',
            'è€æ¿è¶…çº§å¤§æ°”å–µ[æ°¸é›å¡”è²_å˜»å˜»å–µ][æ°¸é›å¡”è²_å¥½çƒ­]éå¸¸æ„Ÿè°¢è€æ¿å–µ[æ°¸é›å¡”è²_æ˜Ÿæ˜Ÿçœ¼][æ°¸é›å¡”è²_å“ˆå“ˆå“ˆ]',
            'è€æ¿è¶…çº§å¤§æ°”å–µ[æ°¸é›å¡”è²_å¥½çƒ­][æ°¸é›å¡”è²_å˜»å˜»å–µ]éå¸¸æ„Ÿè°¢è€æ¿å–µ[æ°¸é›å¡”è²_å“ˆå“ˆå“ˆ][æ°¸é›å¡”è²_æ˜Ÿæ˜Ÿçœ¼]',
            'è€æ¿è¶…çº§å¤§æ°”å–µ[æ°¸é›å¡”è²_ä»¤äººå…´å¥‹][æ°¸é›å¡”è²_å¥½çƒ­]éå¸¸æ„Ÿè°¢è€æ¿å–µ[æ°¸é›å¡”è²_äº²å˜´][æ°¸é›å¡”è²_å˜»å˜»å–µ]',
            # 'è€æ¿è¶…çº§å¤§æ°”å–µ[æœªæ¥æœ‰ä½ _æ‰“call][æ°¸é›å¡”è²_å¥½çƒ­]éå¸¸æ„Ÿè°¢è€æ¿å–µ[æœªæ¥æœ‰ä½ _èµ°èŠ±è·¯][æ°¸é›å¡”è²_å“ˆå“ˆå“ˆ]',
            # 'è€æ¿è¶…çº§å¤§æ°”å–µ[æœªæ¥æœ‰ä½ _å¥½è€¶][æ°¸é›å¡”è²_å˜»å˜»å–µ]éå¸¸æ„Ÿè°¢è€æ¿å–µ[æœªæ¥æœ‰ä½ _çƒ­æƒ…][æ°¸é›å¡”è²_æ˜Ÿæ˜Ÿçœ¼]',
            # 'è€æ¿è¶…çº§å¤§æ°”å–µ[æ°¸é›å¡”è²_ä»¤äººå…´å¥‹][æœªæ¥æœ‰ä½ _æ‰“call]éå¸¸æ„Ÿè°¢è€æ¿å–µ[æ°¸é›å¡”è²_äº²å˜´][æœªæ¥æœ‰ä½ _å¥½è€¶]',
            # # '@{1} ç¥{0}ç²‰ä¸è¶Šæ¥è¶Šå¤šï¼',
            # # '@{1} ç¥{0}ç²‰ä¸è¶Šæ¥è¶Šå¤šï¼Œäººæ°”è¶Šæ¥è¶Šæ—º[çƒ­è¯ç³»åˆ—_å¥½è€¶]',
            # '\n{0}çš„å® ç²‰ç¦åˆ©å¥½è€¶[æœªæ¥æœ‰ä½ _ç™»åœº]\nè¢«æˆ³ä¸­äº†â€¦â€¦å¿ƒå·´ï¼n(*â‰§â–½â‰¦*)n[æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ]\n',
            # '\nçˆ±äº†çˆ±äº†[æœªæ¥æœ‰ä½ _ç™»åœº]\n{0}ï¼Œä½ ï¼æ˜¯ï¼æˆ‘çš„ç¥ï¼ï¼ï¼[æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ]\n',
            # '\n{0}çœŸå® ç²‰[æœªæ¥æœ‰ä½ _ç™»åœº]\nç¥æ‰€æœ‰äººéƒ½æœ‰è¶…çº§ç¾å¥½çš„ä¸€å¤©ï¼ï¼ãƒ¾(â‰§âˆ‡â‰¦*)ã‚[æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ]\n',
            # '\nå“‡ï¼Œæ˜¯{0}çš„å® ç²‰æŠ½å¥–[æœªæ¥æœ‰ä½ _ç™»åœº]\nä½ æ˜¯~æˆ‘ï¼çš„ï¼ç¥ï¼[æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ]\n',
            # '\n{0}çš„å® ç²‰æŠ½å¥–[æœªæ¥æœ‰ä½ _ç™»åœº]\nä½ æ˜¯~æˆ‘ï¼çš„ï¼ç¥ï¼[æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ]\n',
            # # '\n{0}è¶…å® ç²‰çš„er[æœªæ¥æœ‰ä½ _ç™»åœº]\n{1}ç¥{0}ä¸‰é˜³å¼€æ³°ï¼Œå››å­£å®‰åº·[æœªæ¥æœ‰ä½ _èµ°èŠ±è·¯]\næœ€é‡è¦çš„æ˜¯ç²‰ä¸è¶Šæ¥è¶Šå¤š[æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ]\n',
            # '\næ„Ÿè°¢{0}çš„å® ç²‰æŠ½å¥–[æœªæ¥æœ‰ä½ _æ‰“call]\nå¬æˆ‘è¯´ğŸ‘‚ğŸ‘‚ğŸ‘‚è°¢è°¢ä½ ğŸ™ğŸ™ğŸ™å› ä¸ºæœ‰ä½ ğŸ‘‰ğŸ‘‰ğŸ‘‰æ¸©æš–äº†å››å­£ğŸŒˆğŸŒˆğŸŒˆ\n',
            # '\n{0}è¶…å® ç²‰çš„er[æœªæ¥æœ‰ä½ _æ‰“call]\nä½ æ˜¯~æˆ‘ï¼çš„ï¼ç¥ï¼[æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ]\n',
            # '\nå…³æ³¨{0}ï¼Œå¥½è¿æ¥ï¼æ¥ï¼æ¥ï¼æ°´é€†éœ‰è¿é€€ï¼é€€ï¼é€€ï¼[æœªæ¥æœ‰ä½ _æ‰“call]\n',
            # # 'æ„Ÿè°¢{0}çš„å® ç²‰ç¦åˆ©[çƒ­è¯ç³»åˆ—_å¯ä»¥][çƒ­è¯ç³»åˆ—_å¯ä»¥]\næ„¿ç²‰ä¸è¶Šæ¥è¶Šå¤š[çƒ­è¯ç³»åˆ—_ç§€][çƒ­è¯ç³»åˆ—_ç§€]\nç¥@{1} å¥½è¿æ¥[çƒ­è¯ç³»åˆ—_ä¿æŠ¤][çƒ­è¯ç³»åˆ—_ä¿æŠ¤]',
            # # 'å¥½è€¶ï¼Œå¸Œæœ›èƒ½è¢«å® ç²‰çš„{0}æŠ½åˆ°å‘€[è„±å•doge]\n',
            # # 'æ¥äº†æ¥äº†ï¼Œæ¥æ”¯æŒ{0}äº†[æ‰“call]\n',
            # # 'æ¥äº†æ¥äº†ï¼Œå¸Œæœ›èƒ½è¢«å® ç²‰çš„{0}æŠ½åˆ°[è„±å•doge]',
            # # 'æ¥äº†æ¥äº†ï¼Œå¸Œæœ›èƒ½è¢«å® ç²‰çš„{0}æŠ½åˆ°å‘€[è„±å•doge]\n',
            # '\næ¥äº†æ¥äº†ï¼Œ{0}çœŸå® ç²‰ï¼Œå¸Œæœ›èƒ½è¢«æŠ½åˆ°å‘€[æœªæ¥æœ‰ä½ _é…¸äº†][æœªæ¥æœ‰ä½ _é…¸äº†]\n',
            # '\n{0}è¶…å® ç²‰ï¼ŒæƒŠå–œä¸æ–­ï¼Œå¥½è¿å¸¸ä¼´[æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ][æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ]\n',
            # '\næ¥äº†æ¥äº†ï¼Œ{0}è¶…å® ç²‰çš„erï¼Œå¸Œæœ›èƒ½è¢«æŠ½åˆ°å‘€[æœªæ¥æœ‰ä½ _é…¸äº†][æœªæ¥æœ‰ä½ _é…¸äº†]\n',
            # '\n{0}å® ç²‰ç¦åˆ©å¤šï¼Œç‚¹ç‚¹å…³æ³¨ä¸è¿·è·¯[æœªæ¥æœ‰ä½ _æ‰“call][æœªæ¥æœ‰ä½ _æ‰“call]\nç¥å¤§å®¶æ¯å¤©æœ‰ä¸ªå¥½å¿ƒæƒ…o(â‰§vâ‰¦)o[æœªæ¥æœ‰ä½ _å¥½è€¶]\n',
            # '\nå¿ƒåŠ¨ä¸å¦‚è¡ŒåŠ¨ï¼Œå…³æ³¨{0}ï¼Œç¦åˆ©ä¸€ç›´æœ‰[æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ]\n',
            # '\nå…³æ³¨{0}ï¼Œæ¬§æ°”ä¸æ–­[æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ]\n',
            #
            # # 'æ”¯æŒ{0}ï¼Œç¥ä½ ä»¬çš„ç²‰ä¸è¶Šæ¥è¶Šå¤š[æ‰“call]äº§å“è¶Šå–è¶Šç«[ä¿å«èåœ_ç¬”èŠ¯]',
            # # 'æˆ‘å¯¹æ‚¨çš„çˆ±æ»”æ»”ä¸ç»[çƒ­è¯ç³»åˆ—_çˆ±äº†çˆ±äº†]\næˆ‘ä¼šå¤šå¤šæ”¯æŒæ‚¨çš„[çƒ­è¯ç³»åˆ—_ä»™äººæŒ‡è·¯]\nå¥½è€¶ï¼Œæ„Ÿè°¢{0}[çƒ­è¯ç³»åˆ—_å¦™å•Š]\n@{1} åœ¨è¿™é‡ŒçœŸè¯šçš„ç¥ç¦æ‚¨![çƒ­è¯ç³»åˆ—_å¤šè°¢æ¬¾å¾…]\nç¥æ‚¨ä¸‡äº‹æ— å¿§!ä¸‡äº‹é¡ºå¿ƒ![çƒ­è¯ç³»åˆ—_å¯ä»¥]\nå¸Œæœ›æ‚¨çš„ç²‰ä¸è¶Šæ¥è¶Šå¤š![çƒ­è¯ç³»åˆ—_å†æ¥äº¿é]',
            # # '@{1} åœ¨æ­¤ç¥ç¦[çƒ­è¯ç³»åˆ—_ä»™äººæŒ‡è·¯]\næ„¿{0}çš„ç²‰ä¸è¶Šæ¥è¶Šå¤š[çƒ­è¯ç³»åˆ—_å¥½è€¶]\nåœ¨bç«™è¶Šæ¥è¶Šå¥½[çƒ­è¯ç³»åˆ—_ç§€]',
            # # 'æ¥äº†æ¥äº†ï¼Œè°¢è°¢{0}çš„å® ç²‰ç¦åˆ©[è„±å•doge]\n',
            # # '{0}å¤ªå® ç²‰äº†ï¼Œé‡è§{0}ï¼Œæ˜¯æˆ‘æœ€å¤§çš„å¹¸è¿ï¼[æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ][æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ][æœªæ¥æœ‰ä½ _æœªæ¥æœ‰ä½ ]\n',
        ]  # ä¸ºäº†ä½ ğŸ˜¨ğŸ˜¨ğŸ˜¨æˆ‘å˜æˆç‹¼äººæ¨¡æ ·ğŸºğŸºğŸº\nä¸ºäº†ä½ ğŸ˜±ğŸ˜±ğŸ˜±æŸ“ä¸Šç–¯ç‹‚ğŸ¤¡ğŸ¤¡ğŸ¤¡\nä¸ºäº†ä½ ğŸ˜°ğŸ˜°ğŸ˜°ç©¿ä¸Šåšåšçš„ä¼ªè£…ğŸ‘¹ğŸ‘¹ğŸ‘¹\nä¸ºäº†ä½ ğŸ¤—ğŸ¤—ğŸ¤—æ¢äº†å¿ƒè‚ ğŸ’€ğŸ’€ğŸ’€\n
        self.non_official_chp = ['å¥½è€¶',
                                 'è®¸æ„¿',
                                 'ä¸‡ä¸€å‘¢',
                                 'å†²å†²å†²',
                                 'å†²é¸­',
                                 'å¥½è¿æ¥',
                                 'æ‹‰ä½ä¸­å¥–ç‡',
                                 ]
        self.shangjiayingguang = [  # 'æ°´ç‚¹è¯„è®ºï¼Œç‚¹ç‚¹èµï¼Œåˆä½œé‚£è¾¹é‚£å¥½äº¤ä»£[doge]',
            # 'å¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©ã€‚',
            # 'ä¹°äº†ä¸‰å°äº†ï¼Œè´¨é‡éå¸¸å¥½ï¼Œä¸å–å®¶æè¿°ä¸€è‡´ï¼Œå­©å­ä»¬éƒ½ç‰¹åˆ«å–œæ¬¢åƒï¼Œç‰ˆå‹å¾ˆå¥½ï¼Œé¢æ–™èˆ’é€‚ï¼Œå°ºç æ ‡å‡†ï¼Œä¸æ²¾æ¯æŒå¦†ä¹…ï¼Œå¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©ã€‚',
            # 'æ©˜è‰²ç³»æ›´åŠ æ˜¾ç™½ï¼Œæ´—å®Œä¹Ÿå¾ˆæŸ”é¡ºå¤´å‘ä¹Ÿä¸æ²¹äº†ï¼Œå±å¹•æ¸…æ™°è¿è¡Œæµç•…ï¼Œå¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©ã€‚',
            # 'æ•æ„Ÿè‚Œç”¨èµ·æ¥æ¯«æ— å‹åŠ›ï¼Œæ¡æ„Ÿèˆ’é€‚ä¸ä¼¤ç‰™é¾ˆï¼Œæ¯æ¬¡ç‚’èœéƒ½ä¼šæ”¾å‡ æ»´ï¼Œå¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©ã€‚',
            # 'UPå¤šå‘è¿™ç§å¹¿å‘Šï¼Œå¾ˆå®ç”¨è°¢è°¢',
            'è¿˜ä¸é”™ï¼Œä¹°äº†[doge]',
            # 'å·²ç»ä¹°äº†å‡ ä¸ªäº†ï¼Œç”¨èµ·æ¥è·ŸçœŸäººå·®ä¸å¤šï¼Œæ¨èå¤§å®¶ä¹Ÿå»ä¹°æ¥ç”¨[doge][doge][doge]',
            # 'ä¹°è¿‡è®¤ä¸ºå€¼ å¥½è¯„ï¼Œä¹°äº†ä¸‰å°äº†ï¼Œè´¨é‡éå¸¸å¥½ï¼Œä¸å–å®¶æè¿°ä¸€è‡´',
            # 'å­©å­ä»¬éƒ½ç‰¹åˆ«å–œæ¬¢åƒï¼Œç‰ˆå‹å¾ˆå¥½ï¼Œé¢æ–™èˆ’é€‚ï¼Œå°ºç æ ‡å‡†ã€‚å¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©ã€‚',
            # 'ä¸æ²¾æ¯æŒå¦†ä¹…ï¼Œå¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©ã€‚',
            # 'å±å¹•æ¸…æ™°è¿è¡Œæµç•…ï¼Œæ¯æ¬¡ç‚’èœéƒ½ä¼šæ”¾å‡ æ»´ï¼Œå¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©ã€‚',
            # 'è´§å¾ˆå¥½ ç‰©ç¾ä»·å»‰ å¿«é€’ä¹Ÿè¿…é€Ÿã€‚å¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©ã€‚',
            # 'å·²æŠ˜å å¯¹æ‚¨è´­ç‰©å‚è€ƒå¸®åŠ©ä¸å¤§çš„è¯„ä»·',
            # 'ä¹°äº†ä¸‰å°äº†ï¼Œè´¨é‡éå¸¸å¥½ï¼Œæ‹¬çº¦è‚Œä¹Ÿèƒ½ç”¨ï¼',
            # 'æ©˜è‰²ç³»æ›´åŠ æ˜¾ç™½ï¼Œå±å¹•æ¸…æ™°è¿è¡Œæµç•…ã€‚å¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©ã€‚',
            # 'æ¡æ„Ÿèˆ’é€‚ä¸ä¼¤ç‰™é¾ˆï¼Œæ¯æ¬¡ç‚’èœéƒ½ä¼šæ”¾å‡ æ»´ï¼Œç”¨èµ·æ¥å’ŒçœŸäººå·®ä¸å¤šï¼Œå¾ˆèˆ’æœã€‚å¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©ã€‚',
            # 'è¯¥ç”¨æˆ·æœªåšå‡ºè¯„ä»·ï¼Œç³»ç»Ÿå·²é»˜è®¤å¥½è¯„ï¼',
            # 'å·²æ”¶åˆ°è´§ã€‚è´¨é‡å¾ˆå¥½ï¼Œä¸æè¿°ä¸€è‡´ï¼Œå®Œå…¨è¶…å‡ºæœŸæœ›ï¼ŒåŒ…è£…ä»”ç»†ä¸¥å®ï¼Œæ€»çš„æ¥è¯´è¿™æ¬¡æ˜¯å¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©',
            # 'å­©å­å¾ˆå–œæ¬¢ï¼Œä¸ä¼¤ç‰™é¾ˆï¼Œä¸€å£æ°”ä¸Šäº”æ¥¼ï¼Œå¾ˆæ»¡æ„çš„ä¸€æ¬¡è´­ç‰©ã€‚',
            'å¥½å¥½å¥½',
            'æœªä¸‹å•æœŸå¾…æ”¶è´§[doge]',
            'å¾ˆå¥½åƒ[doge]',
        ]  # å•†å®¶ç¡¬å¹¿å›å¤è¯
        self.xiaoweiba = ['']  # '\n------------------\nä»¥ä¸Šæ˜¯æˆ‘æƒ³è¯´çš„ï¼Œä»¥ä¸‹æ˜¯ä¸ºäº†åŠ å­—æ•°è¿‡å®¡\n']
        self.xiaoweibawenan = ['',
                               # 'æŠ½å¥–3ä¸åŸåˆ™: \n1.ä»æ¥ä¸ç¼ºå¸­\n2.ä»æ¥ä¸ä¸­å¥–\n3.ä»æ¥ä¸æ”¾å¼ƒ[doge]\n',
                               # 'ä¸€ä¸ªèµ\nä¸€ä¸–æƒ…\nä¸€ä¸ªè½¬å‘\nè¿™ä¸ªä¸–ç•Œå°±ä¼šå°‘ä¸€ä¸ªä¼¤å¿ƒäºº~\n'
                               # 'æŠ½å¥–ç¦åˆ©æŒºå¥½çš„\nä½†æ˜¯æœ‰ç‚¹ç¼ºé™·\nç»™upæä¸‰ç‚¹å»ºè®®\n...\nå±•å¼€\n',
                               # 'ä¸€æ—¦æ¥å—äº†è‡ªå·±çš„è½¯å¼±ğŸ¶é‚£æˆ‘å°±æ˜¯ æ— æ•Œçš„ğŸµ\nå‘ç”Ÿä»€ä¹ˆäº‹äº†ğŸ”‰å‘ç”Ÿä»€ä¹ˆäº‹äº†ğŸ”‰å‘ç”Ÿä»€ä¹ˆäº‹äº†ğŸ”‰å‘ç”Ÿä»€ä¹ˆäº‹äº†ğŸ”‰å‘ç”Ÿä»€ä¹ˆäº‹äº†ğŸ”‰\nğŸ¶å‡â†“é¢â†‘éª‘â†‘å£«â†“ï½ï½ï½ğŸµ\nğŸ¶è´â†’è´â†’è´â†’è´â†—å¾·â†˜â†—ğŸ¶\n',
                               # 'ä¸€æ—¦åƒäº†é»„é‡‘è„†çš®é¸¡ğŸ¶é‚£æˆ‘å°±æ˜¯ æ— æ•Œçš„ğŸµ\nç–¯ç‹‚æ˜ŸæœŸå››äº†ğŸ”‰ç–¯ç‹‚æ˜ŸæœŸå››äº†ğŸ”‰ç–¯ç‹‚æ˜ŸæœŸå››äº†ğŸ”‰ç–¯ç‹‚æ˜ŸæœŸå››äº†ğŸ”‰ç–¯ç‹‚æ˜ŸæœŸå››äº†ğŸ”‰\nğŸ¶å‡â†“é¢â†‘éª‘â†‘å£«â†“ï½ï½ï½ğŸµ\nğŸ¶ç–¯â†’ç‹‚â†’æ˜Ÿâ†’æœŸâ†—å››â†˜â†—ğŸ¶\n',
                               # 'æœ¬äººæŠ½å¥–\nâ‘ ä»ä¸ç¼ºå¸­\nâ‘¡ä»ä¸ä¸­å¥–\nâ‘¢ä»ä¸æ”¾å¼ƒ',
                               # 'ç¬¬ä¸€ï¼šç»å¯¹ä¸ä¼šä¸Šå¤´\nç¬¬äºŒï¼šç»å¯¹ä¸ä¼šé”™è¿‡ä»»ä½•æŠ½å¥–\nç¬¬ä¸‰ï¼šç»å¯¹éåˆ°å–œé—»ä¹è§\néé…‹é˜Ÿé•¿å‰æ¥è§è§_(:3ã€âˆ )_',
                               # 'æ—¥å¸¸è™½ç„¶æŠ½ä¸åˆ°æˆ‘[è™å¹´]\nä½†æ˜¯æˆ‘è¿˜è¦å‚åŠ [2022]\næœŸå¾…ç€è¿™æ¬¡èƒ½è½¬ä¸€æ¬¡è¿[é”¦é²¤]'
                               ]
        self.None_nickname = list()
        self.hasemo = ['è—ç‹', 'doge', 'å¾®ç¬‘', 'OK', 'æ˜Ÿæ˜Ÿçœ¼', 'å¦™å•Š', 'è¾£çœ¼ç›', 'åƒç“œ', 'æ»‘ç¨½', 'å–œæ¬¢', 'å˜Ÿå˜Ÿ',
                       'ç»™å¿ƒå¿ƒ', 'ç¬‘å“­',
                       'è„±å•doge',
                       'å—‘ç“œå­', 'è°ƒçš®', 'æ­ªå˜´', 'æ‰“call', 'å‘²ç‰™', 'é…¸äº†', 'å“¦å‘¼', 'å«Œå¼ƒ', 'å¤§å“­', 'å®³ç¾', 'ç–‘æƒ‘',
                       'å–œæè€Œæ³£', 'å¥¸ç¬‘', 'ç¬‘', 'å·ç¬‘',
                       'ç‚¹èµ',
                       'æ— è¯­',
                       'æƒŠå–œ', 'å¤§ç¬‘', 'æŠ é¼»', 'å‘†', 'å›§', 'é˜´é™©', 'æ‚è„¸', 'æƒŠè®¶', 'é¼“æŒ', 'å°´å°¬', 'çµé­‚å‡ºçª', 'å§”å±ˆ',
                       'å‚²å¨‡', 'ç–¼', 'å†·', 'ç”Ÿç—…',
                       'å“',
                       'å',
                       'æ’‡å˜´', 'éš¾è¿‡', 'å¢¨é•œ', 'å¥‹æ–—', 'å“ˆæ¬ ', 'ç¿»ç™½çœ¼', 'å†è§', 'æ€è€ƒ', 'å˜˜å£°', 'æ‚çœ¼', 'æŠ“ç‹‚', 'ç”Ÿæ°”',
                       'å£ç½©', 'ç‰›å¹´', '2021',
                       'æ°´ç¨»',
                       'ç¦åˆ°äº†',
                       'é¸¡è…¿', 'é›ªèŠ±', 'è§†é¢‘å«æ˜Ÿ', 'æ‹¥æŠ±', 'æ”¯æŒ', 'ä¿ä½‘', 'å“æŒ‡', 'æŠ±æ‹³', 'åŠ æ²¹', 'èƒœåˆ©', 'é”¦é²¤',
                       'çˆ±å¿ƒ', 'å¹²æ¯', 'è·ªäº†', 'è·ªäº†',
                       'æ€ªæˆ‘å’¯',
                       'é»‘æ´',
                       'è€é¼ ', 'æ¥å¤-æ²‰æ€', 'æ¥å¤-å‘†æ»', 'æ¥å¤-ç–‘é—®', 'æ¥å¤-éœ‡æ’¼', 'æ¥å¤-æ³¨æ„', 'å“­æ³£', 'åŸç¥_å—¯',
                       'åŸç¥_å“¼', 'åŸç¥_å“‡', 'é«˜å…´', 'æ°”æ„¤',
                       'è€å¸…',
                       'äº²äº²',
                       'ç¾ç¾', 'ç‹—å­', 'å“ˆå“ˆ', 'åŸç¥_æ¬¸å˜¿', 'åŸç¥_å–èŒ¶', 'åŸç¥_ç”Ÿæ°”', 'çƒ­è¯ç³»åˆ—_æ²³å—åŠ æ²¹',
                       'çƒ­è¯ç³»åˆ—_è±«ä½ ä¸€èµ·', 'çƒ­è¯ç³»åˆ—_ä»™äººæŒ‡è·¯', 'çƒ­è¯ç³»åˆ—_é¥®èŒ¶å…ˆå•¦',
                       'çƒ­è¯ç³»åˆ—_çŸ¥è¯†å¢åŠ ', 'çƒ­è¯ç³»åˆ—_å†æ¥äº¿é', 'çƒ­è¯ç³»åˆ—_å¥½è€¶', 'çƒ­è¯ç³»åˆ—_ä½ å¸æœ‰äº†', 'çƒ­è¯ç³»åˆ—_å¹çˆ†',
                       'çƒ­è¯ç³»åˆ—_å¦™å•Š', 'çƒ­è¯ç³»åˆ—_ä½ ç»†å“', 'çƒ­è¯ç³»åˆ—_å’•å’•',
                       'çƒ­è¯ç³»åˆ—_æ ‡å‡†ç»“å±€', 'çƒ­è¯ç³»åˆ—_å¼ ä¸‰', 'çƒ­è¯ç³»åˆ—_å®³', 'çƒ­è¯ç³»åˆ—_é—®å·', 'çƒ­è¯ç³»åˆ—_å¥¥åŠ›ç»™',
                       'çƒ­è¯ç³»åˆ—_çŒ›ç”·å¿…çœ‹', 'çƒ­è¯ç³»åˆ—_æœ‰å†…å‘³äº†', 'çƒ­è¯ç³»åˆ—_æˆ‘è£‚å¼€äº†',
                       'çƒ­è¯ç³»åˆ—_æˆ‘å“­äº†', 'çƒ­è¯ç³»åˆ—_é«˜äº§', 'çƒ­è¯ç³»åˆ—_ä¸æ„§æ˜¯ä½ ', 'çƒ­è¯ç³»åˆ—_çœŸé¦™', 'çƒ­è¯ç³»åˆ—_æˆ‘å…¨éƒ½è¦',
                       'çƒ­è¯ç³»åˆ—_ç¥ä»™UP', 'çƒ­è¯ç³»åˆ—_é”¤', 'çƒ­è¯ç³»åˆ—_ç§€',
                       'çƒ­è¯ç³»åˆ—_çˆ·å…³æ›´',
                       'çƒ­è¯ç³»åˆ—_æˆ‘é…¸äº†', 'çƒ­è¯ç³»åˆ—_å¤§å¸ˆçƒ', 'çƒ­è¯ç³»åˆ—_å®Œç»“æ’’èŠ±', 'çƒ­è¯ç³»åˆ—_æˆ‘å¤ªå—äº†',
                       'çƒ­è¯ç³»åˆ—_é•‡ç«™ä¹‹å®', 'çƒ­è¯ç³»åˆ—_æœ‰ç”Ÿä¹‹å¹´', 'çƒ­è¯ç³»åˆ—_çŸ¥è¯†ç›²åŒº',
                       'çƒ­è¯ç³»åˆ—_â€œç‹¼ç«â€',
                       'çƒ­è¯ç³»åˆ—_ä½ å¯çœŸæ˜Ÿ', 'tv_ç™½çœ¼', 'tv_doge', 'tv_åç¬‘', 'tv_éš¾è¿‡', 'tv_ç”Ÿæ°”', 'tv_å§”å±ˆ',
                       'tv_æ–œçœ¼ç¬‘', 'tv_å‘†', 'tv_å‘æ€’',
                       'tv_æƒŠå“',
                       'tv_ç¬‘å“­', 'tv_äº²äº²', 'tv_è°ƒçš®', 'tv_æŠ é¼»', 'tv_é¼“æŒ', 'tv_å¤§å“­', 'tv_ç–‘é—®', 'tv_å¾®ç¬‘',
                       'tv_æ€è€ƒ', 'tv_å‘•å', 'tv_æ™•',
                       'tv_ç‚¹èµ',
                       'tv_å®³ç¾', 'tv_ç¡ç€', 'tv_è‰²', 'tv_åè¡€', 'tv_æ— å¥ˆ', 'tv_å†è§', 'tv_æµæ±—', 'tv_å·ç¬‘', 'tv_å‘è´¢',
                       'tv_å¯çˆ±', 'tv_é¦‹',
                       'tv_è…¼è…†',
                       'tv_é„™è§†', 'tv_é—­å˜´', 'tv_æ‰“è„¸', 'tv_å›°', 'tv_é»‘äººé—®å·', 'tv_æŠ“ç‹‚', 'tv_ç”Ÿç—…', 'tv_æµé¼»è¡€',
                       'tv_å°´å°¬', 'tv_å¤§ä½¬',
                       'tv_æµæ³ª',
                       'tv_å†·æ¼ ', 'tv_çš±çœ‰', 'tv_é¬¼è„¸', 'tv_è°ƒä¾ƒ', 'tv_ç›®çªå£å‘†', 'åå…¬éª‘å† å‰‘_åƒé¸¡', 'åå…¬éª‘å† å‰‘_é’»çŸ³',
                       'åå…¬éª‘å† å‰‘_æ— è¯­', 'çƒ­è¯ç³»åˆ—_ä¸å­¤é¸Ÿ',
                       'çƒ­è¯ç³»åˆ—_å¯¹è±¡',
                       'ä¿å«èåœ_é—®å·', 'ä¿å«èåœ_å“‡', 'ä¿å«èåœ_å“­å“­', 'ä¿å«èåœ_ç¬”èŠ¯', 'ä¿å«èåœ_ç™½çœ¼',
                       'çƒ­è¯ç³»åˆ—_å¤šè°¢æ¬¾å¾…', 'çƒ­è¯ç³»åˆ—_EDG', 'çƒ­è¯ç³»åˆ—_æˆ‘ä»¬æ˜¯å† å†›', 'è„¸çº¢', 'çƒ­è¯ç³»åˆ—_ç ´é˜²äº†',
                       'çƒ­è¯ç³»åˆ—_ç‡ƒèµ·æ¥äº†'
            , 'çƒ­è¯ç³»åˆ—_ä½åœ¨Bç«™', 'çƒ­è¯ç³»åˆ—_Bç«™æœ‰æˆ¿', 'çƒ­è¯ç³»åˆ—_365', 'çƒ­è¯ç³»åˆ—_æœ€ç¾çš„å¤œ', 'çƒ­è¯ç³»åˆ—_å¹²æ¯',
                       'çƒ­è¯ç³»åˆ—_2022æ–°å¹´', 'çƒ­è¯ç³»åˆ—_å¥‡å¹»æ—¶ç©º', 'çƒ­è¯ç³»åˆ—_é­”å¹»æ—¶ç©º',
                       'è™å¹´',
                       'çƒ­è¯ç³»åˆ—_çº¢çº¢ç«ç«', 'å°ç”µè§†_ç¬‘', 'å°ç”µè§†_å‘æ„', 'å°ç”µè§†_èµ', 'å°ç”µè§†_å·®è¯„', 'å°ç”µè§†_å˜Ÿå˜´',
                       'å°ç”µè§†_æ±—', 'å°ç”µè§†_å®³ç¾', 'å°ç”µè§†_åƒæƒŠ',
                       'å°ç”µè§†_å“­æ³£',
                       'å°ç”µè§†_å¤ªå¤ªå–œæ¬¢', 'å°ç”µè§†_å¥½æ€’å•Š', 'å°ç”µè§†_å›°æƒ‘', 'å°ç”µè§†_æˆ‘å¥½å…´å¥‹', 'å°ç”µè§†_æ€ç´¢', 'å°ç”µè§†_æ— è¯­'
                       ]  # æ‹¥æœ‰çš„è¡¨æƒ…åŒ…
        self.User_Agent_List = [
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.111 Safari/537.36 Edg/86.0.622.61',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.183 Safari/537.36 Edg/86.0.622.63',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.80 Safari/537.36 Edg/86.0.622.43',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36 Edg/87.0.664.66',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.146 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.150 Safari/537.36 Edg/88.0.705.63',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.182 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.190 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.96 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.96 Safari/537.36 Edg/88.0.705.50',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4346.0 Safari/537.36 Edg/89.0.731.0',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4369.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36 Edg/89.0.774.68',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36 Edg/89.0.774.75',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.69 Safari/537.36 Edg/89.0.774.39',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.82 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.82 Safari/537.36 Edg/89.0.774.50',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36 Edg/89.0.774.54',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36 Edg/89.0.774.57',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36 Edg/89.0.774.63',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.0.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4414.0 Safari/537.36 Edg/90.0.803.0',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4421.0 Safari/537.36 Edg/90.0.808.0',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4421.0 Safari/537.36 Edg/90.0.810.0',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4422.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36 Edg/90.0.818.62',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.30 Safari/537.36 Edg/90.0.818.14',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.41 Safari/537.36 Edg/90.0.818.22',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.51 Safari/537.36 Edg/90.0.818.27',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.85 Safari/537.36 Edg/90.0.818.46',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.85 Safari/537.36 Edg/90.0.818.49',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36 Edg/90.0.818.49',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36 Edg/90.0.818.51',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4433.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4435.0 Safari/537.36 Edg/91.0.825.0',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4460.0 Safari/537.36 Edg/91.0.849.0',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4471.0 Safari/537.36 Edg/91.0.864.1',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.19 Safari/537.36 Edg/91.0.864.11',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4476.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4482.0 Safari/537.36 Edg/92.0.874.0',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4495.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.71 Safari/537.36 Edg/94.0.992.38',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36 Edg/96.0.1054.29',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36 Edg/97.0.1072.55',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36 Edg/98.0.1108.62',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.30',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36 Edg/100.0.1185.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36 Edg/100.0.1185.50',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36 Edg/101.0.1210.53',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.67 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.63 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.63 Safari/537.36 Edg/102.0.1245.30',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.63 Safari/537.36 Edg/102.0.1245.39',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.124 Safari/537.36 Edg/102.0.1245.44',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.53 Safari/537.36 Edg/103.0.1264.37',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.114 Safari/537.36 Edg/103.0.1264.62',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36 Edg/105.0.1343.27',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36 Edg/105.0.1343.50',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36 Edg/105.0.1343.53'
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36 '
            'Edg/106.0.1370.47',
            "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36",
            "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36 Edg/108.0.1462.54",
            "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36",
            "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36",
            "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.41",
            "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 Edg/113.0.1774.35",
            "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36",
        ]
        proxy_pool = [
        ]
        self.proxy_pool = list(map(eval, set(list(map(str, proxy_pool)))))
        self.ban_proxy_pool = list()
        self.s = requests.session()

    def timeshift(self, timestamp):
        local_time = time.localtime(timestamp)
        realtime = time.strftime('%Y-%m-%d %H:%M:%S', local_time)
        return realtime

    def get_pinglunreq(self, dynamic_id, rid, pn, _type, *mode):
        """
        3æ˜¯çƒ­è¯„ï¼Œ2æ˜¯æœ€æ–°ï¼Œå¤§æ¦‚
        :param dynamic_id:
        :param rid:
        :param pn:
        :param _type:
        :param mode:
        :return:
        """
        if mode:
            mode = mode[0]
        else:
            mode = 2
        ctype = 17
        if str(_type) == '8':
            ctype = 1
        elif str(_type) == '4' or str(_type) == '1':
            ctype = 17
        elif str(_type) == '2':
            ctype = 11
        elif str(_type) == '64':
            ctype = 12
        if len(str(rid)) == len(str(dynamic_id)):
            oid = dynamic_id
        else:
            oid = rid
        fakeuseragent = random.choice(self.User_Agent_List)
        pinglunheader = {
            'user-agent': fakeuseragent}
        pinglunurl = 'https://api.bilibili.com/x/v2/reply/main?next=' + str(pn) + '&type=' + str(ctype) + '&oid=' + str(
            oid) + '&mode=' + str(mode) + '&plat=1&_=' + str(int(time.time()))
        pinglundata = {
            'jsonp': 'jsonp',
            'next': pn,
            'type': ctype,
            'oid': oid,
            'mode': mode,
            'plat': 1,
            '_': time.time()
        }
        try:
            pinglunreq = self.s.request("GET", url=pinglunurl, data=pinglundata, headers=pinglunheader)
        except:
            traceback.print_exc()
            print('è·å–è¯„è®ºå¤±è´¥')
            print(self.timeshift(int(time.time())))
            # while 1:
            #     try:
            #         time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            #         break
            #     except:
            #         continue
            time.sleep(3)
            pinglunreq = self.get_pinglunreq(dynamic_id, rid, pn, _type)
            return pinglunreq
        return pinglunreq.text

    def panduanbiaoqingbao(self, emo):
        tihuanbiaoqing = []
        for biaoqing in emo:
            if (biaoqing not in self.hasemo):
                tihuanbiaoqing.append(biaoqing)
        return tihuanbiaoqing

    def thumb(self, dynamic_id, cookie, useragent, uid, csrf, card_stype=''):  # ä¸ºåŠ¨æ€ç‚¹èµæ ‡è®°
        thumbheader = {
            'authority': 'api.vc.bilibili.com',
            'method': 'POST',
            'path': '/dynamic_like/v1/dynamic_like/thumb',
            'scheme': 'https',
            'cookie': cookie,
            'user-agent': useragent,
            'accept': 'application/json, text/plain, */*',
            'accept-encoding': 'gzip, deflate, br',
            'accept-language': 'zh-CN,zh;q=0.9',
            'content-type': 'application/x-www-form-urlencoded',
            'origin': 'https://t.bilibili.com',
            'referer': 'https://t.bilibili.com/{}'.format(dynamic_id),
            'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': "\"Windows\"",
            'sec-fetch-dest': 'empty',
            'sec-fetch-mode': 'cors',
            'sec-fetch-site': 'same-site',
        }
        thumbdata = {
            'uid': uid,
            'dynamic_id': dynamic_id,
            'up': 1,
            'csrf_token': csrf,
            'csrf': csrf
        }
        thumburl = 'https://api.vc.bilibili.com/dynamic_like/v1/dynamic_like/thumb'
        reqthumb = self.s.request('POST', url=thumburl, data=thumbdata, headers=thumbheader)
        if reqthumb.json().get('code') == 0:
            print('ç‚¹èµæˆåŠŸ')
        else:
            print('ç‚¹èµå¤±è´¥')
            print(reqthumb.json())
            self.dianzanshibai.append(f'https://t.bilibili.com/{dynamic_id}\t{reqthumb.json()}')
        if card_stype != '' and card_stype is not None:
            res = asyncio.run(
                log_reporter.handleSelfDefReport(eventname='dynamic_thumb', url=f'https://t.bilibili.com/{dynamic_id}',
                                                 cookie=cookie
                                                 ,
                                                 ua=useragent
                                                 , ops={
                        'dynamic_id': dynamic_id, 'card_stype': card_stype
                    }))  # card_stype: DYNAMIC_TYPE_DRAW
            for i in res:
                asyncio.run(self.log_report(i, 'https://t.bilibili.com', f'https://t.bilibili.com/{dynamic_id}', cookie,
                                            useragent))

    def repost(self, dy, msg, cookie, useragent, uid, csrf):
        repostdata = {
            'uid': uid,
            'type': '1',
            'rid': dy,
            'content': msg,
            'repost_code': '30000',
            'from': 'create.comment',
            'extension': '{"emoji_type":1}',
            'csrf_token': csrf,
            'csrf': csrf
        }
        header = {"cookie": cookie,
                  "user-agent": useragent,
                  'origin': 'https://t.bilibili.com',
                  'referer': 'https://t.bilibili.com/{}?spm_id_from=444.41.0.0'.format(dy),
                  'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
                  'sec-ch-ua-mobile': '?0',
                  'sec-ch-ua-platform': "\"Windows\"",
                  'sec-fetch-dest': 'empty',
                  'sec-fetch-mode': 'cors',
                  'sec-fetch-site': 'same-site',
                  'content-type': 'application/x-www-form-urlencoded',
                  'accept': 'application/json, text/plain, */*',
                  'accept-encoding': 'gzip, deflate, br',
                  'accept-language': 'zh-CN,zh;q=0.9'
                  }
        reposturl = 'https://api.vc.bilibili.com/dynamic_repost/v1/dynamic_repost/reply'
        try:
            reqrepost = self.s.request('POST', reposturl, headers=header, data=repostdata)
        except Exception as e:
            # traceback.print_exc()
            # print(self.timeshift(int(time.time())))
            # time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            # self.repost(dy, msg, cookie, useragent, uid, csrf)
            traceback.print_exc()
            self.zhuanfashibai.append(f'https://t.bilibili.com/{dy}\tpostè¯·æ±‚é”™è¯¯')
            return 0
        try:
            repostresult = json.loads(reqrepost.text)
        except:
            repostresult = {'data': {'errmsg': 'è½¬å‘å¤±è´¥'}}
        if not repostresult.get('data').get('errmsg'):
            print(reqrepost.text)
        print('è½¬å‘åŠ¨æ€ç»“æœï¼š' + str(repostresult.get('data').get('errmsg')))
        if repostresult.get('data').get('errmsg') == None:
            self.zhuanfashibai.append(f'https://t.bilibili.com/{dy}\t{reqrepost.json()}')
            print(repostresult)

    def get_dynamic_detail(self, dynamic_id, _cookie='', _useragent='', log_report_falg=True):
        '''

        :param dynamic_id:
        :param _cookie:
        :param _useragent:
        :return:
        structure = {
            'dynamic_id': dynamic_id,
            'desc': desc,
            'type': dynamic_type,
            'rid': dynamic_rid,
            'relation': relation,
            'is_liked': is_liked,
            'author_uid': author_uid,
            'author_name': author_name,
            'comment_count': comment_count,
            'forward_count': forward_count,  # è½¬å‘æ•°
            'like_count': like_count,
            'dynamic_content': dynamic_content,
            'pub_time': pub_time,
            'pub_ts': pub_ts,
            'official_verify_type': official_verify_type,

            'card_stype': card_stype,
            'top_dynamic': top_dynamic,

            'orig_dynamic_id': orig_dynamic_id,
            'orig_mid': orig_mid,
            'orig_name': orig_name,
            'orig_pub_ts': orig_pub_ts,
            'orig_official_verify': orig_official_verify,
            'orig_comment_count': orig_comment_count,
            'orig_forward_count': orig_forward_count,
            'orig_like_count': orig_like_count,
            'orig_dynamic_content': orig_dynamic_content,
            'orig_relation': orig_relation,
            'orig_desc': orig_desc
        }
        '''
        if _cookie == '':
            headers = {
                "user-agent": random.choice(self.User_Agent_List),
                'origin': 'https://t.bilibili.com',
                'referer': 'https://t.bilibili.com/{}?spm_id_from=444.41.0.0'.format(dynamic_id),
                'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
                'sec-ch-ua-mobile': '?0',
                'sec-ch-ua-platform': "\"Windows\"",
                'sec-fetch-dest': 'empty',
                'sec-fetch-mode': 'cors',
                'sec-fetch-site': 'same-site',
                'accept': 'application/json, text/plain, */*',
                'accept-encoding': 'gzip, deflate',
                'accept-language': 'zh-CN,zh;q=0.9',
            }
        else:
            headers = {
                "cookie": _cookie,
                "user-agent": _useragent,
                'origin': 'https://t.bilibili.com',
                'referer': 'https://t.bilibili.com/{}?spm_id_from=444.41.0.0'.format(dynamic_id),
                'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
                'sec-ch-ua-mobile': '?0',
                'sec-ch-ua-platform': "\"Windows\"",
                'sec-fetch-dest': 'empty',
                'sec-fetch-mode': 'cors',
                'sec-fetch-site': 'same-site',
                'accept': 'application/json, text/plain, */*',
                'accept-encoding': 'gzip, deflate',
                'accept-language': 'zh-CN,zh;q=0.9',
            }
        url = 'https://api.bilibili.com/x/polymer/web-dynamic/v1/detail?timezone_offset=-480&id=' + str(
            dynamic_id) + '&gaia_source=Athena'

        try:
            dynamic_req = self.s.request('GET', url=url, headers=headers)
        except Exception as e:
            # time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            time.sleep(10)
            print()
            traceback.print_exc()
            return self.get_dynamic_detail(dynamic_id, _cookie, _useragent)
        try:
            if dynamic_req.json().get('code') == 4101131:
                print(dynamic_req.text)
                return None
            dynamic_dict = json.loads(dynamic_req.text)
            dynamic_data = dynamic_dict.get('data')
            comment_type = dynamic_data.get('item').get('basic').get('comment_type')
            dynamic_type = '8'
            if str(comment_type) == '17':
                dynamic_type = '4'
            elif str(comment_type) == '1':
                dynamic_type = '8'
            elif str(comment_type) == '11':
                dynamic_type = '2'
            elif str(comment_type) == '12':
                dynamic_type = '64'
            card_stype = dynamic_data.get('item').get('type')
            dynamic_id = dynamic_data.get('item').get('id_str')
            dynamic_rid = dynamic_data.get('item').get('basic').get('comment_id_str')
            relation = dynamic_data.get('item').get('modules').get('module_author').get('following')
            author_uid = dynamic_data.get('item').get('modules').get('module_author').get('mid')
            author_name = dynamic_data.get('item').get('modules').get('module_author').get('name')
            pub_time = dynamic_data.get('item').get('modules').get('module_author').get('pub_time')
            pub_ts = dynamic_data.get('item').get('modules').get('module_author').get('pub_ts')
            official_verify_type = dynamic_data.get('item').get('modules').get('module_author').get(
                'official_verify').get('type')
            comment_count = dynamic_data.get('item').get('modules').get('module_stat').get('comment').get('count')
            forward_count = dynamic_data.get('item').get('modules').get('module_stat').get('forward').get('count')
            like_count = dynamic_data.get('item').get('modules').get('module_stat').get('like').get('count')
            dynamic_content1 = ''
            if dynamic_data.get('item').get('modules').get('module_dynamic').get('desc'):
                dynamic_content1 = dynamic_data.get('item').get('modules').get('module_dynamic').get('desc').get('text')
            dynamic_content2 = ''
            if dynamic_data.get('item').get('modules').get('module_dynamic').get('major'):
                if dynamic_data.get('item').get('modules').get('module_dynamic').get('major').get('archive'):
                    dynamic_content2 = dynamic_data.get('item').get('modules').get('module_dynamic').get('major').get(
                        'archive').get('desc') + dynamic_data.get('item').get('modules').get('module_dynamic').get(
                        'major').get(
                        'archive').get('title')
                if dynamic_data.get('item').get('modules').get('module_dynamic').get('major').get('article'):
                    dynamic_content2 = dynamic_data.get('item').get('modules').get('module_dynamic').get('major').get(
                        'article').get('desc') + dynamic_data.get('item').get('modules').get('module_dynamic').get(
                        'major').get(
                        'article').get('title')
            dynamic_content = dynamic_content1 + dynamic_content2
            desc = dynamic_data.get('item').get('modules').get(
                'module_dynamic').get(
                'desc')
            if relation:
                relation = 1
            else:
                relation = 0
            is_liked = dynamic_data.get('item').get('modules').get('module_stat').get('like').get('status')
            if is_liked:
                is_liked = 1
            else:
                is_liked = 0
            if relation != 1:
                print('æœªå…³æ³¨çš„response')
                print(f'https://space.bilibili.com/{author_uid}')
        except Exception as e:
            print(f'https://t.bilibili.com/{dynamic_id}')
            print(dynamic_req.text)
            traceback.print_exc()
            if dynamic_req.json().get('code') == -412:
                print('412é£æ§')
                time.sleep(10 * 60)
                return self.get_dynamic_detail(dynamic_id, _cookie, _useragent)
            if dynamic_req.json().get('code') == 4101128:
                print(dynamic_req.json().get('message'))
                time.sleep(10 * 60)
            # time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            return None

        top_dynamic = None
        try:
            module_tag = dynamic_data.get('item').get('modules').get('module_tag')
            if module_tag:
                module_tag_text = module_tag.get('text')
                if module_tag_text == "ç½®é¡¶":
                    top_dynamic = True
                else:
                    print(module_tag_text)
                    print('æœªçŸ¥åŠ¨æ€tag')
            else:
                top_dynamic = False
        except:
            top_dynamic = None

        orig_name = None
        orig_mid = None
        orig_official_verify = None
        orig_pub_ts = None
        orig_comment_count = None
        orig_forward_count = None
        orig_dynamic_content = None
        orig_like_count = None
        orig_relation = None
        orig_is_liked = None
        orig_dynamic_id = None
        orig_desc = None
        try:
            if dynamic_data.get('item').get('orig'):
                orig_dynamic_id = dynamic_data.get('item').get('orig').get('id_str')
                orig_mid = dynamic_data.get('item').get('orig').get('modules').get('module_author').get('mid')
                orig_name = dynamic_data.get('item').get('orig').get('modules').get('module_author').get('name')
                orig_pub_ts = dynamic_data.get('item').get('orig').get('modules').get('module_author').get('pub_ts')
                if dynamic_data.get('item').get('orig').get('modules').get('module_author').get(
                        'official_verify'):
                    orig_official_verify = dynamic_data.get('item').get('orig').get('modules').get('module_author').get(
                        'official_verify').get('type')
                else:
                    orig_official_verify = dynamic_data.get('item').get('orig').get('modules').get('module_author').get(
                        'type')
                # orig_comment_count = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('comment').get(
                #     'count')
                # orig_forward_count = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('forward').get(
                #     'count')
                # orig_like_count = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('like').get('count')
                orig_dynamic_content1 = ''
                if dynamic_data.get('item').get('orig').get('modules').get('module_dynamic').get('desc'):
                    orig_dynamic_content1 = dynamic_data.get('item').get('orig').get('modules').get(
                        'module_dynamic').get(
                        'desc').get('text')
                orig_dynamic_content2 = ''
                if dynamic_data.get('item').get('orig').get('modules').get('module_dynamic').get('major'):
                    if dynamic_data.get('item').get('orig').get('modules').get('module_dynamic').get('major').get(
                            'archive'):
                        orig_dynamic_content2 = dynamic_data.get('item').get('orig').get('modules').get(
                            'module_dynamic').get('major').get('archive').get('desc')
                orig_dynamic_content = orig_dynamic_content1 + orig_dynamic_content2
                orig_desc = dynamic_data.get('item').get('orig').get('modules').get(
                    'module_dynamic').get(
                    'desc')
                orig_relation = dynamic_data.get('item').get('orig').get('modules').get('module_author').get(
                    'following')
                if orig_relation:
                    orig_relation = 1
                else:
                    orig_relation = 0
                # orig_is_liked = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('like').get(
                #     'status')
                # if orig_is_liked:
                #     orig_is_liked = 1
                # else:
                #     orig_is_liked = 0
            else:
                print('éè½¬å‘åŠ¨æ€ï¼Œæ— åŸåŠ¨æ€')
        except:
            print(dynamic_req.text)
            traceback.print_exc()
        structure = {
            'dynamic_id': dynamic_id,
            'desc': desc,
            'type': dynamic_type,
            'rid': dynamic_rid,
            'relation': relation,
            'is_liked': is_liked,
            'author_uid': author_uid,
            'author_name': author_name,
            'comment_count': comment_count,
            'forward_count': forward_count,  # è½¬å‘æ•°
            'like_count': like_count,
            'dynamic_content': dynamic_content,
            'pub_time': pub_time,
            'pub_ts': pub_ts,
            'official_verify_type': official_verify_type,

            'card_stype': card_stype,
            'top_dynamic': top_dynamic,

            'orig_dynamic_id': orig_dynamic_id,
            'orig_mid': orig_mid,
            'orig_name': orig_name,
            'orig_pub_ts': orig_pub_ts,
            'orig_official_verify': orig_official_verify,
            'orig_comment_count': orig_comment_count,
            'orig_forward_count': orig_forward_count,
            'orig_like_count': orig_like_count,
            'orig_dynamic_content': orig_dynamic_content,
            'orig_relation': orig_relation,
            'orig_desc': orig_desc
        }
        if log_report_falg is True:
            if _cookie != '':
                res = asyncio.run(
                    log_reporter.handleSelfDefReport(eventname='dynamic_pv', url=f'https://t.bilibili.com/{dynamic_id}',
                                                     cookie=_cookie
                                                     ,
                                                     ua=_useragent
                                                     , ops={
                            'dynamic_id': dynamic_id, 'type': comment_type, 'card_stype': card_stype, 'oid': dynamic_rid
                        }))
                for i in res:
                    asyncio.run(
                        self.log_report(i, 'https://t.bilibili.com', f'https://t.bilibili.com/{dynamic_id}', _cookie,
                                        _useragent))
        return structure

    def dynamic_svr_v1_get_dynamic_detail(self, dynamic_id, _cookie='', _useragent='', log_report_falg=False):
        '''
        ç›®å‰è¿”å›å…¨æ˜¯0ï¼Œæ— æ³•ä½¿ç”¨
        :param dynamic_id:
        :param _cookie:
        :param _useragent:
        :param log_report_falg:
        :return:
        '''
        if _cookie == '':
            headers = {
                "user-agent": random.choice(self.User_Agent_List),
                'origin': 'https://t.bilibili.com',
                'referer': 'https://t.bilibili.com/{}?spm_id_from=444.41.0.0'.format(dynamic_id),
                'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
                'sec-ch-ua-mobile': '?0',
                'sec-ch-ua-platform': "\"Windows\"",
                'sec-fetch-dest': 'empty',
                'sec-fetch-mode': 'cors',
                'sec-fetch-site': 'same-site',
                'accept': 'application/json, text/plain, */*',
                'accept-encoding': 'gzip, deflate',
                'accept-language': 'zh-CN,zh;q=0.9',
            }
        else:
            headers = {
                "cookie": _cookie,
                "user-agent": _useragent,
                'origin': 'https://t.bilibili.com',
                'referer': 'https://t.bilibili.com/{}?spm_id_from=444.41.0.0'.format(dynamic_id),
                'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
                'sec-ch-ua-mobile': '?0',
                'sec-ch-ua-platform': "\"Windows\"",
                'sec-fetch-dest': 'empty',
                'sec-fetch-mode': 'cors',
                'sec-fetch-site': 'same-site',
                'accept': 'application/json, text/plain, */*',
                'accept-encoding': 'gzip, deflate',
                'accept-language': 'zh-CN,zh;q=0.9',
            }
        url = 'https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/get_dynamic_detail?dynamic_id=' + str(dynamic_id)

        try:
            dynamic_req = self.s.request('GET', url=url, headers=headers)
        except Exception as e:
            # time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            time.sleep(10)
            print()
            traceback.print_exc()
            return self.dynamic_svr_v1_get_dynamic_detail(dynamic_id, _cookie, _useragent)
        try:
            if dynamic_req.json().get('code') == 4101131:
                print(dynamic_req.text)
                return None
            dynamic_dict = json.loads(dynamic_req.text)
            dynamic_data = dynamic_dict.get('data')
            dynamic_card = dynamic_data.get('card')
            dynamic_type = dynamic_card.get('desc').get('type')
            comment_type = '1'
            if str(dynamic_type) == '4':
                comment_type = '17'
            elif str(dynamic_type) == '8':
                comment_type = '1'
            elif str(dynamic_type) == '2':
                comment_type = '11'
            elif str(dynamic_type) == '64':
                comment_type = '12'
            card_stype = dynamic_type
            dynamic_id = dynamic_card.get('desc').get('dynamic_id_str')
            dynamic_rid = dynamic_card.get('desc').get('rid_str')
            relation = dynamic_card.get('display').get('relation').get('is_follow')
            author_uid = dynamic_card.get('desc').get('user_profile').get('info').get('uid')
            author_name = dynamic_card.get('desc').get('user_profile').get('info').get('uname')
            pub_time = self.timeshift(dynamic_card.get('desc').get('timestamp'))
            pub_ts = dynamic_card.get('desc').get('timestamp')
            official_verify_type = dynamic_card.get('desc').get('user_profile').get('card').get('official_verify').get(
                'type')
            dynamic_detail_card = json.loads(dynamic_card.get('card'))
            try:
                comment_count = dynamic_detail_card.get('stat').get('reply')
            except:
                if dynamic_card.get('desc').get('comment') is not None:
                    comment_count = dynamic_card.get('desc').get('comment')
                elif dynamic_detail_card.get('stats').get('reply'):
                    comment_count = dynamic_detail_card.get('stats').get('reply')
                else:
                    comment_count = 0
            forward_count = dynamic_card.get('desc').get('repost')
            like_count = dynamic_card.get('desc').get('like')
            dynamic_content1 = []

            if dynamic_detail_card.get('item'):
                if dynamic_detail_card.get('item').get('content'):
                    dynamic_content1.append(dynamic_detail_card.get('item').get('content'))
                if dynamic_detail_card.get('item').get('description'):
                    dynamic_content1.append(dynamic_detail_card.get('item').get('description'))

            dynamic_content2 = []
            if dynamic_detail_card.get('desc'):
                dynamic_content2.append(dynamic_detail_card.get('desc'))
            if dynamic_detail_card.get('dynamic'):
                dynamic_content2.append(dynamic_detail_card.get('dynamic'))
            if dynamic_detail_card.get('title'):
                dynamic_content2.append(dynamic_detail_card.get('title'))
            if dynamic_detail_card.get('summary'):
                dynamic_content2.append(dynamic_detail_card.get('summary'))
            if dynamic_detail_card.get('live_play_info'):
                if dynamic_detail_card.get('live_play_info').get('title'):
                    dynamic_content2.append(dynamic_detail_card.get('live_play_info').get('title'))
            if dynamic_detail_card.get('vest'):
                if dynamic_detail_card.get('vest').get('content'):
                    dynamic_content2.append(dynamic_detail_card.get('vest').get('content'))
            dynamic_content = '\n'.join(dynamic_content1) + '\n'.join(dynamic_content2)
            desc = dynamic_card.get('desc')
            if relation:
                relation = 1
            else:
                relation = 0
            is_liked = dynamic_card.get('desc').get('is_liked')
            if is_liked:
                is_liked = 1
            else:
                is_liked = 0
            if relation != 1:
                print('æœªå…³æ³¨çš„response')
                print(f'https://space.bilibili.com/{author_uid}')
        except Exception as e:
            print(f'https://t.bilibili.com/{dynamic_id}')
            print(dynamic_req.text)
            traceback.print_exc()
            if dynamic_req.json().get('code') == -412:
                print('412é£æ§')
                time.sleep(10 * 60)
                return self.get_dynamic_detail(dynamic_id, _cookie, _useragent)
            if dynamic_req.json().get('code') == 4101128:
                print(dynamic_req.json().get('message'))
                time.sleep(10 * 60)
            # time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            return None

        top_dynamic = None
        try:
            module_tag = dynamic_data.get('item').get('modules').get('module_tag')
            if module_tag:
                module_tag_text = module_tag.get('text')
                if module_tag_text == "ç½®é¡¶":
                    top_dynamic = True
                else:
                    print(module_tag_text)
                    print('æœªçŸ¥åŠ¨æ€tag')
            else:
                top_dynamic = False
        except:
            top_dynamic = None
        pre_dy_id_str = dynamic_card.get('desc').get('pre_dy_id_str')
        if pre_dy_id_str == '0':
            pre_dy_id_str = None
        orig_name = None
        orig_mid = None
        orig_official_verify = None
        orig_pub_ts = None
        orig_comment_count = None
        orig_forward_count = None
        orig_dynamic_content = None
        orig_like_count = None
        orig_relation = None
        orig_is_liked = None
        orig_dynamic_id = None
        orig_desc = None

        try:
            if dynamic_card.get('desc').get('origin'):
                dynamic_card_origin = dynamic_card.get('desc').get('origin')
                dynamic_detail_card_origin = json.loads(dynamic_detail_card.get('origin'))
                orig_dynamic_id = dynamic_card_origin.get('dynamic_id_str')
                try:
                    orig_mid = dynamic_detail_card_origin.get('user').get('uid')
                except:
                    try:
                        orig_mid = dynamic_detail_card_origin.get('owner').get('mid')
                    except:
                        orig_mid = dynamic_detail_card_origin.get('author').get('mid')
                try:
                    orig_name = dynamic_detail_card_origin.get('user').get('name')
                except:
                    orig_name = dynamic_detail_card_origin.get('owner').get('name')
                try:
                    orig_pub_ts = dynamic_detail_card_origin.get('item').get('upload_time')
                except:
                    orig_pub_ts = dynamic_detail_card_origin.get('pubdate')

                orig_official_verify = dynamic_detail_card.get('origin_user').get('card').get('official_verify').get(
                    'type')
                # orig_comment_count = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('comment').get(
                #     'count')
                # orig_forward_count = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('forward').get(
                #     'count')
                # orig_like_count = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('like').get('count')
                orig_dynamic_content1 = []

                if dynamic_detail_card_origin.get('item'):
                    if dynamic_detail_card_origin.get('item').get('content'):
                        orig_dynamic_content1.append(dynamic_detail_card_origin.get('item').get('content'))
                    if dynamic_detail_card_origin.get('item').get('description'):
                        orig_dynamic_content1.append(dynamic_detail_card_origin.get('item').get('description'))

                orig_dynamic_content2 = []
                if dynamic_detail_card_origin.get('desc'):
                    orig_dynamic_content2.append(dynamic_detail_card_origin.get('desc'))
                if dynamic_detail_card_origin.get('dynamic'):
                    orig_dynamic_content2.append(dynamic_detail_card_origin.get('desc'))
                if dynamic_detail_card_origin.get('title'):
                    orig_dynamic_content2.append(dynamic_detail_card_origin.get('title'))
                if dynamic_detail_card_origin.get('summary'):
                    orig_dynamic_content2.append(dynamic_detail_card_origin.get('summary'))
                if dynamic_detail_card_origin.get('live_play_info'):
                    if dynamic_detail_card_origin.get('live_play_info').get('title'):
                        orig_dynamic_content2.append(dynamic_detail_card_origin.get('live_play_info').get('title'))
                if dynamic_detail_card_origin.get('vest'):
                    if dynamic_detail_card_origin.get('vest').get('content'):
                        orig_dynamic_content2.append(dynamic_detail_card_origin.get('vest').get('content'))
                orig_dynamic_content = '\n'.join(orig_dynamic_content1) + '\n'.join(orig_dynamic_content2)
                orig_desc = dynamic_detail_card_origin
                orig_relation = dynamic_card.get('display').get('origin').get('relation').get('is_follow')
                if orig_relation:
                    orig_relation = 1
                else:
                    orig_relation = 0
                # orig_is_liked = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('like').get(
                #     'status')
                # if orig_is_liked:
                #     orig_is_liked = 1
                # else:
                #     orig_is_liked = 0
            else:
                print('éè½¬å‘åŠ¨æ€ï¼Œæ— åŸåŠ¨æ€')
        except:
            print(dynamic_req.text)
            traceback.print_exc()
        structure = {
            'dynamic_id': dynamic_id,
            'desc': desc,
            'type': dynamic_type,
            'rid': dynamic_rid,
            'relation': relation,
            'is_liked': is_liked,
            'author_uid': author_uid,
            'author_name': author_name,
            'comment_count': comment_count,
            'forward_count': forward_count,  # è½¬å‘æ•°
            'like_count': like_count,
            'dynamic_content': dynamic_content,
            'pub_time': pub_time,
            'pub_ts': pub_ts,
            'official_verify_type': official_verify_type,

            'card_stype': card_stype,
            'top_dynamic': top_dynamic,
            'pre_dy_id_str': pre_dy_id_str,  # é—´æ¥åŠ¨æ€ï¼ˆä¹Ÿå°±æ˜¯è¿™ä¸ªåŠ¨æ€è½¬å‘çš„åŠ¨æ€ï¼Œå½“è½¬å‘çš„æ˜¯åŸåŠ¨æ€æ—¶å’ŒåŸåŠ¨æ€å€¼ç›¸åŒ

            'orig_dynamic_id': orig_dynamic_id,
            'orig_mid': orig_mid,
            'orig_name': orig_name,
            'orig_pub_ts': orig_pub_ts,
            'orig_official_verify': orig_official_verify,
            'orig_comment_count': orig_comment_count,
            'orig_forward_count': orig_forward_count,
            'orig_like_count': orig_like_count,
            'orig_dynamic_content': orig_dynamic_content,
            'orig_relation': orig_relation,
            'orig_desc': orig_desc
        }
        if log_report_falg is True:
            if _cookie != '':
                res = asyncio.run(
                    log_reporter.handleSelfDefReport(eventname='dynamic_pv', url=f'https://t.bilibili.com/{dynamic_id}',
                                                     cookie=_cookie
                                                     ,
                                                     ua=_useragent
                                                     , ops={
                            'dynamic_id': dynamic_id, 'type': comment_type, 'card_stype': card_stype, 'oid': dynamic_rid
                        }))
                for i in res:
                    asyncio.run(
                        self.log_report(i, 'https://t.bilibili.com', f'https://t.bilibili.com/{dynamic_id}', _cookie,
                                        _useragent))
        return structure

    def polymer_web_dynamic_v1_opus_detail(self, dynamic_id, _cookie='', _useragent='',
                                           log_report_falg=False) -> dict or None:
        '''
        https://api.bilibili.com/x/polymer/web-dynamic/v1/opus/detail?id=
        è·å–åŠ¨æ€è¯¦æƒ… ç›®å‰æ— æ³•è·å–è§†é¢‘æˆ–è€…è½¬å‘çš„è¯¦æƒ…ï¼Œè°¨æ…ä½¿ç”¨ï¼ â€”â€”â€”â€”5.22.2023
        :param dynamic_id:
        :param _cookie:
        :param _useragent:
        :param log_report_falg:
        :return:
        '''
        if _cookie == '':
            headers = {
                "user-agent": random.choice(self.User_Agent_List),
                'origin': 'https://t.bilibili.com',
                'referer': 'https://www.bilibili.com/opus/{}?spm_id_from=444.41.0.0'.format(dynamic_id),
                'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
                'sec-ch-ua-mobile': '?0',
                'sec-ch-ua-platform': "\"Windows\"",
                'sec-fetch-dest': 'empty',
                'sec-fetch-mode': 'cors',
                'sec-fetch-site': 'same-site',
                'accept': 'application/json, text/plain, */*',
                'accept-encoding': 'gzip, deflate',
                'accept-language': 'zh-CN,zh;q=0.9',
            }
        else:
            headers = {
                "cookie": _cookie,
                "user-agent": _useragent,
                'origin': 'https://t.bilibili.com',
                'referer': 'https://www.bilibili.com/opus/{}?spm_id_from=444.41.0.0'.format(dynamic_id),
                'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
                'sec-ch-ua-mobile': '?0',
                'sec-ch-ua-platform': "\"Windows\"",
                'sec-fetch-dest': 'empty',
                'sec-fetch-mode': 'cors',
                'sec-fetch-site': 'same-site',
                'accept': 'application/json, text/plain, */*',
                'accept-encoding': 'gzip, deflate',
                'accept-language': 'zh-CN,zh;q=0.9',
            }
        url = 'https://api.bilibili.com/x/polymer/web-dynamic/v1/opus/detail?id=' + str(dynamic_id)

        try:
            dynamic_req = self.s.request('GET', url=url, headers=headers)
        except Exception as e:
            # time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            time.sleep(10)
            print()
            traceback.print_exc()
            return self.get_dynamic_detail(dynamic_id, _cookie, _useragent)
        try:
            if dynamic_req.json().get('code') == 4101131:
                print(dynamic_req.text)
                return None
            dynamic_dict = json.loads(dynamic_req.text)
            dynamic_data = dynamic_dict.get('data')
            comment_type = dynamic_data.get('item').get('basic').get('comment_type')
            dynamic_type = '8'
            if str(comment_type) == '17':
                dynamic_type = '4'
            elif str(comment_type) == '1':
                dynamic_type = '8'
            elif str(comment_type) == '11':
                dynamic_type = '2'
            elif str(comment_type) == '12':
                dynamic_type = '64'
            dynamic_modules = dynamic_data.get('item').get('modules')
            module_author = dict()
            module_content = dict()
            module_stat = dict()
            for module in dynamic_modules:
                if module.get('module_type') == "MODULE_TYPE_AUTHOR":
                    module_author = module.get('module_author')
                elif module.get('module_type') == "MODULE_TYPE_CONTENT":
                    module_content = module.get('module_content')
                elif module.get('module_type') == "MODULE_TYPE_STAT":
                    module_stat = module.get('module_stat')
            card_stype = dynamic_data.get('item').get('type')
            dynamic_id = dynamic_data.get('item').get('id_str')
            dynamic_rid = dynamic_data.get('item').get('basic').get('comment_id_str')
            relation = module_author.get('following')
            author_uid = module_author.get('mid')
            author_name = module_author.get('name')
            pub_time = module_author.get('pub_time')
            pub_ts = module_author.get('pub_ts')
            official_verify_type = module_author.get(
                'official').get('type')
            comment_count = module_stat.get('comment').get('count')
            forward_count = module_stat.get('forward').get('count')
            like_count = module_stat.get('like').get('count')
            dynamic_content = ''
            for para in module_content.get('paragraphs'):
                if para.get('text'):
                    for nodes in para.get('text').get('nodes'):
                        __type = nodes.get('type')
                        if __type == "TEXT_NODE_TYPE_RICH":
                            dynamic_content += nodes.get('rich').get('text')
                        if __type == 'TEXT_NODE_TYPE_WORD':
                            dynamic_content += nodes.get('word').get('words')
            desc = dynamic_data.get('item')
            if relation:
                relation = 1
            else:
                relation = 0
            is_liked = module_stat.get('like').get('status')
            if is_liked:
                is_liked = 1
            else:
                is_liked = 0
            if relation != 1:
                print('æœªå…³æ³¨çš„response')
                print(f'https://space.bilibili.com/{author_uid}')
        except Exception as e:
            print(f'https://t.bilibili.com/{dynamic_id}')
            print(dynamic_req.text)
            traceback.print_exc()
            if dynamic_req.json().get('code') == -412:
                print('412é£æ§')
                time.sleep(10 * 60)
                return self.get_dynamic_detail(dynamic_id, _cookie, _useragent)
            if dynamic_req.json().get('code') == 4101128:
                print(dynamic_req.json().get('message'))
                time.sleep(10 * 60)
            # time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            return None

        top_dynamic = None
        try:
            module_tag = dynamic_data.get('item').get('modules').get('module_tag')
            if module_tag:
                module_tag_text = module_tag.get('text')
                if module_tag_text == "ç½®é¡¶":
                    top_dynamic = True
                else:
                    print(module_tag_text)
                    print('æœªçŸ¥åŠ¨æ€tag')
            else:
                top_dynamic = False
        except:
            top_dynamic = None

        orig_name = None
        orig_mid = None
        orig_official_verify = None
        orig_pub_ts = None
        orig_comment_count = None
        orig_forward_count = None
        orig_dynamic_content = None
        orig_like_count = None
        orig_relation = None
        orig_is_liked = None
        orig_dynamic_id = None
        orig_desc = None
        try:
            if dynamic_data.get('item').get('orig'):
                orig_dynamic_id = dynamic_data.get('item').get('orig').get('id_str')
                orig_mid = dynamic_data.get('item').get('orig').get('modules').get('module_author').get('mid')
                orig_name = dynamic_data.get('item').get('orig').get('modules').get('module_author').get('name')
                orig_pub_ts = dynamic_data.get('item').get('orig').get('modules').get('module_author').get('pub_ts')
                if dynamic_data.get('item').get('orig').get('modules').get('module_author').get(
                        'official_verify'):
                    orig_official_verify = dynamic_data.get('item').get('orig').get('modules').get('module_author').get(
                        'official_verify').get('type')
                else:
                    orig_official_verify = dynamic_data.get('item').get('orig').get('modules').get('module_author').get(
                        'type')
                # orig_comment_count = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('comment').get(
                #     'count')
                # orig_forward_count = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('forward').get(
                #     'count')
                # orig_like_count = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('like').get('count')
                orig_dynamic_content1 = ''
                if dynamic_data.get('item').get('orig').get('modules').get('module_dynamic').get('desc'):
                    orig_dynamic_content1 = dynamic_data.get('item').get('orig').get('modules').get(
                        'module_dynamic').get(
                        'desc').get('text')
                orig_dynamic_content2 = ''
                if dynamic_data.get('item').get('orig').get('modules').get('module_dynamic').get('major'):
                    if dynamic_data.get('item').get('orig').get('modules').get('module_dynamic').get('major').get(
                            'archive'):
                        orig_dynamic_content2 = dynamic_data.get('item').get('orig').get('modules').get(
                            'module_dynamic').get('major').get('archive').get('desc')
                orig_dynamic_content = orig_dynamic_content1 + orig_dynamic_content2
                orig_desc = dynamic_data.get('item').get('orig').get('modules').get(
                    'module_dynamic').get(
                    'desc')
                orig_relation = dynamic_data.get('item').get('orig').get('modules').get('module_author').get(
                    'following')
                if orig_relation:
                    orig_relation = 1
                else:
                    orig_relation = 0
                # orig_is_liked = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('like').get(
                #     'status')
                # if orig_is_liked:
                #     orig_is_liked = 1
                # else:
                #     orig_is_liked = 0
            else:
                print('éè½¬å‘åŠ¨æ€ï¼Œæ— åŸåŠ¨æ€')
        except:
            print(dynamic_req.text)
            traceback.print_exc()
        structure = {
            'dynamic_id': dynamic_id,
            'desc': desc,
            'type': dynamic_type,
            'rid': dynamic_rid,
            'relation': relation,
            'is_liked': is_liked,
            'author_uid': author_uid,
            'author_name': author_name,
            'comment_count': comment_count,
            'forward_count': forward_count,  # è½¬å‘æ•°
            'like_count': like_count,
            'dynamic_content': dynamic_content,
            'pub_time': pub_time,
            'pub_ts': pub_ts,
            'official_verify_type': official_verify_type,

            'card_stype': card_stype,
            'top_dynamic': top_dynamic,

            'orig_dynamic_id': orig_dynamic_id,
            'orig_mid': orig_mid,
            'orig_name': orig_name,
            'orig_pub_ts': orig_pub_ts,
            'orig_official_verify': orig_official_verify,
            'orig_comment_count': orig_comment_count,
            'orig_forward_count': orig_forward_count,
            'orig_like_count': orig_like_count,
            'orig_dynamic_content': orig_dynamic_content,
            'orig_relation': orig_relation,
            'orig_desc': orig_desc
        }
        if log_report_falg is True:
            if _cookie != '':
                res = asyncio.run(
                    log_reporter.handleSelfDefReport(eventname='dynamic_pv', url=f'https://t.bilibili.com/{dynamic_id}',
                                                     cookie=_cookie
                                                     ,
                                                     ua=_useragent
                                                     , ops={
                            'dynamic_id': dynamic_id, 'type': comment_type, 'card_stype': card_stype, 'oid': dynamic_rid
                        }))
                for i in res:
                    asyncio.run(
                        self.log_report(i, 'https://t.bilibili.com', f'https://t.bilibili.com/{dynamic_id}', _cookie,
                                        _useragent))
        return structure

    async def log_report(self, log_data, origin_url, refer_url, cookie, ua):
        url = 'https://data.bilibili.com/log/web'
        params = log_data
        headers = {
            'accept': '*/*',
            'accept-language': 'zh-CN,zh;q=0.9',
            'cookie': cookie,
            'origin': origin_url,
            'referer': refer_url,
            'user-agent': ua,
            'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': "\"Windows\"",
            'sec-fetch-dest': 'empty',
            'sec-fetch-mode': 'no-cors',
            'sec-fetch-site': 'same-site'
        }
        req = self.s.post(url=url, params=params, headers=headers)
        print(f'log_reportç»“æœï¼š{req.text}')

    def comment(self, dynamic_id, msg, _type, rid, cookie, useragent, csrf, username):  # å‘é€è¯„è®º
        print(f'è¯„è®ºå†…å®¹ï¼š{msg}')
        if len(rid) == len(dynamic_id):
            oid = dynamic_id
        else:
            oid = rid
        commentheader = {
            'authority': 'api.bilibili.com',
            'method': 'POST',
            'path': '/x/v2/reply/add',
            'scheme': 'https',
            'accept': 'application/json,text/javascript,*/*;q=0.01',
            'cookie': cookie,
            'user-agent': useragent,
            'origin': 'https://t.bilibili.com',
            'referer': 'https://t.bilibili.com/{}?spm_id_from=444.41.0.0'.format(dynamic_id),
            'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': "\"Windows\"",
            'sec-fetch-dest': 'empty',
            'sec-fetch-mode': 'cors',
            'sec-fetch-site': 'same-site',
            'content-type': 'application/x-www-form-urlencoded; charset=UTF-8'
        }
        ctype = 17
        if str(_type) == '8':
            ctype = 1
        elif str(_type) == '4' or str(_type) == '1':
            ctype = 17
        elif str(_type) == '2':
            ctype = 11
        elif str(_type) == '64':
            ctype = 12
        commentdata = {
            'oid': oid,
            'type': ctype,
            'message': msg,
            'ordering': 'time',
            'jsonp': 'jsonp',
            'plat': '1',
            'csrf': csrf,
        }
        commenturl = 'https://api.bilibili.com/x/v2/reply/add'
        reqcomment = self.s.request('POST', url=commenturl, data=commentdata, headers=commentheader)
        comment_dict = json.loads(reqcomment.text)
        try:
            commentresult = comment_dict.get('data').get('success_toast')
        except:
            commentresult = None
            url = 'https://t.bilibili.com/' + str(dynamic_id)
            self.pinglunshibai.append(f'{url}\t{comment_dict}')
            traceback.print_exc()
            print(reqcomment.text)
        time.sleep(2)
        if int(comment_dict.get('code')) == 12015:
            while 1:
                try:
                    print(self.timeshift(time.time()))
                    print(commentresult)
                    # time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
                    time.sleep(10 * 60)
                    print('éªŒè¯ç äº†ï¼Œç­‰ååˆ†é’Ÿ')
                    break
                except:
                    continue
        if comment_dict.get('message') == 'UPä¸»å·²å…³é—­è¯„è®ºåŒº':
            pass
        elif self._check_comment(username, dynamic_id, rid, _type):
            print('è¯„è®ºå­˜åœ¨')
        else:
            print(username)
            print('è¯„è®ºè¢«å')
            print('è¯„è®ºå†…å®¹ï¼š{}'.format(msg))
            try:
                with open(CONFIG.root_dir+'åŠ¨æ€è½¬æŠ½_æ–°ç‰ˆ2.0/è¯„è®ºlog/comment_log.csv', 'a+', encoding='utf-8') as c:
                    c.writelines(
                        '{0}\t{1}\t{2}\thttps://t.bilibili.com/{2}\t{3}\t{4}\n'.format(self.timeshift(time.time()),
                                                                                       username,
                                                                                       dynamic_id, repr(msg),
                                                                                       comment_dict))
            except:
                with open(CONFIG.root_dir+'åŠ¨æ€è½¬æŠ½_æ–°ç‰ˆ2.0/è¯„è®ºlog/comment_log.csv', 'w', encoding='utf-8') as c:
                    c.writelines(
                        '{0}\t{1}\t{2}\thttps://t.bilibili.com/{2}\t{3}\t{4}\n'.format(self.timeshift(time.time()),
                                                                                       username,
                                                                                       dynamic_id, repr(msg),
                                                                                       comment_dict))
        time.sleep(random.choice(self.sleeptime))
        if commentresult != "å‘é€æˆåŠŸ":
            cuowuid = 'https://t.bilibili.com/' + str(dynamic_id)
            self.pinglunshibai.append(f'{cuowuid}\t{comment_dict}')
            print('è¯„è®ºå¤±è´¥\n' + str(commentresult) + 'ï¼š https://t.bilibili.com/' + str(dynamic_id))
            print('oidï¼š' + str(oid))
            print('ridï¼š' + str(rid))
            print('dynamic_idï¼š' + str(dynamic_id))
            message = comment_dict.get('message')
            print(message)
            print(self.timeshift(int(time.time())))
            # while 1:
            #     try:
            #         time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            #         break
            #     except:
            #         continue
            return None
        print('è¯„è®ºåŠ¨æ€ç»“æœï¼š' + str(commentresult) + 'ï¼›è¯„è®ºç±»å‹ï¼š' + str(ctype))
        commentrpid = comment_dict.get('data').get('rpid')

        res = asyncio.run(
            log_reporter.handleSelfDefReport(eventname='dynamic_comment', url=f'https://t.bilibili.com/{dynamic_id}',
                                             cookie=cookie,
                                             ua=useragent,
                                             ops={
                                                 'type': ctype, 'oid': oid
                                             }))  # card_stype: DYNAMIC_TYPE_DRAW
        for i in res:
            asyncio.run(self.log_report(i, 'https://t.bilibili.com', f'https://t.bilibili.com/{dynamic_id}', cookie,
                                        useragent))

        return 'https://t.bilibili.com/{}#reply{}'.format(dynamic_id, commentrpid)

    def _comment_like(self, comment_dict, oid, ctype, cookie, useragent, csrf):
        try:
            commentrpid = comment_dict.get('data').get('rpid')
        except:
            commentrpid = None
        if commentrpid == None or str(commentrpid) == '0':
            print('è¯„è®ºç‚¹èµå¤±è´¥\t\t\tåŸå› ï¼šrpidè·å–å¤±è´¥')
        else:
            print('è·å–rpid=' + str(commentrpid))
            pinglundianzanurl = 'https://api.bilibili.com/x/v2/reply/action'
            pinglundianzanheaders = {
                'authority': 'api.bilibili.com',
                'method': 'POST',
                'cookie': cookie,
                'user-agent': useragent,
                'origin': 'https://t.bilibili.com',
                'referer': 'https://t.bilibili.com/',
                'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
                'sec-ch-ua-mobile': '?0',
                'sec-ch-ua-platform': "\"Windows\"",
                'sec-fetch-dest': 'empty',
                'sec-fetch-mode': 'cors',
                'sec-fetch-site': 'same-site',
                'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',
                'accept': 'application/json, text/javascript, */*; q=0.01',
                'accept-encoding': 'gzip, deflate, br',
                'accept-language': 'zh-CN,zh;q=0.9',
            }
            pinglundianzandata = {'oid': oid,
                                  'type': ctype,
                                  'rpid': commentrpid,
                                  'action': '1',
                                  'ordering': 'time',
                                  'jsonp': 'jsonp',
                                  'csrf': csrf
                                  }
            pinglundianzanreq = self.s.request('POST', url=pinglundianzanurl, data=pinglundianzandata,
                                               headers=pinglundianzanheaders)
            pinglundianzan_dict = json.loads(pinglundianzanreq.text)
            dianzancode = pinglundianzan_dict.get('code')
            if dianzancode == 0:
                print('è¯„è®ºç‚¹èµæˆåŠŸ')
            else:
                print('è¯„è®ºç‚¹èµå¤±è´¥\t\t\tåŸå› ï¼š')
                print(pinglundianzan_dict)

    def comment_with_thumb(self, dy, msg, _type, rid, cookie, useragent, csrf, username):  # å‘é€è¯„è®º
        cookie2 = gl.get_value('cookie2')  # ä¿åŠ åˆ©äºš
        fullcookie2 = gl.get_value('fullcookie2')
        ua2 = gl.get_value('ua2')
        fingerprint2 = gl.get_value('fingerprint2')
        csrf2 = gl.get_value('csrf2')
        uid2 = gl.get_value('uid2')
        cookie3 = gl.get_value('cookie3')  # æ–¯å¡è’‚
        fullcookie3 = gl.get_value('fullcookie3')
        ua3 = gl.get_value('ua3')
        fingerprint3 = gl.get_value('fingerprint3')
        csrf3 = gl.get_value('csrf3')
        uid3 = gl.get_value('uid3')
        cookie4 = gl.get_value('cookie4')  # å¢¨è‰²
        fullcookie4 = gl.get_value('fullcookie4')
        ua4 = gl.get_value('ua4')
        fingerprint4 = gl.get_value('fingerprint4')
        csrf4 = gl.get_value('csrf4')
        uid4 = gl.get_value('uid4')
        if len(rid) == len(dy):
            oid = dy
        else:
            oid = rid
        commentheader = {
            'authority': 'api.bilibili.com',
            'method': 'POST',
            'path': '/x/v2/reply/add',
            'scheme': 'https',
            'accept': 'application/json,text/javascript,*/*;q=0.01',
            'cookie': cookie,
            'user-agent': useragent,
            'origin': 'https://t.bilibili.com',
            'referer': 'https://t.bilibili.com/{}?spm_id_from=444.41.0.0'.format(dy),
            'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': "\"Windows\"",
            'sec-fetch-dest': 'empty',
            'sec-fetch-mode': 'cors',
            'sec-fetch-site': 'same-site',
            'content-type': 'application/x-www-form-urlencoded; charset=UTF-8'
        }
        ctype = 17
        if str(_type) == '8':
            ctype = 1
        elif str(_type) == '4' or str(_type) == '1':
            ctype = 17
        elif str(_type) == '2':
            ctype = 11
        elif str(_type) == '64':
            ctype = 12
        commentdata = {
            'oid': oid,
            'type': ctype,
            'message': msg,
            'ordering': 'time',
            'jsonp': 'jsonp',
            'plat': '1',
            'csrf': csrf,
        }
        commenturl = 'https://api.bilibili.com/x/v2/reply/add'
        reqcomment = self.s.request('POST', url=commenturl, data=commentdata, headers=commentheader)
        comment_dict = json.loads(reqcomment.text)
        url = 'https://t.bilibili.com/' + str(dy)
        try:
            commentresult = comment_dict.get('data').get('success_toast')
        except:
            commentresult = None
            url = 'https://t.bilibili.com/' + str(dy)
            self.pinglunshibai.append(f'{url}\t{comment_dict}')
            print(reqcomment.text)
        time.sleep(2)
        if comment_dict.get('code') != 0:
            self.pinglunshibai.append(f'{url}\t{comment_dict}')
            print(comment_dict)
            print(dy, msg, _type, rid, cookie, useragent, csrf, username)
            print(commentdata)
            print('è¯„è®ºå¤±è´¥')
        if int(comment_dict.get('code')) == 12015:
            while 1:
                try:
                    print(self.timeshift(time.time()))
                    print('éªŒè¯ç äº†ï¼Œä¼‘æ¯10åˆ†é’Ÿ')
                    time.sleep(600)
                    break
                except:
                    continue
        if self._check_comment(username, dy, rid, _type):
            print('è¯„è®ºå­˜åœ¨')
            ###########################
            if csrf == csrf2:
                self._comment_like(comment_dict, oid, ctype, cookie2, ua2, csrf2)
                time.sleep(1)
            elif csrf == csrf3:
                self._comment_like(comment_dict, oid, ctype, cookie3, ua3, csrf3)
                time.sleep(1)
            elif csrf == csrf4:
                self._comment_like(comment_dict, oid, ctype, cookie4, ua4, csrf4)
                time.sleep(1)
            ################################################
        else:
            print(username)
            print('è¯„è®ºè¢«å')
            try:
                with open(CONFIG.root_dir+'åŠ¨æ€è½¬æŠ½_æ–°ç‰ˆ2.0/è¯„è®ºlog/comment_log.csv', 'a+', encoding='utf-8') as c:
                    c.writelines(
                        '{0}\t{1}\t{2}\thttps://t.bilibili.com/{2}\t{3}\t{4}\n'.format(self.timeshift(time.time()),
                                                                                       username,
                                                                                       dy, repr(msg), comment_dict))
            except:
                with open(CONFIG.root_dir+'åŠ¨æ€è½¬æŠ½_æ–°ç‰ˆ2.0/è¯„è®ºlog/comment_log.csv', 'w', encoding='utf-8') as c:
                    c.writelines(
                        '{0}\t{1}\t{2}\thttps://t.bilibili.com/{2}\t{3}\t{4}\n'.format(self.timeshift(time.time()),
                                                                                       username,
                                                                                       dy, repr(msg), comment_dict))
        time.sleep(random.choice(self.sleeptime))

        if commentresult != "å‘é€æˆåŠŸ":
            print('è¯„è®ºå¤±è´¥\n' + str(commentresult) + 'ï¼š https://t.bilibili.com/' + str(dy))
            print('oidï¼š' + str(oid))
            print('ridï¼š' + str(rid))
            print('dynamic_idï¼š' + str(dy))
            message = comment_dict.get('message')
            print(message)
            print(self.timeshift(int(time.time())))
            # while 1:
            #     try:
            #         time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            #         break
            #     except:
            #         continue
            return None
        print('è¯„è®ºåŠ¨æ€ç»“æœï¼š' + str(commentresult) + 'ï¼›è¯„è®ºç±»å‹ï¼š' + str(ctype))
        commentrpid = comment_dict.get('data').get('rpid')
        return 'https://t.bilibili.com/{}#reply{}'.format(dy, commentrpid)

    def choujiangxinxipanduan(self, tcontent):  # åŠ¨æ€å†…å®¹è¿‡æ»¤æ¡ä»¶
        '''
        ç›¸å¯¹ç²—ç•¥
        æŠ½å¥–ä¿¡æ¯åˆ¤æ–­      æ˜¯æŠ½å¥–è¿”å›None ä¸æ˜¯æŠ½å¥–è¿”å›1
        :param tcontent:
        :return:
        '''
        tcontent = re.sub('@(.{0,12}?) ', '', tcontent)
        tcontent = Converter('zh-hans').convert(tcontent)
        tcontent = tcontent.lower()
        tcontent = tcontent.replace(' ', '')
        tcontent = tcontent.replace('ä¼ é€é—¨', '')
        tcontent = tcontent.replace('è½¦+å…³', 'è½¬+å…³')
        tcontent = tcontent.replace('lun', 'è®º')
        tcontent = tcontent.replace('è½¦ä¸“', 'è½¬')
        tcontent = tcontent.replace('æ‰Œç”±', 'æŠ½')
        tcontent = tcontent.replace('ğŸ§±', 'è½¬')
        tcontent = tcontent.replace('ğŸ', 'è¯„')
        tcontent = tcontent.replace('ğŸ·', 'å…³æ³¨')
        tcontent = tcontent.replace('å·', 'è½¬')
        tcontent = tcontent.replace('è‹¹', 'è¯„')
        tcontent = tcontent.replace('å¹³', 'è¯„')
        tcontent = tcontent.replace('ç•™è¨€', 'è¯„è®º')
        tcontent = tcontent.replace('é€‰å‡º', 'æŠ½')
        tcontent = tcontent.replace('é€‰å–', 'æŠ½')
        tcontent = tcontent.replace('æª', 'æŠ½')
        tcontent = tcontent.replace('æŠ½æ—¶é—´', '')
        tcontent = tcontent.replace('null', '')
        matchobj_101 = re.match(
            '.*æŒ‘é€‰.{0,10}é€.*|.*è¯„è®º.{0,20}è·å¾—.*|.*ç²‰ä¸ç¦åˆ©.{0,10}é€.*|.*å‚ä¸æ–¹å¼.{0,15}è¯„.*|.*å‚ä¸æ–¹å¼.{0,15}è½¬.*|.*ã€æŠ½ã€‘.*|.*å†…å«å·¨å¤§ç¦åˆ©',
            tcontent, re.DOTALL)
        matchobj_100 = re.match(
            '.*è½¬.{0,10}å…³.{0,10}é€.*|.*å…³.{0,10}è½¬.{0,10}é€.*|.*é€.{0,10}å…³.{0,10}è½¬.*|.*é€.{0,10}è½¬.{0,10}å…³.*',
            tcontent, re.DOTALL)
        matchobj_99 = re.match(
            '.*æŠ½.{0,10}è½¬|.*æŠ½.{0,10}v|.*æŠ½.{0,5}èµ.{0,5}è¯„|.*è¯„.{0,5}æŠ½.{0,5}èµ|.*èµ.{0,5}è¯„.{0,5}æŠ½', tcontent,
            re.DOTALL)
        matchobj_98 = re.match('.*æŠ½.{0,5}ä¸ª|.*æŠ½.{0,5}ä½|.*æŠ½.{0,5}å', tcontent, re.DOTALL)
        matchobj_97 = re.match('.*æœ‰å¥–äº’åŠ¨.*', tcontent, re.DOTALL)
        matchobj_96 = re.match(
            '.*è½¬.{0,10}å…³.{0,10}å‚.*|.*å…³.{0,10}è½¬.{0,10}å‚.*|.*å‚.{0,10}å…³.{0,10}è½¬.*|.*è½¬.{0,10}å‚.{0,10}å…³.*',
            tcontent, re.DOTALL)
        matchobj_95 = re.match('.*å®‰æ’.*è¯„è®º.*', tcontent, re.DOTALL)
        matchobj_94 = re.match('.*æŠ½å¥–.*', tcontent, re.DOTALL)
        matchobj_93 = re.match('.*æŠ½å¥–.*å‚ä¸.*', tcontent, re.DOTALL)
        matchobj_91 = re.match('.*å€’éœ‰è›‹.*', tcontent, re.DOTALL)
        matchobj_90 = re.match('.*æ‡‚çš„.*|.*æ‡‚å¾—éƒ½æ‡‚|.*dddd|.*æ‡‚çš„éƒ½æ‡‚|.*å¯»æ‰¾å¤±ä¸»|.*å¤§æ‹‡å“¥.{0,5}è®¤é¢†', tcontent,
                               re.DOTALL)
        matchobj_89 = re.match('.*ç•™è¨€.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj_88 = re.match('.*è¯„è®º.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj_87 = re.match('.*å¤±ç‰©æ‹›é¢†.*', tcontent, re.DOTALL)
        matchobj_86 = re.match('.*æŠ½ä¸ªå¥–.*', tcontent, re.DOTALL)
        matchobj_85 = re.match('.*r.{0,3}o.{0,3}l.{0,3}l.*', tcontent, re.DOTALL)
        matchobj_84 = re.match('.*æœ¬.{0,10}åŠ¨æ€.{0,10}æŠ½.*', tcontent, re.DOTALL)
        matchobj_83 = re.match('.*å…³.{0,10}è¯„.{0,10}é€.*|.*è¯„.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_82 = re.match('.*èµ.{0,10}è¯„.{0,10}è½¬.*', tcontent, re.DOTALL)
        matchobj_81 = re.match('.*æ³¨.{0,3}å‘.*', tcontent, re.DOTALL)
        matchobj_80 = re.match('.*è½¬.{0,10}å…³.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_79 = re.match('.*å…³æ³¨.*roll.*', tcontent, re.DOTALL)
        matchobj_78 = re.match('.*roll.*å…³æ³¨.*', tcontent, re.DOTALL)
        matchobj_77 = re.match('.*æ‰¾.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj_76 = re.match('.*å…³æ³¨.*è¯„è®º.{0,10}è½¬å‘.*', tcontent, re.DOTALL)
        matchobj_75 = re.match('.*æŠ½.{0,10}ä½“éªŒ.*', tcontent, re.DOTALL)
        matchobj_74 = re.match('.*æŠ½.{0,10}å¥–åŠ±.*', tcontent, re.DOTALL)
        matchobj_73 = re.match('.*æŠ“.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj_72 = re.match('.*åŠ¨æ€æŠ½å¥–.*', tcontent, re.DOTALL)
        matchobj_71 = re.match('.*è½¬.*å…³.*æŠ½.{0,15}é€.*', tcontent, re.DOTALL)
        matchobj_70 = re.match('.*å…³æ³¨.{0,9}æœ‰æƒŠå–œ.*', tcontent, re.DOTALL)
        matchobj_69 = re.match('.*æŠ½.{0,9}å–å¥¶.*', tcontent, re.DOTALL)
        matchobj_68 = re.match('.*æŠ½.{0,9}å¾—åˆ°.*', tcontent, re.DOTALL)
        matchobj_67 = re.match('.*æŠ½.{0,9}è·å¾—.*', tcontent, re.DOTALL)
        matchobj_65 = re.match('.*æŠ½å¥–.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj_64 = re.match('.*è¯„è®º.{0,10}è¡¥è´´.*\\d+.*', tcontent, re.DOTALL)
        matchobj_63 = re.match('.*è½¦ä¸“æ‰Œç”±.*', tcontent, re.DOTALL)
        matchobj_62 = re.match('.*è½¦å…³.{0,20}é€.*', tcontent, re.DOTALL)
        matchobj_61 = re.match('.*æŠ½.{0,10}è¡¥è´´.*', tcontent, re.DOTALL)
        matchobj_60 = re.match('.*æŠ½.{0,10}å¸¦èµ°.*', tcontent, re.DOTALL)
        matchobj_59 = re.match('.*è¡¥è´´.{0,10}\d+å…ƒ.*', tcontent, re.DOTALL)
        matchobj_58 = re.match('.*è½¬{0,10}æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_57 = re.match('.*è¯„è®º.{0,9}æŠ½.*', tcontent, re.DOTALL)
        matchobj_56 = re.match('.*è¯„è®º.{0,9}æŠ½.*', tcontent, re.DOTALL)
        matchobj_55 = re.match('.*å…³æ³¨.{0,10}è¯„è®º', tcontent, re.DOTALL)
        matchobj_54 = re.match('.*è¯„è®º.{0,5}ç™½.{0,10}å«–.*', tcontent, re.DOTALL)
        matchobj_53 = re.match('.*è½¦ä¸“.*å…³.*', tcontent, re.DOTALL)
        matchobj_52 = re.match('.*è¯„è®º.*æŠ½.{0,9}çº¢åŒ….*', tcontent, re.DOTALL)
        matchobj_51 = re.match('.*è¯„è®º.*æŠ½.{0,9}çº¢åŒ….*', tcontent, re.DOTALL)
        matchobj_50 = re.match('.*è½¬.{0,9}æŠ½.*', tcontent, re.DOTALL)
        matchobj_49 = re.match('.*æŠ½1ä½50å…ƒçº¢åŒ….*', tcontent, re.DOTALL)
        matchobj_48 = re.match('.*æŠ½.{0,10}è¡¥è´´.*å…ƒ.*', tcontent, re.DOTALL)
        matchobj_47 = re.match('.*æŠ½.{0,10}è¡¥è´´.*å…ƒ.*', tcontent, re.DOTALL)
        matchobj_46 = re.match('.*æŠ½å¥–.*æŠ½.*å°ä¼™ä¼´.*è¯„è®º.*è½¬å‘.*', tcontent, re.DOTALL)
        matchobj_45 = re.match('.*å…³æ³¨.*ä¸€é”®ä¸‰è¿.*åˆ†äº«.*é€.*', tcontent, re.DOTALL)
        matchobj_44 = re.match('.*æŠ½.{0,10}å°å¯çˆ±.*æ¯äºº.*', tcontent, re.DOTALL)
        matchobj_43 = re.match('.*#æŠ½å¥–#.*å…³æ³¨.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_42 = re.match('.*å…³æ³¨.*å¹³è®º.*æŠ½.*æ‰“.*', tcontent, re.DOTALL)
        matchobj_41 = re.match('.*è½¬å‘.*è¯„è®º.*å…³æ³¨.*æŠ½.*è·å¾—.*', tcontent, re.DOTALL)
        matchobj_40 = re.match('.*å…³æ³¨.*è½¬å‘.*ç‚¹èµ.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_39 = re.match('.*è½¬å‘è¯„è®ºç‚¹èµæœ¬æ¡åŠ¨æ€.*é€.*', tcontent, re.DOTALL)
        matchobj_38 = re.match('.*æŒ‘é€‰.*è¯„è®º.*é€å‡º.*', tcontent, re.DOTALL)
        matchobj_37 = re.match('.*å¼¹å¹•æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_36 = re.match('.*éšæœº.*ä½å°ä¼™ä¼´.*ç°é‡‘çº¢åŒ….*', tcontent, re.DOTALL)
        matchobj_34 = re.match('.*è¯„è®º.*éšæœº.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_33 = re.match('.*è¯„è®º.*éšæœº.*æŠ“.*', tcontent, re.DOTALL)
        matchobj_32 = re.match('.*å‚ä¸æ–¹å¼.*è½¬å‘.*å…³æ³¨.*è¯„è®º.*', tcontent, re.DOTALL)
        matchobj_31 = re.match('.*è¯„è®º.*éšæœº.*æŠ“.*', tcontent, re.DOTALL)
        matchobj_30 = re.match('.*è¯„è®º.*éšæœº.*æŠ½.*è¡¥è´´.*', tcontent, re.DOTALL)
        matchobj_29 = re.match('.*è¯„è®ºåŒº.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_28 = re.match('.*è½¬å‘.*è¯„è®º.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_27 = re.match('.*äº’åŠ¨æŠ½å¥–.*', tcontent, re.DOTALL)
        matchobj_26 = re.match('.*#ä¾›ç”µå±€ç¦åˆ©ç¤¾#.*', tcontent, re.DOTALL)
        matchobj_25 = re.match('.*å…³æ³¨.*è¯„è®º.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_24 = re.match('.*è½¬å‘.*è¯„è®º.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_23 = re.match('.*å…³æ³¨.*è½¬å‘.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_22 = re.match('.*è¯„è®º.*è½¬å‘.*å…³æ³¨.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_21 = re.match('.*æœ‰å¥–è½¬å‘.*', tcontent, re.DOTALL)
        matchobj_20 = re.match('.*è¯„è®ºå°±æœ‰æœºä¼šæŠ½.*', tcontent, re.DOTALL)
        matchobj_19 = re.match('.*è½¬å‘.*å…³æ³¨.{0,10}é€‰.*', tcontent, re.DOTALL)
        matchobj_18 = re.match('.*å…³æ³¨\+è¯„è®ºï¼Œéšæœºé€‰.*', tcontent, re.DOTALL)
        matchobj_17 = re.match('.*äº’åŠ¨æŠ½å¥–.*è¯„è®º.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_16 = re.match('.*å…³æ³¨.*è½¬å‘.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_15 = re.match('.*è½¬.*è¯„.*èµ.*é€', tcontent, re.DOTALL)
        matchobj_14 = re.match('.*è¯„è®ºåŒº.*æŠ½.{0,9}é€.*', tcontent, re.DOTALL)
        matchobj_13 = re.match('.*å…³æ³¨.*è¯„è®º.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_12 = re.match('.*è¯„è®ºè½¬å‘ç‚¹èµ.*æŠ½å–.*é€.*', tcontent, re.DOTALL)
        matchobj_11 = re.match('.*å…³æ³¨\+è¯„è®º.*éšæœºé€‰.*é€.*', tcontent, re.DOTALL)
        matchobj_10 = re.match('.*æŠ½.{0,10}é€', tcontent, re.DOTALL)
        matchobj_9 = re.match('.*è½¬å‘.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_8 = re.match('.*è¯„è®º.*å…³æ³¨.*æŠ½', tcontent, re.DOTALL)
        matchobj_7 = re.match('.*è¯„è®º.*å…³æ³¨.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_6 = re.match('.*è¯„è®ºåŒº.{0,9}é€.*', tcontent, re.DOTALL)
        matchobj_4 = re.match('.*è½¬å‘.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_3 = re.match('.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_2 = re.match('.*è¯„è®ºåŒº.{0,15}æŠ½.*', tcontent, re.DOTALL)
        matchobj_1 = re.match('.*è½¬å‘.*å…³æ³¨.*', tcontent, re.DOTALL)
        matchobj = re.match('.*è½¬å‘.*é€.*', tcontent, re.DOTALL)
        matchobj0 = re.match('.*è½¬å‘.{0,30}æŠ½.*', tcontent, re.DOTALL)
        matchobj1 = re.match('.*å…³æ³¨.{0,7}æŠ½.*', tcontent, re.DOTALL)
        matchobj2 = re.match('.*è½¬.{0,7}è¯„.*', tcontent, re.DOTALL)
        matchobj3 = re.match('.*æœ¬æ¡.*é€.*', tcontent, re.DOTALL)
        matchobj5 = re.match('.*æŠ½.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj10 = re.match('.*é’“é±¼.*', tcontent, re.DOTALL)
        matchobj23 = re.match('.*å…³æ³¨.*è½¬å‘.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj26 = re.match('.*ç”Ÿæ—¥ç›´æ’­.*ä¸Šèˆ°.*', tcontent, re.DOTALL)
        matchobj33 = re.match('.*å¿«å¿«ç‚¹å‡»ä¼ é€é—¨ä¸€èµ·æŠ½å¤§å¥–ï¼ï¼.*', tcontent, re.DOTALL)
        matchobj34 = re.match('.*è½¬å‘æŠ½å¥–ç»“æœ.*', tcontent, re.DOTALL)
        matchobj37 = re.match('.*å¥–å“è½¬é€ä¸¾æŠ¥äºº.*', tcontent, re.DOTALL)
        matchobj39 = re.match('.*200å…ƒä¼˜æƒ åˆ¸.*', tcontent, re.DOTALL)
        matchobj43 = re.match('.*ä¸æŠ½å¥–.*', tcontent, re.DOTALL)
        # matchobj44 = re.match('.*æ±‚ç‚¹èµå…³æ³¨è½¬å‘.*', tcontent, re.DOTALL)
        matchobj45 = re.match('.*ç½®é¡¶åŠ¨æ€æŠ½ä¸ªå…ƒ.*', tcontent, re.DOTALL)
        if (
                matchobj_101 == None and matchobj_100 == None and matchobj_99 == None and matchobj_98 == None and matchobj_97 == None and matchobj_96 == None and matchobj_95 == None and matchobj_94 == None and matchobj_93 == None and matchobj_91 == None and matchobj_90 == None and matchobj_89 == None and matchobj_88 == None and matchobj_87 == None and matchobj_86 == None and matchobj_85 == None and matchobj_84 == None and matchobj_83 == None and matchobj_82 == None and matchobj_81 == None and matchobj_80 == None and matchobj_79 == None and matchobj_78 == None and matchobj_77 == None and matchobj_76 == None and matchobj_75 == None and matchobj_74 == None and matchobj_73 == None and matchobj_72 == None and matchobj_71 == None and matchobj_70 == None and matchobj_69 == None and matchobj_68 == None and matchobj_67 == None and matchobj_65 == None and matchobj_64 == None and matchobj_63 == None and matchobj_62 == None and matchobj_61 == None and matchobj_60 == None and matchobj_59 == None and matchobj_58 == None and matchobj_57 == None and matchobj_56 == None and matchobj_55 == None and matchobj_54 == None and matchobj_53 == None and matchobj_52 == None and matchobj_51 == None and matchobj_50 == None and matchobj_49 == None and matchobj_48 == None and matchobj_47 == None and matchobj_46 == None and matchobj_45 == None and matchobj_44 == None and matchobj_43 == None and matchobj_42 == None and matchobj_41 == None and matchobj_40 == None and matchobj_39 == None and matchobj_38 == None and matchobj_37 == None and matchobj_36 == None
                and matchobj_34 == None and matchobj_33 == None and matchobj_32 == None and matchobj_31 == None
                and matchobj_30 == None and matchobj_29 == None and matchobj_28 == None and matchobj_27 == None
                and matchobj_26 == None and matchobj_25 == None and matchobj_24 == None and matchobj_23 == None
                and matchobj_22 == None and matchobj_21 == None and matchobj_20 == None and matchobj_19 == None
                and matchobj_18 == None and matchobj_17 == None and matchobj_16 == None and matchobj_15 == None
                and matchobj_14 == None and matchobj_13 == None and matchobj_12 == None and matchobj_11 == None
                and matchobj_10 == None and matchobj_9 == None and matchobj_8 == None and matchobj_7 == None
                and matchobj_6 == None and matchobj_4 == None and matchobj_3 == None
                and matchobj_2 == None and matchobj_1 == None and matchobj == None and matchobj0 == None
                and matchobj23 == None and matchobj1 == None and matchobj2 == None and matchobj3 == None
                and matchobj5 == None or matchobj10 != None or matchobj26 != None or matchobj33 != None
                or matchobj34 != None or matchobj37 != None
                or matchobj39 != None
                or matchobj43 != None or matchobj45 != None):
            return 1
        return None  # æŠ½å¥–ä¿¡æ¯åˆ¤æ–­      æ˜¯æŠ½å¥–è¿”å›None ä¸æ˜¯æŠ½å¥–è¿”å›1

    def daily_choujiangxinxipanduan(self, tcontent):  # åŠ¨æ€å†…å®¹è¿‡æ»¤æ¡ä»¶
        '''
        æ¯æ—¥æŠ½å¥–çš„ä¿¡æ¯åˆ¤æ–­ æ›´åŠ è¯¦ç»†ï¼Œéœ€è¦äººå·¥åˆ¤æ–­
        æŠ½å¥–ä¿¡æ¯åˆ¤æ–­      æ˜¯æŠ½å¥–è¿”å›None ä¸æ˜¯æŠ½å¥–è¿”å›1
        :param tcontent:
        :return:
        '''
        tcontent = re.sub('@(.{0,12}) ', '', tcontent)
        tcontent = Converter('zh-hans').convert(tcontent)
        tcontent = tcontent.lower()
        tcontent = tcontent.replace(' ', '')
        tcontent = tcontent.replace('ä¼ é€é—¨', '')
        tcontent = tcontent.replace('è½¦+å…³', 'è½¬+å…³')
        tcontent = tcontent.replace('lun', 'è®º')
        tcontent = tcontent.replace('è½¦ä¸“', 'è½¬')
        tcontent = tcontent.replace('æ‰Œç”±', 'æŠ½')
        tcontent = tcontent.replace('ğŸ§±', 'è½¬')
        tcontent = tcontent.replace('ğŸ', 'è¯„')
        tcontent = tcontent.replace('ğŸ·', 'å…³æ³¨')
        tcontent = tcontent.replace('å·', 'è½¬')
        tcontent = tcontent.replace('è‹¹', 'è¯„')
        tcontent = tcontent.replace('å¹³', 'è¯„')
        tcontent = tcontent.replace('ç•™è¨€', 'è¯„è®º')
        tcontent = tcontent.replace('é€‰å‡º', 'æŠ½')
        tcontent = tcontent.replace('é€‰å–', 'æŠ½')
        tcontent = tcontent.replace('æª', 'æŠ½')
        tcontent = tcontent.replace('æŠ½æ—¶é—´', '')
        tcontent = tcontent.replace('null', '')
        matchobj_117 = re.match(
            '.*æŒ‘é€‰.{0,10}é€.*|.*è¯„è®º.{0,20}è·å¾—.*|.*ç²‰ä¸ç¦åˆ©.{0,10}é€.*|.*å‚ä¸æ–¹å¼.{0,15}è¯„.*|.*å‚ä¸æ–¹å¼.{0,15}è½¬.*|.*ã€æŠ½ã€‘.*|.*å†…å«å·¨å¤§ç¦åˆ©',
            tcontent, re.DOTALL)
        matchobj_116 = re.match(
            '.*è½¬.{0,10}å…³.{0,10}é€.*|.*å…³.{0,10}è½¬.{0,10}é€.*|.*é€.{0,10}å…³.{0,10}è½¬.*|.*é€.{0,10}è½¬.{0,10}å…³.*',
            tcontent, re.DOTALL)
        matchobj_115 = re.match(
            '.*æŠ½.{0,10}è½¬|.*æŠ½.{0,10}v|.*æŠ½.{0,5}èµ.{0,5}è¯„|.*è¯„.{0,5}æŠ½.{0,5}èµ|.*èµ.{0,5}è¯„.{0,5}æŠ½', tcontent,
            re.DOTALL)
        matchobj_114 = re.match('.*æŠ½.{0,5}ä¸ª|.*æŠ½.{0,5}ä½|.*æŠ½.{0,5}å', tcontent, re.DOTALL)
        matchobj_113 = re.match('.*æŠ½.{0,5}å¥—|.*å…³æ³¨.{0,20}æŠ½|.*è½¬å‘.{0,20}æŠ½|.*è½¬å‘æŠ½', tcontent, re.DOTALL)
        matchobj_112 = re.match('.*CJ|.*çˆ†è£…å¤‡|.*äººäººæœ‰æœºç”¨', tcontent, re.DOTALL)
        matchobj_111 = re.match('.*å…³.{0,10}è¯„.{0,10}ç»™', tcontent, re.DOTALL)
        matchobj_110 = re.match('.*è¯„è®º.*åˆ†äº«.*è¯·', tcontent, re.DOTALL)
        matchobj_109 = re.match('.*å‚åŠ .*æŠ½|.*å‚ä¸.*æŠ½|.*æŠ½.*å‚åŠ |.*æŠ½.*å‚ä¸', tcontent, re.DOTALL)
        matchobj_108 = re.match('.*è¯„è®º.{0,10}æ•´', tcontent, re.DOTALL)
        matchobj_107 = re.match('.*å‚åŠ .*é€|.*å‚ä¸.*é€|.*é€.*å‚åŠ |.*é€.*å‚ä¸', tcontent, re.DOTALL)
        matchobj_106 = re.match('.*å‚ä¸.*è¯„.*å…³|.*å‚ä¸.*å…³.*è¯„', tcontent, re.DOTALL)
        matchobj_105 = re.match('.*æŠ½.*è¯„.*å…³', tcontent, re.DOTALL)
        matchobj_104 = re.match('.*è½¬å‘å‚ä¸|.*æœ‰æœºä¼š.{0,15}è·å¾—', tcontent, re.DOTALL)
        matchobj_103 = re.match('.*ç»™.{0,10}æŠ½|.*æŠ½.{0,15}å¯„å‡º', tcontent, re.DOTALL)
        matchobj_102 = re.match(
            '.*è½¬.{0,10}å…³.{0,10}å‚.*|.*å…³.{0,10}è½¬.{0,10}å‚.*|.*å‚.{0,10}å…³.{0,10}è½¬.*|.*è½¬.{0,10}å‚.{0,10}å…³.*',
            tcontent, re.DOTALL)
        matchobj_101 = re.match('.*å®‰æ’.*è¯„è®º.*|.*è¯„è®º.*å®‰æ’.*|ç»™.{0,10}ç¤¼ç‰©', tcontent, re.DOTALL)
        matchobj_100 = re.match('.*å‚ä¸.*ç¤¼å“|.*ç¤¼å“.*å‚ä¸|.*ç¤¼å“.*', tcontent, re.DOTALL)
        matchobj_98 = re.match('.*è¯„.{0,10}æŠ½', tcontent, re.DOTALL)
        matchobj_97 = re.match('.*å‚ä¸.{0,10}å…³.{0,10}èµ.*', tcontent, re.DOTALL)
        matchobj_96 = re.match('.*è¯„.{0,10}èµ¢.*', tcontent, re.DOTALL)
        matchobj_95 = re.match('.*è€.{0,10}å®‰æ’.*', tcontent, re.DOTALL)
        matchobj_94 = re.match('.*æŠ½å¥–.*', tcontent, re.DOTALL)
        matchobj_93 = re.match('.*æŠ½å¥–.*å‚ä¸.*', tcontent, re.DOTALL)
        matchobj_91 = re.match('.*å€’éœ‰è›‹.*', tcontent, re.DOTALL)
        matchobj_90 = re.match('.*æ‡‚çš„.*|.*æ‡‚å¾—éƒ½æ‡‚|.*dddd|.*æ‡‚çš„éƒ½æ‡‚|.*å¯»æ‰¾å¤±ä¸»|.*å¤§æ‹‡å“¥.{0,5}è®¤é¢†', tcontent,
                               re.DOTALL)
        matchobj_89 = re.match('.*ç•™è¨€.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj_88 = re.match('.*è¯„è®º.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj_87 = re.match('.*å¤±ç‰©æ‹›é¢†.*|.*å¤±ç‰©è®¤é¢†.*', tcontent, re.DOTALL)
        matchobj_86 = re.match('.*æŠ½ä¸ªå¥–.*', tcontent, re.DOTALL)
        matchobj_85 = re.match('.*r.{0,3}o.{0,3}l.{0,3}l.*', tcontent, re.DOTALL)
        matchobj_84 = re.match('.*æœ¬.{0,10}åŠ¨æ€.{0,10}æŠ½.*', tcontent, re.DOTALL)
        matchobj_83 = re.match('.*å…³.{0,10}è¯„.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj_82 = re.match('.*èµ.{0,10}è¯„.{0,10}è½¬.*', tcontent, re.DOTALL)
        matchobj_81 = re.match('.*æ³¨.{0,3}å‘.*', tcontent, re.DOTALL)
        matchobj_80 = re.match('.*è½¬.{0,10}å…³.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_79 = re.match('.*å…³æ³¨.*roll.*', tcontent, re.DOTALL)
        matchobj_78 = re.match('.*roll.*å…³æ³¨.*', tcontent, re.DOTALL)
        matchobj_77 = re.match('.*æ‰¾.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj_76 = re.match('.*å…³æ³¨.*è¯„è®º.{0,10}è½¬å‘.*', tcontent, re.DOTALL)
        matchobj_75 = re.match('.*æŠ½.{0,10}ä½“éªŒ.*', tcontent, re.DOTALL)
        matchobj_74 = re.match('.*æŠ½.{0,10}å¥–åŠ±.*', tcontent, re.DOTALL)
        matchobj_73 = re.match('.*æŠ“.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj_72 = re.match('.*åŠ¨æ€æŠ½å¥–.*', tcontent, re.DOTALL)
        matchobj_71 = re.match('.*è½¬.*å…³.*æŠ½.{0,15}é€.*', tcontent, re.DOTALL)
        matchobj_70 = re.match('.*å…³æ³¨.{0,9}æœ‰æƒŠå–œ.*', tcontent, re.DOTALL)
        matchobj_69 = re.match('.*æŠ½.{0,9}å–å¥¶.*', tcontent, re.DOTALL)
        matchobj_68 = re.match('.*æŠ½.{0,9}å¾—åˆ°.*', tcontent, re.DOTALL)
        matchobj_67 = re.match('.*æŠ½.{0,9}è·å¾—.*', tcontent, re.DOTALL)
        matchobj_65 = re.match('.*æŠ½å¥–.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj_64 = re.match('.*è¯„è®º.{0,10}è¡¥è´´.*\\d+.*', tcontent, re.DOTALL)
        matchobj_63 = re.match('.*è½¦ä¸“æ‰Œç”±.*', tcontent, re.DOTALL)
        matchobj_62 = re.match('.*è½¦å…³.{0,20}é€.*', tcontent, re.DOTALL)
        matchobj_61 = re.match('.*æŠ½.{0,10}è¡¥è´´.*', tcontent, re.DOTALL)
        matchobj_60 = re.match('.*æŠ½.{0,10}å¸¦èµ°.*', tcontent, re.DOTALL)
        matchobj_59 = re.match('.*è¡¥è´´.{0,10}\d+å…ƒ.*', tcontent, re.DOTALL)
        matchobj_58 = re.match('.*è½¬{0,10}æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_57 = re.match('.*è¯„è®º.{0,9}æŠ½.*', tcontent, re.DOTALL)
        matchobj_56 = re.match('.*è¯„è®º.{0,9}æŠ½.*', tcontent, re.DOTALL)
        matchobj_55 = re.match('.*å…³æ³¨.{0,10}è¯„è®º', tcontent, re.DOTALL)
        matchobj_54 = re.match('.*è¯„è®º.{0,5}ç™½.{0,10}å«–.*', tcontent, re.DOTALL)
        matchobj_53 = re.match('.*è½¦ä¸“.*å…³.*', tcontent, re.DOTALL)
        matchobj_52 = re.match('.*è¯„è®º.*æŠ½.{0,9}çº¢åŒ….*', tcontent, re.DOTALL)
        matchobj_51 = re.match('.*è¯„è®º.*æŠ½.{0,9}çº¢åŒ….*', tcontent, re.DOTALL)
        matchobj_50 = re.match('.*è½¬.{0,9}æŠ½.*', tcontent, re.DOTALL)
        matchobj_49 = re.match('.*æŠ½1ä½50å…ƒçº¢åŒ….*', tcontent, re.DOTALL)
        matchobj_48 = re.match('.*æŠ½.{0,10}è¡¥è´´.*å…ƒ.*', tcontent, re.DOTALL)
        matchobj_47 = re.match('.*æŠ½.{0,10}è¡¥è´´.*å…ƒ.*', tcontent, re.DOTALL)
        matchobj_46 = re.match('.*æŠ½å¥–.*æŠ½.*å°ä¼™ä¼´.*è¯„è®º.*è½¬å‘.*', tcontent, re.DOTALL)
        matchobj_45 = re.match('.*å…³æ³¨.*ä¸€é”®ä¸‰è¿.*åˆ†äº«.*é€.*', tcontent, re.DOTALL)
        matchobj_44 = re.match('.*æŠ½.{0,10}å°å¯çˆ±.*æ¯äºº.*', tcontent, re.DOTALL)
        matchobj_43 = re.match('.*#æŠ½å¥–#.*å…³æ³¨.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_42 = re.match('.*å…³æ³¨.*å¹³è®º.*æŠ½.*æ‰“.*', tcontent, re.DOTALL)
        matchobj_41 = re.match('.*è½¬å‘.*è¯„è®º.*å…³æ³¨.*æŠ½.*è·å¾—.*', tcontent, re.DOTALL)
        matchobj_40 = re.match('.*å…³æ³¨.*è½¬å‘.*ç‚¹èµ.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_39 = re.match('.*è½¬å‘è¯„è®ºç‚¹èµæœ¬æ¡åŠ¨æ€.*é€.*', tcontent, re.DOTALL)
        matchobj_38 = re.match('.*æŒ‘é€‰.*è¯„è®º.*é€å‡º.*', tcontent, re.DOTALL)
        matchobj_37 = re.match('.*å¼¹å¹•æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_36 = re.match('.*éšæœº.*ä½å°ä¼™ä¼´.*ç°é‡‘çº¢åŒ….*', tcontent, re.DOTALL)
        matchobj_34 = re.match('.*è¯„è®º.*éšæœº.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_33 = re.match('.*è¯„è®º.*éšæœº.*æŠ“.*', tcontent, re.DOTALL)
        matchobj_32 = re.match('.*å‚ä¸æ–¹å¼.*è½¬å‘.*å…³æ³¨.*è¯„è®º.*', tcontent, re.DOTALL)
        matchobj_31 = re.match('.*è¯„è®º.*éšæœº.*æŠ“.*', tcontent, re.DOTALL)
        matchobj_30 = re.match('.*è¯„è®º.*éšæœº.*æŠ½.*è¡¥è´´.*', tcontent, re.DOTALL)
        matchobj_29 = re.match('.*è¯„è®ºåŒº.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_28 = re.match('.*è½¬å‘.*è¯„è®º.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_27 = re.match('.*äº’åŠ¨æŠ½å¥–.*', tcontent, re.DOTALL)
        matchobj_26 = re.match('.*#ä¾›ç”µå±€ç¦åˆ©ç¤¾#.*', tcontent, re.DOTALL)
        matchobj_25 = re.match('.*å…³æ³¨.*è¯„è®º.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_24 = re.match('.*è½¬å‘.*è¯„è®º.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_23 = re.match('.*å…³æ³¨.*è½¬å‘.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_22 = re.match('.*è¯„è®º.*è½¬å‘.*å…³æ³¨.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_21 = re.match('.*æœ‰å¥–è½¬å‘.*', tcontent, re.DOTALL)
        matchobj_20 = re.match('.*è¯„è®ºå°±æœ‰æœºä¼šæŠ½.*', tcontent, re.DOTALL)
        matchobj_19 = re.match('.*è½¬å‘.*å…³æ³¨.{0,10}é€‰.*', tcontent, re.DOTALL)
        matchobj_18 = re.match('.*å…³æ³¨+è¯„è®ºï¼Œéšæœºé€‰.*', tcontent, re.DOTALL)
        matchobj_17 = re.match('.*äº’åŠ¨æŠ½å¥–.*è¯„è®º.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_16 = re.match('.*å…³æ³¨.*è½¬å‘.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_15 = re.match('.*è½¬.*è¯„.*èµ.*é€', tcontent, re.DOTALL)
        matchobj_14 = re.match('.*è¯„è®ºåŒº.*æŠ½.{0,9}é€.*', tcontent, re.DOTALL)
        matchobj_13 = re.match('.*å…³æ³¨.*è¯„è®º.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_12 = re.match('.*è¯„è®ºè½¬å‘ç‚¹èµ.*æŠ½å–.*é€.*', tcontent, re.DOTALL)
        matchobj_11 = re.match('.*å…³æ³¨+è¯„è®º.*éšæœºé€‰.*é€.*', tcontent, re.DOTALL)
        matchobj_10 = re.match('.*æŠ½.{0,10}é€', tcontent, re.DOTALL)
        matchobj_9 = re.match('.*è½¬å‘.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_8 = re.match('.*è¯„è®º.*å…³æ³¨.*æŠ½', tcontent, re.DOTALL)
        matchobj_7 = re.match('.*è¯„è®º.*å…³æ³¨.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_6 = re.match('.*è¯„è®ºåŒº.{0,9}é€.*', tcontent, re.DOTALL)
        matchobj_4 = re.match('.*è½¬å‘.*æŠ½.*', tcontent, re.DOTALL)
        matchobj_3 = re.match('.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj_2 = re.match('.*è¯„è®ºåŒº.{0,15}æŠ½.*', tcontent, re.DOTALL)
        matchobj_1 = re.match('.*è½¬å‘.*å…³æ³¨.*', tcontent, re.DOTALL)
        matchobj = re.match('.*è½¬å‘.*é€.*', tcontent, re.DOTALL)
        matchobj0 = re.match('.*è½¬å‘.{0,30}æŠ½.*', tcontent, re.DOTALL)
        matchobj1 = re.match('.*å…³æ³¨.{0,7}æŠ½.*', tcontent, re.DOTALL)
        matchobj2 = re.match('.*è½¬.{0,7}è¯„.*', tcontent, re.DOTALL)
        matchobj3 = re.match('.*æœ¬æ¡.*é€.*', tcontent, re.DOTALL)
        matchobj5 = re.match('.*æŠ½.{0,10}é€.*', tcontent, re.DOTALL)
        matchobj23 = re.match('.*å…³æ³¨.*è½¬å‘.*æŠ½.*é€.*', tcontent, re.DOTALL)
        matchobj26 = re.match('.*ç”Ÿæ—¥ç›´æ’­.*ä¸Šèˆ°.*', tcontent, re.DOTALL)
        matchobj33 = re.match('.*å¿«å¿«ç‚¹å‡»ä¼ é€é—¨ä¸€èµ·æŠ½å¤§å¥–ï¼ï¼.*', tcontent, re.DOTALL)
        matchobj34 = re.match('.*è½¬å‘æŠ½å¥–ç»“æœ.*', tcontent, re.DOTALL)
        matchobj37 = re.match('.*å¥–å“è½¬é€ä¸¾æŠ¥äºº.*', tcontent, re.DOTALL)
        # matchobj44 = re.match('.*æ±‚ç‚¹èµå…³æ³¨è½¬å‘.*', tcontent, re.DOTALL)
        if (
                matchobj_117 == None and matchobj_116 == None and matchobj_115 == None and matchobj_114 == None and matchobj_113 == None and matchobj_112 == None and matchobj_111 == None and matchobj_110 == None and matchobj_109 == None and matchobj_108 == None and
                matchobj_107 == None and matchobj_106 == None and matchobj_105 == None and matchobj_104 == None and matchobj_103 == None and matchobj_102 == None and matchobj_101 == None and
                matchobj_100 == None and matchobj_98 == None and matchobj_97 == None and matchobj_96 == None and matchobj_95 == None and matchobj_94 == None and matchobj_93 == None
                and matchobj_91 == None and matchobj_90 == None and matchobj_89 == None and matchobj_88 == None and matchobj_87 == None and matchobj_86 == None and matchobj_85 == None
                and matchobj_84 == None and matchobj_83 == None and matchobj_82 == None and matchobj_81 == None and matchobj_80 == None and matchobj_79 == None and matchobj_78 == None and matchobj_77 == None
                and matchobj_76 == None and matchobj_75 == None and matchobj_74 == None and matchobj_73 == None and matchobj_72 == None and matchobj_71 == None and matchobj_70 == None and matchobj_69 == None
                and matchobj_68 == None and matchobj_67 == None and matchobj_65 == None and matchobj_64 == None
                and matchobj_63 == None and matchobj_62 == None and matchobj_61 == None and matchobj_60 == None and matchobj_59 == None and matchobj_58 == None and matchobj_57 == None and matchobj_56 == None
                and matchobj_55 == None and matchobj_54 == None and matchobj_53 == None and matchobj_52 == None and matchobj_51 == None and matchobj_50 == None and
                matchobj_49 == None and matchobj_48 == None and matchobj_47 == None and matchobj_46 == None and matchobj_45 == None and matchobj_44 == None and matchobj_43 == None and
                matchobj_42 == None and matchobj_41 == None and matchobj_40 == None and matchobj_39 == None and matchobj_38 == None and matchobj_37 == None and matchobj_36 == None
                and matchobj_34 == None and matchobj_33 == None and matchobj_32 == None and matchobj_31 == None
                and matchobj_30 == None and matchobj_29 == None and matchobj_28 == None and matchobj_27 == None
                and matchobj_26 == None and matchobj_25 == None and matchobj_24 == None and matchobj_23 == None
                and matchobj_22 == None and matchobj_21 == None and matchobj_20 == None and matchobj_19 == None
                and matchobj_18 == None and matchobj_17 == None and matchobj_16 == None and matchobj_15 == None
                and matchobj_14 == None and matchobj_13 == None and matchobj_12 == None and matchobj_11 == None
                and matchobj_10 == None and matchobj_9 == None and matchobj_8 == None and matchobj_7 == None
                and matchobj_6 == None and matchobj_4 == None and matchobj_3 == None
                and matchobj_2 == None and matchobj_1 == None and matchobj == None and matchobj0 == None
                and matchobj23 == None and matchobj1 == None and matchobj2 == None and matchobj3 == None
                and matchobj5 == None or matchobj26 != None or matchobj33 != None
                or matchobj34 != None or matchobj37 != None):
            return 1
        return None  # æŠ½å¥–ä¿¡æ¯åˆ¤æ–­      æ˜¯æŠ½å¥–è¿”å›None ä¸æ˜¯æŠ½å¥–è¿”å›1

    def zhuanfapanduan(self, dongtaineirong):
        '''
        è½¬å‘åˆ¤æ–­ éœ€è¦è½¬å‘è¿”å›1 ä¸éœ€è¦è½¬å‘è¿”å›None
        :param dongtaineirong:
        :return:
        '''
        dongtaineirong = dongtaineirong.replace('è½¦', 'è½¬')
        dongtaineirong = dongtaineirong.replace('ğŸ§±', 'è½¬')
        dongtaineirong = dongtaineirong.replace('ğŸ', 'è¯„')
        dongtaineirong = dongtaineirong.replace('å·', 'è½¬')
        dongtaineirong = dongtaineirong.replace('zhuan', 'è½¬')
        dongtaineirong = dongtaineirong.replace('ç –', 'è½¬')
        dongtaineirong = dongtaineirong.replace(' ', '')
        zhuanfapanduan_4 = re.match('.*ä¸å‡†è½¬å‘.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan_3 = re.match('.*ä¸ç”¨è½¬å‘.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan_2 = re.match('.*æ— éœ€è½¬å‘.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan_1 = re.match('.*åˆ«è½¬å‘.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan1 = re.match('.*è½¬å‘.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan3 = re.match('.*è½¬.{0,20}è¯„.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan4 = re.match('.*è½¬.{0,20}æŠ½.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan5 = re.match('.*è½¬.{0,20}æŠ½.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan6 = re.match('.*è½¬.{0,20}é€.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan10 = re.match('.*å·.{0,20}é€.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan11 = re.match('.*ä¸“.{0,20}è¯„.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan12 = re.match('.*ä¸“.{0,20}æŠ½.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan13 = re.match('.*ä¸“.{0,20}æŠ½.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan14 = re.match('.*ä¸“.{0,20}é€.*', str(dongtaineirong), re.DOTALL)
        zhuanfapanduan15 = re.match('.*è½¬è¯„|.*è½¬åŠ å…³|.*è½¬\+å…³', str(dongtaineirong), re.DOTALL)
        if (zhuanfapanduan1 == None and zhuanfapanduan3 == None and zhuanfapanduan4 == None
                and zhuanfapanduan5 == None and zhuanfapanduan6 == None and zhuanfapanduan10 == None and zhuanfapanduan11 == None and zhuanfapanduan12 == None
                and zhuanfapanduan13 == None and zhuanfapanduan14 == None and zhuanfapanduan15 == None
                or zhuanfapanduan_1 != None or zhuanfapanduan_2 != None or zhuanfapanduan_3 != None or zhuanfapanduan_4 != None
        ):
            return None
        else:
            return 1

    def caihongpi(self, username, uname, *uname1):  # username:è„šæœ¬ä½¿ç”¨è€…çš„åå­—     unameï¼šå‘èµ·æŠ½å¥–è€…çš„åå­—
        caihongpi = random.choice(self.official_caihongpilist)
        if uname1 == ():
            if uname in up_nickname_dict.keys():
                if '{1}' in caihongpi:
                    retmsg = caihongpi.format(up_nickname_dict.get(uname), username)
                else:
                    retmsg = caihongpi.format(up_nickname_dict.get(uname))
            else:
                if '{1}' in caihongpi:
                    retmsg = caihongpi.format(uname, username)
                else:
                    retmsg = caihongpi.format(uname)
                self.None_nickname.append(uname)
        else:
            uname1 = uname1[0]
            if uname in up_nickname_dict.keys():
                if uname1 in up_nickname_dict.keys():
                    if '{1}' in caihongpi:
                        retmsg = caihongpi.format(
                            '{0}å’Œ{1}'.format(up_nickname_dict.get(uname), up_nickname_dict.get(uname1)), username)
                    else:
                        retmsg = caihongpi.format(
                            '{0}å’Œ{1}'.format(up_nickname_dict.get(uname), up_nickname_dict.get(uname1)))
                else:
                    if '{1}' in caihongpi:
                        retmsg = caihongpi.format('{0}å’Œ{1}'.format(up_nickname_dict.get(uname), uname1), username)
                    else:
                        retmsg = caihongpi.format('{0}å’Œ{1}'.format(up_nickname_dict.get(uname), uname1))
                    self.None_nickname.append(uname1)
            else:
                if uname1 in up_nickname_dict.keys():
                    if '{1}' in caihongpi:
                        retmsg = caihongpi.format(
                            '{0}å’Œ{1}'.format(uname, up_nickname_dict.get(uname1)), username)
                    else:
                        retmsg = caihongpi.format(
                            '{0}å’Œ{1}'.format(uname, up_nickname_dict.get(uname1)))
                else:
                    if '{1}' in caihongpi:
                        retmsg = caihongpi.format('{0}å’Œ{1}'.format(uname, uname1), username)
                    else:
                        retmsg = caihongpi.format('{0}å’Œ{1}'.format(uname, uname1))
                    self.None_nickname.append(uname1)
                self.None_nickname.append(uname)
        return retmsg + random.choice(self.xiaoweiba) + random.choice(self.xiaoweibawenan)

    def get_all_sixin(self, uid, cookie, ua):
        url = 'https://api.vc.bilibili.com/svr_sync/v1/svr_sync/fetch_session_msgs?talker_id={}&session_type=1&size=10&begin_seqno=0&build=0&mobi_app=web'.format(
            uid)
        headers = {
            'cookie': cookie,
            'user-agent': ua
        }
        req = self.s.get(url=url, headers=headers)
        return req.json()

    def dynamic_equip_share(self, item_id, cookie, ua, csrf):
        url = 'https://api.bilibili.com/x/garb/user/dynamic/equip/share'
        headers = {
            'cookie': cookie,
            'user-agent': ua
        }
        data = {
            'csrf': csrf,
            'part': 'pendant',
            'item_id': item_id
        }
        req = self.s.post(url=url, headers=headers, data=data)
        return req.json()

    def get_pendant_item_id_list(self, cookie, ua, csrf):
        mylist = list()
        url = 'https://api.bilibili.com/x/garb/mall/list?csrf={}&part=pendant&tab_id=22&pn=1&ps=20'.format(csrf)
        data = {
            'csrf': csrf,
            'part': 'pendant',
            'tab_id': 22,
            'pn': 1,
            'ps': 20
        }
        headers = {
            'cookie': cookie,
            'user-agent': ua
        }
        req = self.s.get(url=url, data=data, headers=headers)
        if not req.json().get('code'):
            total = req.json().get('data').get('page').get('total')
            plist = req.json().get('data').get('list')
            for i in plist:
                mylist.append(i.get('item_id'))
            time.sleep(1)
            for i in range(2, int(total / 20) + 2):
                url = 'https://api.bilibili.com/x/garb/mall/list?csrf={0}&part=pendant&tab_id=22&pn={1}&ps=20'.format(
                    csrf, i)
                data = {
                    'csrf': csrf,
                    'part': 'pendant',
                    'tab_id': 22,
                    'pn': i,
                    'ps': 20
                }
                req = self.s.get(url=url, data=data, headers=headers)
                if not req.json().get('code'):
                    plist = req.json().get('data').get('list')
                    for i in plist:
                        mylist.append(i.get('item_id'))
                    time.sleep(1)
        return mylist

    def rid_dynamic_video(self, rid, _type=8):
        """
è·å–type==8çš„ridåŠ¨æ€
        :param rid:
        :param _type:
        :return:
        """
        print(f'å½“å‰typeç±»å‹ï¼š{_type}')
        # p=random.choice(proxy_pool.get('http'))
        url = f'https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/get_dynamic_detail?rid={rid}&type={_type}'
        data = {'rid': str(rid),
                'type': _type,
                }
        # ua = 'Mozilla/5.0 (compatible; bingbot/2.0 +http://www.bing.com/bingbot.htm)'
        ua = 'Mozilla/5.0 (Windows Phone 8.1; ARM; Trident/7.0; Touch; rv:11.0; IEMobile/11.0; NOKIA; Lumia 530) like Gecko BingPreview/1.0b'
        headers = {
            'authority': 'api.vc.bilibili.com',
            'method': 'GET',
            'scheme': 'https',
            'accept': 'application/json, text/plain, */*',
            'accept-encoding': 'gzip, deflate',
            'accept-language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6',
            'cache-control': 'no-cache',
            'origin': 'https://t.bilibili.com',
            'referer': 'https://t.bilibili.com/',
            'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': "\"Windows\"",
            'sec-fetch-dest': 'empty',
            'sec-fetch-mode': 'cors',
            'sec-fetch-site': 'same-site',
            'user-agent': ua,
            'X-Forwarded-For': '{}.{}.{}.{}'.format(random.choice(range(0, 255)), random.choice(range(0, 255)),
                                                    random.choice(range(0, 255)), random.choice(range(0, 255))),
            'X-Real-IP': '{}.{}.{}.{}'.format(random.choice(range(0, 255)), random.choice(range(0, 255)),
                                              random.choice(range(0, 255)), random.choice(range(0, 255))),
            'From': 'bingbot(at)microsoft.com',
        }
        try:
            req = self.s.request("GET", url=url, data=data, headers=headers)
            req_dict = req.json()
        except Exception as e:
            print('error\nerror\nerror\nerror\nerror\nerror\nerror\nerror\nerror\nerror\nerror\n')
            traceback.print_exc()
            err = traceback.format_exc()
            print(err)
            print(self.timeshift(time.time()))
            print('è¿›ç¨‹è¢«é˜»å¡')
            time.sleep(60)
            return self.rid_dynamic_video(rid)
        # if req_dict.get('code') == 0 and req_dict.get('msg') == '' and req_dict.get('message') == '' and req_dict.get(
        #         'data').get('result') is None and _type == 2:
        #     req_dict = self.rid_dynamic(rid=rid, _type=8)
        return req_dict

    def dynamic_repost_view_repost(self, dynamic_id):
        '''
        è·å–è½¬å‘è¯¦æƒ…
        :return:
        '''
        # TODO 114514
        url = 'https://api.live.bilibili.com/dynamic_repost/v1/dynamic_repost/view_repost'
        query = {
            'dynamic_id': dynamic_id
        }
        headers = {
            'origin': 'https://t.bilibili.com',
            'referer': 'https://t.bilibili.com/{}?spm_id_from=444.41.0.0'.format(dynamic_id),
            "User-Agent": "Mozilla/5.0 (Linux; Android 5.1.1; vivo X6S A Build/LMY47V; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/6.2 TBS/044207 Mobile Safari/537.36 MicroMessenger/6.7.3.1340(0x26070332) NetType/4G Language/zh_CN Process/tools",
            'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': "\"Windows\"",
            'sec-fetch-dest': 'empty',
            'sec-fetch-mode': 'cors',
            'sec-fetch-site': 'same-site',
            'accept': 'application/json, text/plain, */*',
            'accept-encoding': 'gzip, deflate',
            'accept-language': 'zh-CN,zh;q=0.9',
        }
        req = requests.get(url=url, headers=headers, params=query)
        return req.json()

    def rid_dynamic(self, rid, _type=2):
        print(f'å½“å‰typeç±»å‹ï¼š{_type}')
        # p=random.choice(proxy_pool.get('http'))
        url = f'https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/get_dynamic_detail?rid={rid}&type={_type}'
        data = {'rid': str(rid),
                'type': _type,
                }
        # ua = 'Mozilla/5.0 (compatible; bingbot/2.0 +http://www.bing.com/bingbot.htm)'
        # ua = 'Mozilla/5.0 (Windows Phone 8.1; ARM; Trident/7.0; Touch; rv:11.0; IEMobile/11.0; NOKIA; Lumia 530) like Gecko BingPreview/1.0b'
        ua = random.choice(self.User_Agent_List)
        headers = {
            'host': 'api.vc.bilibili.com',
            'authority': 'api.vc.bilibili.com',
            'method': 'GET',
            'path': f'/dynamic_svr/v1/dynamic_svr/get_dynamic_detail?rid={rid}&type={_type}',
            'scheme': 'https',
            'accept': 'text/html,application/json',
            'accept-encoding': 'gzip, deflate',
            'accept-language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6',
            'cache-control': 'no-cache',
            'origin': 'https://t.bilibili.com',
            'referer': f'https://t.bilibili.com/?rid={rid}&type={_type}',
            'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': "\"Windows\"",
            'sec-fetch-dest': 'empty',
            'sec-fetch-mode': 'cors',
            'sec-fetch-site': 'same-site',
            'user-agent': ua,
            # 'X-Forwarded-For': '{}.{}.{}.{}'.format(random.choice(range(0, 255)), random.choice(range(0, 255)),
            #                                         random.choice(range(0, 255)), random.choice(range(0, 255))),
            # 'X-Real-IP': '{}.{}.{}.{}'.format(random.choice(range(0, 255)), random.choice(range(0, 255)),
            #                                   random.choice(range(0, 255)), random.choice(range(0, 255))),
            # 'From': 'bingbot(at)microsoft.com',
        }
        try:
            req = self.s.request("GET", url=url, headers=headers)
            req_dict = req.json()
        except Exception as e:
            print('error\nerror\nerror\nerror\nerror\nerror\nerror\nerror\nerror\nerror\nerror\n')
            traceback.print_exc()
            err = traceback.format_exc()
            print(err)
            print(self.timeshift(time.time()))
            print('è¿›ç¨‹è¢«é˜»å¡')
            time.sleep(60)
            return self.rid_dynamic(rid)
        # if req_dict.get('code') == 0 and req_dict.get('msg') == '' and req_dict.get('message') == '' and req_dict.get(
        #         'data').get('result') is None and _type == 2:
        #     req_dict = self.rid_dynamic(rid=rid, _type=8)
        return req_dict

    def album_dynamic(self, rid, ):
        '''
        https://api.vc.bilibili.com/link_draw/v1/doc/detail?doc_id=
        é€šè¿‡doc_id,ä¹Ÿå°±æ˜¯åé¢çš„ridè·å–åŠ¨æ€
        è¿™ä¸ªæ¥å£ç°åœ¨éœ€è¦cookieéªŒè¯äº†â€”â€”2023.08.15
        :param rid:
        :return:
        '''
        # p=random.choice(proxy_pool.get('http'))
        url = f'https://api.vc.bilibili.com/link_draw/v1/doc/detail'
        params = {
            'doc_id': str(rid),
        }
        # ua = 'Mozilla/5.0 (compatible; bingbot/2.0 +http://www.bing.com/bingbot.htm)'
        # ua = 'Mozilla/5.0 (Windows Phone 8.1; ARM; Trident/7.0; Touch; rv:11.0; IEMobile/11.0; NOKIA; Lumia 530) like Gecko BingPreview/1.0b'
        ua = random.choice(self.User_Agent_List)
        headers = {
            'host': 'api.vc.bilibili.com',
            'authority': 'api.vc.bilibili.com',
            'method': 'GET',
            'path': f'/link_draw/v1/doc/detail?doc_id={rid}',
            'scheme': 'https',
            'accept': 'text/html,application/json',
            'accept-encoding': 'gzip, deflate',
            'accept-language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6',
            'cache-control': 'no-cache',
            'origin': 'https://h.bilibili.com/',
            'referer': f'https://h.bilibili.com/{rid}',
            'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': "\"Windows\"",
            'sec-fetch-dest': 'empty',
            'sec-fetch-mode': 'cors',
            'sec-fetch-site': 'same-site',
            'user-agent': ua,
            # 'X-Forwarded-For': '{}.{}.{}.{}'.format(random.choice(range(0, 255)), random.choice(range(0, 255)),
            #                                         random.choice(range(0, 255)), random.choice(range(0, 255))),
            # 'X-Real-IP': '{}.{}.{}.{}'.format(random.choice(range(0, 255)), random.choice(range(0, 255)),
            #                                   random.choice(range(0, 255)), random.choice(range(0, 255))),
            # 'From': 'bingbot(at)microsoft.com',
        }
        try:
            req = self.s.request("GET", url=url, params=params, headers=headers)
            req_dict = req.json()
        except Exception as e:
            print('error\nerror\nerror\nerror\nerror\nerror\nerror\nerror\nerror\nerror\nerror\n')
            traceback.print_exc()
            err = traceback.format_exc()
            print(err)
            print(self.timeshift(time.time()))
            print('è¿›ç¨‹è¢«é˜»å¡')
            time.sleep(60)
            return self.rid_dynamic(rid)
        # if req_dict.get('code') == 0 and req_dict.get('msg') == '' and req_dict.get('message') == '' and req_dict.get(
        #         'data').get('result') is None and _type == 2:
        #     req_dict = self.rid_dynamic(rid=rid, _type=8)
        return req_dict

    def _check_ip(self, p):
        '''
        åªæ£€æµ‹httpä»£ç†
        :param p:
        :return:
        '''
        try:
            url = 'http://httpbin.org/ip'
            return self.s.get(url, proxies=p).json()
        except:
            print('ipè·å–å¤±è´¥')
            return False

    def _check_comment(self, username, dynamic_id, rid, _type):  # è¿”å›trueä»£è¡¨è¯„è®ºå­˜åœ¨ï¼ŒNoneä»£è¡¨è¯„è®ºè¢«å
        time.sleep(5)
        unamelist = list()
        ctype = 17
        if str(_type) == '8':
            ctype = 1
        elif str(_type) == '4' or str(_type) == '1':
            ctype = 17
        elif str(_type) == '2':
            ctype = 11
        elif str(_type) == '64':
            ctype = 12
        if len(rid) == len(dynamic_id):
            oid = dynamic_id
        else:
            oid = rid
        fakeuseragent = random.choice(self.User_Agent_List)
        pinglunheader = {
            'user-agent': fakeuseragent,
            'X-Forwarded-For': '{}.{}.{}.{}'.format(random.choice(range(0, 255)), random.choice(range(0, 255)),
                                                    random.choice(range(0, 255)), random.choice(range(0, 255))),
            'X-Real-IP': '{}.{}.{}.{}'.format(random.choice(range(0, 255)), random.choice(range(0, 255)),
                                              random.choice(range(0, 255)), random.choice(range(0, 255))),
        }
        pinglunurl = 'https://api.bilibili.com/x/v2/reply/main?next=0&type=' + str(ctype) + '&oid=' + str(
            oid) + '&mode=2&plat=1&_=' + str(int(time.time()))
        try:
            pinglunreq = self.s.request("GET", url=pinglunurl, headers=pinglunheader)
        except Exception as e:
            traceback.print_exc()
            print('è·å–è¯„è®ºå¤±è´¥')
            traceback.print_exc()
            print(self.timeshift(int(time.time())))
            # while 1:
            #     try:
            #         time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            #         break
            #     except:
            #         continue
            time.sleep(3)
            return None
        if pinglunreq.json().get('code') != 0:
            print('è·å–åŠ¨æ€è¯„è®ºå¤±è´¥')
            print(username, dynamic_id, rid, _type, pinglunurl, pinglunreq.json())
            if pinglunreq.json().get('code') == -412:
                print('é£æ§äº†')
                time.sleep(60 * 3600)
                return self._check_comment(username, dynamic_id, rid, _type)
        replies = pinglunreq.json().get('data').get('replies')
        for rp in replies:
            uname = rp.get('member').get('uname')
            unamelist.append(uname)
        if username in unamelist:
            return True
        else:
            print(username)
            print(unamelist)
            return None

    def x_share_add(self, aid, cookie, ua, csrf):
        url = 'https://api.bilibili.com/x/web-interface/share/add'
        data = {
            'aid': aid,
            'jsonp': "jsonp",
            'csrf': csrf
        }
        headers = {
            'cookie': cookie,
            'user-agent': ua
        }
        req = self.s.post(url=url, data=data, headers=headers)
        print(req.text)
        return req.text

    def view_bvid(self, bvid):
        """
        bvidè·å–è§†é¢‘ä¿¡æ¯
        :param bvid:
        :return:json
        """
        url = 'https://api.bilibili.com/x/web-interface/view?bvid={}'.format(bvid)
        data = {
            'bvid': bvid
        }
        req = self.s.get(url=url, data=data)
        return req.json()

    def x_space_arc_search(self, mid, pn):
        """
è·å–ç”¨æˆ·ç©ºé—´è§†é¢‘json
        """
        url = 'https://api.bilibili.com/x/space/arc/search?mid={mid}&ps=30&tid=0&pn={pn}&keyword=&order=pubdate&jsonp=jsonp'.format(
            mid=mid, pn=pn)
        req = self.s.get(url)
        return req.json()

    def cookie_constructor(self, fullcookie):
        '''
        è·å–cookieçš„å­—å…¸æ ¼å¼
        :param fullcookie:
        :return:
        '''
        c_dict = dict()
        for i in fullcookie.split(';'):
            k = i.split('=')[0].strip()
            v = i.split('=')[1].strip()
            c_dict.update({k: v})
        return c_dict

    def Activity_ClockIn(self, cookie, ua):
        """
        Bç«™æ¼«ç”»ç­¾åˆ°
        :param cookie:
        :param ua:
        è¿”å›json
        """
        url = 'https://manga.bilibili.com/twirp/activity.v1.Activity/ClockIn'
        headers = {
            'content-type': 'application/x-www-form-urlencoded',
            'cookie': cookie,
            'user-agent': ua,
        }
        data = {
            'platform': 'android'
        }
        req = self.s.request(method='POST', url=url, headers=headers, data=data)
        print(req.json())
        return req.json()

    def _appsign(self, params, appkey='1d8b6e7d45233436', appsec='560c52ccd288fed045859ed18bffd973'):
        'ä¸ºè¯·æ±‚å‚æ•°è¿›è¡Œ api ç­¾å'
        params.update({'appkey': appkey})
        params = dict(sorted(params.items()))  # é‡æ’åºå‚æ•° key
        query = urllib.parse.urlencode(params)  # åºåˆ—åŒ–å‚æ•°
        sign = hashlib.md5((query + appsec).encode()).hexdigest()  # è®¡ç®— api ç­¾å
        params.update({'sign': sign})
        return params

    def client_query(self, params, *appkey):
        if appkey != ():
            signed_params = self._appsign(params, appkey[0])
        else:
            signed_params = self._appsign(params)
        query = urllib.parse.urlencode(signed_params)
        return query

    def getbuvid3(self, uid, target_url, cookie, ua):
        url = 'https://api.bilibili.com/x/web-frontend/getbuvid'
        data = {
            'mid': uid,
            'fts': '',
            'url': parse.quote_plus(target_url),
            'proid': 3,
            'ptype': 2,
            'module': "game",
            'ajaxtag': "",
            'ajaxid': "",
        }
        headers = {
            'cookie': cookie,
            'user-agent': ua
        }
        req = self.s.get(url=url, data=data, headers=headers)
        return req.json().get('data').get('buvid')

    def space_top_set(self, dynamic_id, csrf, uid, cookie, ua):
        url = 'https://api.vc.bilibili.com/dynamic_mix/v1/dynamic_mix/space_top_set'
        data = {
            'dynamic_id': dynamic_id,
            'csrf': csrf
        }
        headers = {
            'origin': 'https://space.bilibili.com',
            'referer': 'https://space.bilibili.com/{}/dynamic?spm_id_from=444.42.0.0'.format(uid),
            'sec-ch-ua': "\"Google Chrome\";v=\"105\", \"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"105\"",
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': "\"Windows\"",
            'sec-fetch-dest': 'empty',
            'sec-fetch-mode': 'cors',
            'sec-fetch-site': 'same-site',
            'cookie': cookie,
            'user-agent': ua,
            'content-type': 'application/x-www-form-urlencoded',
            'accept': 'application/json, text/plain, */*',
            'accept-encoding': 'gzip, deflate, br',
            'accept-language': 'zh-CN,zh;q=0.9',
        }
        req = self.s.post(url=url, data=data, headers=headers)
        print(req.text)

    def login_check(self, cookie, ua):
        headers = {
            'User-Agent': ua,
            'cookie': cookie
        }
        url = 'https://api.bilibili.com/x/web-interface/nav'
        res = self.s.get(url=url, headers=headers).json()
        if res['data']['isLogin'] == True:
            name = res['data']['uname']
            print('ç™»å½•æˆåŠŸ,å½“å‰è´¦å·ç”¨æˆ·åä¸º%s' % name)
            return {'name': res['data']['uname'], 'uid': res['data']['mid']}
        else:
            print('ç™»é™†å¤±è´¥,è¯·é‡æ–°ç™»å½•')
            sys.exit('ç™»é™†å¤±è´¥,è¯·é‡æ–°ç™»å½•')

    def name_to_uid(self, uname):
        url = f'https://api.vc.bilibili.com/dynamic_mix/v1/dynamic_mix/name_to_uid?names={uname}&teenagers_mode=0'
        req = self.s.get(url=url)
        if req.json().get('data').get('uid_list'):
            return req.json().get('data').get('uid_list')[0].get('uid')
        else:
            return ''

    def raw_text_process(self, raw_text):
        def combine_check(input_str):
            if not '@' in input_str and not '[' in input_str and not ']' in input_str:
                return True
            else:
                return False

        def content_split(_raw_text):
            a = _raw_text.split(' ')
            templist1 = []
            for i in a:
                if '@' in i:
                    templist1.append(i)
                    templist1.append(' ')
                elif '[' in i and ']' in i:
                    templist1.extend(re.findall('(\[.*?])', i))
                    i = re.sub('(\[.*?])', '', i)
                    templist1.append(i)
                else:
                    templist1.append(i)
            start = 0
            end = len(templist1) - 1
            for i in range(len(templist1)):
                if templist1[i] == '':
                    templist1[i] = ' '
            while 1:
                if start >= end: break
                if combine_check(templist1[start]):
                    if combine_check(templist1[start + 1]):
                        templist1[start] = templist1[start] + templist1[start + 1]
                        templist1.pop(start + 1)
                        end -= 1
                        continue
                start += 1
            return templist1

        if raw_text == ' ' or raw_text == '':
            raw_text = 'è½¬å‘åŠ¨æ€'
        split_content = content_split(raw_text)
        c = []
        for i in split_content:
            if '[' in i and ']' in i:
                c.append({
                    'biz_id': '',
                    'raw_text': i,
                    'type': 9
                })
            elif '@' in i:
                mid = self.name_to_uid(i[1:])
                if mid:
                    c.append({
                        'biz_id': mid,
                        'raw_text': i,
                        'type': 2
                    })
                else:
                    c.append({
                        'biz_id': '',
                        'raw_text': i,
                        'type': 1
                    })
            else:
                c.append({
                    'biz_id': '',
                    'raw_text': i,
                    'type': 1
                })
        return {'content': {'contents': c}}

    def reply_feed_create_dyn(self, uid, dynamic_id, raw_text, cookie, ua, csrf):
        """
        æ–°ç‰ˆæœ¬çš„è½¬å‘åŠ¨æ€
        :param uid:è‡ªå·±çš„uid
        :param dynamic_id:
        :param raw_text:
        :param cookie:
        :param ua:
        :param csrf:
        :return: {"dyn_id":687243841675198471,"dyn_id_str":"687243841675198471","dyn_type":1,"dyn_rid":687243841740210243}}
        """

        def submit_check(__dynamic_id, __raw_text, __cookie, __ua, __csrf):
            __url = f'https://api.bilibili.com/x/dynamic/feed/create/submit_check?csrf={__csrf}'
            __data = self.raw_text_process(__raw_text)
            headers = {
                'accept': 'application/json, text/plain, */*',
                'accept-encoding': 'gzip, deflate, br',
                'accept-language': 'zh-CN,zh;q=0.9',
                'content-type': 'application/json;charset=UTF-8',
                'cookie': __cookie,
                'origin': 'https://t.bilibili.com',
                'referer': f'https://t.bilibili.com/{__dynamic_id}',
                'user-agent': __ua
            }
            __req = self.s.post(url=__url, data=json.dumps(__data), headers=headers)
            if __req.json().get('code') == 0:
                return True, __data
            else:
                print(__req.text)
                print('æ£€æŸ¥å‡ºé”™')
                return False

        def get_upload_id(__uid):
            return f'{__uid}_{int(time.time())}_{math.floor(1e3 * random.random())}'

        res = submit_check(dynamic_id, raw_text, cookie, ua, csrf)
        time.sleep(0.2)
        if res[0]:
            url = f'https://api.bilibili.com/x/dynamic/feed/create/dyn?csrf={csrf}'
            data = {
                'dyn_req': {"content": res[1].get('content'), "scene": 4, "upload_id": get_upload_id(uid),
                            "meta": {"app_meta":
                                         {"from": "create.dynamic.web",
                                          "mobi_app": "web"}}},
                "web_repost_src": {"dyn_id_str": str(dynamic_id)}
            }
            headers = {
                'accept': 'application/json, text/plain, */*',
                'accept-encoding': 'gzip, deflate, br',
                'accept-language': 'zh-CN,zh;q=0.9',
                'content-type': 'application/json;charset=UTF-8',
                'cookie': cookie,
                'origin': 'https://t.bilibili.com',
                'referer': f'https://t.bilibili.com/{dynamic_id}',
                'user-agent': ua
            }
            req = self.s.post(url=url, data=json.dumps(data), headers=headers)
            if req.json().get('code') == 0:
                print('è½¬å‘æˆåŠŸ')
                return req.json().get('data')
            # {'dyn_id': 687256039630831623, 'dyn_id_str': '687256039630831623', 'dyn_type': 1, 'dyn_rid': 687256039451525142}
            else:
                print('è½¬å‘å¤±è´¥')
                print(req.json())
                self.zhuanfashibai.append(f'https://t.bilibili.com/{dynamic_id}\t{req.json()}')

    def relation_modify(self, act, fid, cookie, ua, csrf):
        """
        :param act: 1æ˜¯å…³æ³¨ï¼Œ2æ˜¯å–å…³
        :param fid: å…³æ³¨å¯¹è±¡uid
        :param cookie:
        :param ua:
        :param csrf:
        :return:
        """
        url = f'https://api.bilibili.com/x/relation/modify?act={act}&fid={fid}&spmid=444.42&re_src=0&csrf={csrf}'
        headers = {
            'accept': 'application/json, text/plain, */*',
            'accept-encoding': 'gzip, deflate, br',
            'accept-language': 'zh-CN,zh;q=0.9',
            'content-type': 'application/json;charset=UTF-8',
            'cookie': cookie,
            'origin': 'https://t.bilibili.com',
            'referer': 'https://t.bilibili.com/',
            'user-agent': ua
        }
        req = self.s.post(url=url, headers=headers)
        if req.json().get('code') == 0:
            if act == 1:
                print(f'å…³æ³¨æ“ä½œæˆåŠŸ\tå…³æ³¨äº† https://space.bilibili.com/{fid}/dynamic')
                return True
            else:
                print('å–å…³æ“ä½œæˆåŠŸ\tå–å…³äº† https://space.bilibili.com/{fid}/dynamic')
                return True
        else:
            print(req.text)
            print('æ“ä½œå¤±è´¥')
            self.guanzhushibai.append(f'https://space.bilibili.com/{fid}\t{req.json()}')
            return False

    def pre_msg_processing(self, content):
        """
        åˆ¤æ–­é¢„å¤„ç†çš„å†…å®¹ï¼Œç¡®ä¿å†…å®¹å«æœ‰é‡Œé¢çš„ä¸œè¥¿
        :param content:
        :return:
        """
        premsg = ''  # åˆ¤æ–­æ˜¯å¦éœ€è¦@æˆ–è€…å¸¦è¯é¢˜
        content = content.replace('ï¼ ', '@')
        content = re.sub('@([^ ]{0,10}) ', '', content, re.DOTALL)
        content = content.replace('è½¬å‘è¯é¢˜', 'å¸¦è¯é¢˜')
        content = content.replace('ï¼ƒ', '#')
        non_topic_content = re.sub('(?<=#)(.{0,10})(?=#)', '', content, re.DOTALL)
        topobj_6 = re.match('.*@.{0,3}ä½.*|.*@.{0,3}å.*', non_topic_content, re.DOTALL)
        topobj_5 = re.match('.*@.{0,3}1ä½.*|.*@.{0,3}1å.*', non_topic_content, re.DOTALL)
        topobj_4 = re.match('.*@.{0,3}ä¸€ä½.*|.*@.{0,3}ä¸€å.*', non_topic_content, re.DOTALL)
        topobj_3 = re.match('.*@.{0,3}ä¸€ä½å¥½å‹.*|.*@.{0,3}ä½ çš„|.*@.{0,3}ä¸€åå¥½å‹.*', non_topic_content, re.DOTALL)
        topobj_2 = re.match('.*è‰¾ç‰¹.{0,3}ä½å¥½å‹.*|.*è‰¾ç‰¹.{0,3}åå¥½å‹.*', non_topic_content, re.DOTALL)
        topobj_1 = re.match('.*@ä½ æƒ³ç¥ç¦çš„äºº.*', non_topic_content, re.DOTALL)
        topobj0 = re.match('.*@{0,3}ä½èƒ–å‹.*|.*@{0,3}åèƒ–å‹.*', non_topic_content, re.DOTALL)
        topobj1 = re.match('.*åœˆ.{0,3}ä½ä½ çš„ä¼™ä¼´.*|.*åœˆ.{0,3}åä½ çš„ä¼™ä¼´.*', non_topic_content, re.DOTALL)
        topobj2 = re.match('.*å¸¦tag#.{0,20}#.*', non_topic_content, re.DOTALL)
        topobj3 = re.match('.*å¸¦è¯é¢˜.{0,15}#.{0,20}#((?!æŠ•ç¨¿).)*$', non_topic_content, re.DOTALL)
        topobj4 = re.match('.*å¸¦ä¸Štag#.{0,20}#((?!æŠ•ç¨¿).)*$', non_topic_content, re.DOTALL)
        topobj5 = re.match('.*å¸¦#.{0,20}#.{0,10}è¯é¢˜((?!æŠ•ç¨¿).)*$', non_topic_content, re.DOTALL)
        topobj6 = re.match('.*è‰¾ç‰¹å¥½å‹.*', non_topic_content, re.DOTALL)
        topobj7 = re.match('.*@ä¸€åå¥½å‹.*|.*@ä¸€ä½å¥½å‹.*', non_topic_content, re.DOTALL)
        topobj8 = re.match('.*@ä½ çš„.{0,3}ä¸ªå°ä¼™ä¼´.*', non_topic_content, re.DOTALL)
        topobj9 = re.match('.*@ä¸¤ä½å¥½å‹.*', non_topic_content, re.DOTALL)
        topobj10 = re.match('.*å¸¦#.{0,20}#((?!æŠ•ç¨¿).)*$', non_topic_content, re.DOTALL)
        topobj11 = re.match('.*@.{0,5}çš„ä¸€ä¸ªå¥½å‹.*', non_topic_content, re.DOTALL)
        topobj12 = re.match('.*å¸¦[^æ¥ã€‘çœ‹æ‡‚]{0,5}#.{0,20}#((?!æŠ•ç¨¿).)*$', non_topic_content, re.DOTALL)
        topobj13 = re.match('.*åŠ è¯é¢˜#.{0,20}#((?!æŠ•ç¨¿).)*$', non_topic_content, re.DOTALL)
        topobj14 = re.match('.*å¸¦æ ‡ç­¾#.{0,20}#((?!æŠ•ç¨¿).)*$', non_topic_content, re.DOTALL)
        if topobj_6 is not None or topobj6 is not None or topobj_5 is not None or topobj_4 is not None or topobj_3 is not None or topobj_2 is not None or topobj_1 is not None or topobj0 is not None or topobj1 is not None \
                or topobj7 is not None or topobj8 is not None or topobj11 is not None:
            premsg = f'@{random.choice(self.at_member)} '
        elif topobj9 is not None:
            premsg = f'@{random.choice(self.at_member)} @{random.choice(self.at_member)} '
        elif topobj2 is not None:
            msg = re.findall(r'.*å¸¦tag#(.{0,20})#.*', content, re.DOTALL)
            for i in msg:
                premsg += '#' + str(i) + '#'
        elif topobj3 is not None:
            msg = re.findall(r'.*å¸¦è¯é¢˜.*?#(.{0,20})#.*', content, re.DOTALL)
            for i in msg:
                premsg += '#' + str(i) + '#'
        elif topobj4 is not None:
            msg = re.findall(r'.*å¸¦ä¸Štag#(.{0,20})#.*', content, re.DOTALL)
            for i in msg:
                premsg += '#' + str(i) + '#'
        elif topobj5 is not None:
            msg = re.findall(r'.*å¸¦#(.{0,20})#.{0,10}è¯é¢˜.*', content, re.DOTALL)
            for i in msg:
                premsg += '#' + str(i) + '#'
        elif topobj10 is not None:
            msg = re.findall(r'.*å¸¦#(.{0,20})#.*', content, re.DOTALL)
            for i in msg:
                premsg += '#' + str(i) + '#'
        elif topobj12 is not None:
            msg = re.findall(r'.*å¸¦.{0,10}#(.{0,20})#.*', content, re.DOTALL)
            for i in msg:
                premsg += '#' + str(i) + '#'
        elif topobj13 is not None:
            msg = re.findall(r'.*åŠ è¯é¢˜#(.{0,20})#.*', content, re.DOTALL)
            for i in msg:
                premsg += '#' + str(i) + '#'
        elif topobj14 is not None:
            msg = re.findall(r'.*å¸¦æ ‡ç­¾#(.{0,20})#.*', content, re.DOTALL)
            for i in msg:
                premsg += '#' + str(i) + '#'
        if '#' in premsg:
            tpremsg = ''
            for _ in range(len(premsg.split('#'))):
                if premsg.split('#')[_] != '' and premsg.split('#')[_] != ' ' and premsg.split('#')[_] != '  ' and \
                        premsg.split('#')[_] != 'å’Œ':
                    if len(tpremsg) < 18:
                        tpremsg += '#' + premsg.split('#')[_] + '#'
            premsg = tpremsg

        if '#' in premsg:
            tpremsg = ''
            for i in premsg.split('#'):
                if i != '' and i != ' ' and i != 'å’Œ':
                    tpremsg += '#' + i + '#'
            premsg = tpremsg
        return premsg

    def huifuneirong(self, official_type, content, dynamic_id, rid, _type, pre_dynamic_uname,
                     *origin_dynamic_uname):  # å›å¤å†…å®¹çš„åˆ¤æ–­
        """

        :param official_type: è´¦å·è®¤è¯ç±»å‹ï¼Œ1å®˜å·ï¼›0é»„vï¼›-1ä¸€èˆ¬äºº
        :param content: åŠ¨æ€å†…å®¹
        :param dynamic_id: åŠ¨æ€id
        :param rid: åŠ¨æ€rid
        :param _type: åŠ¨æ€ç±»å‹
        :param pre_dynamic_uname:é—´æ¥è½¬å‘çš„åŠ¨æ€ç”¨æˆ·å
        :param origin_dynamic_uname: åŸåŠ¨æ€çš„ç”¨æˆ·å
        :return:
        """

        def huifuneirongpanduan(_reply_content_list, _premsg):
            for _i in range(self.pinglunzhuanbiancishu):
                bt = 0
                while 1:
                    _msg = ''.join(random.choice(_reply_content_list))
                    _sums = 0
                    for _wordcount in _reply_content_list:
                        _sums += len(_wordcount)
                    if len(_msg) <= int(self.range_copy_comment * _sums / len(_reply_content_list)):
                        break
                    elif bt > 10:
                        _msg = ''
                        break
                    else:
                        bt += 1
                _biaoqingbao = re.findall('(?<=\[)(.*?)(?=\])', _msg, re.DOTALL)
                if _biaoqingbao:
                    _tihuanbiaoqing = self.panduanbiaoqingbao(_biaoqingbao)
                    if _tihuanbiaoqing:
                        for _noemo in _tihuanbiaoqing:
                            _msg = _msg.replace(_noemo, random.choice(self.changyongemo))
                # msg += '[' + random.choice(self.changyongemo) + ']'
                if 'ç››ç™¾å‡¡' in _msg:
                    continue
                if '@' in _msg:
                    if '@' in _premsg:
                        _msg = re.sub(r'@(.*?)', f'@{random.choice(self.at_member)} ', _msg, re.S)
                    else:
                        continue
                if '#' in _msg:
                    if '#' not in _premsg:
                        _msg = re.sub(r'(#.*?#)', '', _msg, re.S)
                if _premsg != '':
                    if _premsg in _msg:
                        print('é™„å¸¦premsgæŠ„çš„è¯„è®ºï¼š' + _msg)
                        return _msg
                    else:
                        print('é™„å¸¦premsgæŠ„çš„è¯„è®ºï¼š' + _premsg + _msg)
                        return _premsg + _msg
                print('æ— premsgæŠ„çš„è¯„è®ºï¼š' + _msg)
                return _msg

        try:
            if origin_dynamic_uname[0] == pre_dynamic_uname:
                origin_dynamic_uname = ()
        except:
            pass
        try:
            if origin_dynamic_uname is None:
                origin_dynamic_uname = ()
        except:
            pass
        msg = ''
        premsg = self.pre_msg_processing(content)

        if 'è¯„è®ºä½ å–œæ¬¢ä»€ä¹ˆå£å‘³' in content:
            return random.choice(['å·§å…‹åŠ›', 'é¦™è‰', 'è”“è¶Šè“å‘³', 'è“è“', 'èŠ’æœ', 'æŠ¹èŒ¶', ''])
        if 'å–œæ¬¢ä»€ä¹ˆé›¶é£Ÿ' in content or 'ä½ å–œæ¬¢çš„é›¶é£Ÿ' in content or 'è¯„è®ºä½ å–œæ¬¢åƒçš„é›¶é£Ÿ' in content or 'è¯„è®ºä½ æœ€å–œæ¬¢åƒçš„é›¶é£Ÿ' in content:
            return random.choice(['è–¯ç‰‡', 'å·§å…‹åŠ›', 'è¾£æ¡', 'éº¦ä¸½ç´ '])
        if 'è¯„è®ºä½ å–œæ¬¢çš„é¢œè‰²' in content or 'è¯„è®ºä½ å–œæ¬¢ä»€ä¹ˆé¢œè‰²' in content or 'è¯„è®ºä½ æœ€å–œæ¬¢å“ªä¸ªé¢œè‰²' in content or 'è¯„è®ºä½ æœ€çˆ±çš„é¢œè‰²' in content:
            return random.choice(['ç™½è‰²', 'é»‘è‰²', 'é»„è‰²', 'ç»¿è‰²', 'è“è‰²', 'çº¢è‰²'])
        if 'è¯„è®ºä½ æš—æ‹çš„å¥³ç¥' in content or 'è¯„è®ºä½ å–œæ¬¢çš„å¥³ç¥' in content or 'è¯„è®ºä½ å–œæ¬¢çš„å¦¹å­' in content:
            return random.choice(['èµµä»Šéº¦', 'æ¨å¹‚', 'é«˜æœ¨', 'æœ±èŒµ', 'æœ´ä¿¡æƒ ', 'åˆ˜è¯—è¯—', 'é«˜åœ†åœ†', 'è¿ªä¸½çƒ­å·´'])
        if 'è¯„è®ºä½ æœ€å–œæ¬¢å–å“ªä¸ªå£å‘³' in content:
            return random.choice(
                ['æŸ æª¬', 'ç™½æ¡ƒå‘³', 'ç™½æ¡ƒå‘³yyds', 'æ¨±èŠ±ç™½å…°åœ°é£å‘³', 'è‰è“å‘³', 'æ°´èœœæ¡ƒ', 'å†°æ¿€å‡Œå‘³', 'è”æ'])
        if 'è¯„è®ºè¯´è¯´' not in content and 'è¯„è®ºåŒºè¯´è¯´' not in content and 'è¯„è®ºåŒºç•™ä¸‹' not in content \
                and 'è¯„è®ºä½ ç™½å«–' not in content and 'è¯„è®ºåŒºé‡Œäº¤æµ' not in content and 'å‘Šè¯‰' not in content \
                and 'è¯´å‡ºä½ çš„ç­”æ¡ˆ' not in content and 'è¯„è®ºåŒºåˆ†äº«' not in content and 'è¯é¢˜å‚ä¸' not in content and 'é•¿æŒ‰å¤åˆ¶' not in content \
                and 'è¯„è®ºä½ å–œæ¬¢ä»€ä¹ˆå£å‘³' not in content:
            pass
        else:
            if 'é•¿æŒ‰å¤åˆ¶' in content:
                if random.random() < self.chance_shangjiayingguang:
                    msg = random.choice(self.shangjiayingguang)
                    return premsg + msg

        if official_type == 1:  # åˆ¤æ–­å¦‚æœæ˜¯å®˜å·æ˜¯å¦æœ‰å½©è™¹å±è¦è¯´
            if random.random() < self.caihongpi_chance:  # è‡ªå®šä¹‰å½©è™¹å±çš„æ¦‚ç‡
                if 'è¯„è®ºè¯´è¯´' not in content and 'è¯„è®ºåŒºè¯´è¯´' not in content and 'è¯„è®ºåŒºç•™ä¸‹' not in content \
                        and 'è¯„è®ºä½ ç™½å«–' not in content and 'è¯„è®ºåŒºé‡Œäº¤æµ' not in content and 'å‘Šè¯‰' not in content \
                        and 'è¯´å‡ºä½ çš„ç­”æ¡ˆ' not in content and 'è¯„è®ºåŒºåˆ†äº«' not in content and 'è¯é¢˜å‚ä¸' not in content and 'é•¿æŒ‰å¤åˆ¶' not in content \
                        and 'è¯„è®ºä½ å–œæ¬¢ä»€ä¹ˆå£å‘³' not in content:
                    if origin_dynamic_uname == ():
                        msg = self.caihongpi(self.username, pre_dynamic_uname)
                        # if 'äº¬ä¸œå¡' in content:
                        #     msg = 'è®¸æ„¿äº¬ä¸œå¡[æœªæ¥æœ‰ä½ _æ‰“call]' + msg
                        # elif 'å¤§ä¼šå‘˜' in content:
                        #     msg = 'è®¸æ„¿å¤§ä¼šå‘˜[æœªæ¥æœ‰ä½ _æ‰“call]' + msg
                        print('ä½¿ç”¨å®˜æ–¹å½©è™¹å±')
                        return premsg + msg
                    else:
                        origin_dynamic_uname = origin_dynamic_uname[0]
                        msg = self.caihongpi(self.username, pre_dynamic_uname, origin_dynamic_uname)
                        # if 'äº¬ä¸œå¡' in content or 'äº¬ä¸œEå¡' in content:
                        #     msg = 'è®¸æ„¿äº¬ä¸œå¡[æœªæ¥æœ‰ä½ _æ‰“call]' + msg
                        # elif 'å¤§ä¼šå‘˜' in content:
                        #     msg = 'è®¸æ„¿å¤§ä¼šå‘˜[æœªæ¥æœ‰ä½ _æ‰“call]' + msg
                        print('ä½¿ç”¨å®˜æ–¹å½©è™¹å±')
                        return premsg + msg
        else:
            if random.random() < self.non_official_chp_chance:
                msg = random.choice(self.non_official_chp)
                print('ä½¿ç”¨éå®˜æ–¹å½©è™¹å±')
                return premsg + msg

        # æŠ„è¯„è®ºéƒ¨åˆ†/æœªè·å–åˆ°è¯„è®ºä¹Ÿå°†æŠ„è¯„è®º
        print('msg:', msg)
        if msg == '' or random.random() < self.chance_copy_comment:
            pn = 0
            qianpai_xishu = 0.8
            for i in range(self.pinglunzhuanbiancishu):
                print(f'ç¬¬{i + 1}æ¬¡è·å–è¯„è®º')
                pinglun_req = self.get_pinglunreq(dynamic_id, rid, pn, _type)
                try:
                    pinglun_dict = json.loads(pinglun_req)
                    pinglun_count = pinglun_dict.get('data').get('cursor').get('all_count')
                except Exception as e:
                    print(e)
                    print(pinglun_req)
                    print('è·å–è¯„è®ºå¤±è´¥')
                    return '[åƒç“œ]'
                if pinglun_count != 0:
                    if json.loads(pinglun_req).get('code') == 0:
                        reply_content = []
                        top_reply_list = []
                        pinglun_list = pinglun_dict.get('data').get('replies')
                        top_reply = pinglun_dict.get('data').get('top_replies')
                        if top_reply:
                            for __i in top_reply:
                                top_reply_list.append(__i.get('content').get('message'))
                        for reply in pinglun_list:
                            if reply not in top_reply_list:
                                reply_content.append(reply.get('content').get('message'))
                        print(reply_content)
                        print(premsg)
                        if reply_content != []:
                            ret_msg = huifuneirongpanduan(reply_content, premsg)
                        else:
                            ret_msg = ''
                        if ret_msg != '':
                            ret_msg += random.choice(self.copy_suffix)
                            return ret_msg
                        else:
                            try:
                                pnlist = list(range(int(qianpai_xishu * pinglun_count), int(1 * pinglun_count)))
                            except:
                                print(pinglun_count)
                                pnlist = []
                            if not pnlist:
                                print('åŠ¨æ€ä¸‹è¯„è®ºè¿‡å°‘ï¼Œè¯„è®ºè·å–å¤±è´¥')
                                break
                            pn = random.choice(pnlist)
                    else:
                        print(f'åŠ¨æ€ï¼šhttps://t.bilibili.com/{dynamic_id} è¯„è®ºä¸ºç©º')

        print('æ­¤æ¬¡æŠ„è¯„è®ºå…³é—­ï¼Œå¯ç”¨è„šæœ¬å†…ç½®å›å¤')
        mobj_6 = re.match('.*ä¸ƒå¤•.*', content, re.DOTALL)
        mobj_5 = re.match('.*è®¸æ„¿æ ¼å¼ï¼šæœ‰è¶£çš„æ„¿æœ›+æ„¿æœ›å®ç°åŸå¸‚ï¼.*', content, re.DOTALL)
        mobj_4 = re.match('.*å¸¦è¯é¢˜ #.*#.*', content, re.DOTALL)
        mobj_2 = re.match('.*å¸¦è¯é¢˜.{0,10}#.*#.*', content, re.DOTALL)
        mobj_1 = re.match('.*è¯„è®º#.*#.*', content, re.DOTALL)
        mobj = re.match('.*åœ¨è¯„è®ºåŒºæ‰“å‡º#.*#.*', content, re.DOTALL)
        mobj1 = re.match('.*è¯„è®ºåŒºåˆ·#.*#.*', content, re.DOTALL)
        mobj4 = re.match('.*å¸¦#.*#.*', content, re.DOTALL)
        mobj5 = re.match('.*ä¸º.*åŠ æ²¹.*', content, re.DOTALL)
        mobj6 = re.match('.*éšæœºæ•°æ–¹å¼æŠ½å–åˆ°.*', content, re.DOTALL)
        mobj7 = re.match('.*è¯„è®ºè¯é¢˜#.*#.*', content, re.DOTALL)
        mobj8 = re.match('.*å¥¥è¿ªåŒé’»AULDEY.*', content, re.DOTALL)
        mobj9 = re.match('.*è¯´è¯´.*è®¡åˆ’.*', content, re.DOTALL)
        mobj10 = re.match('.*é¢„å‘Š.*', content, re.DOTALL)
        mobj11 = re.match('.*é•¿æŒ‰å¤åˆ¶è¿™æ¡ä¿¡æ¯.*', content, re.DOTALL)
        mobj12 = re.match('.*æŠŠ.*æ‰“åœ¨è¯„è®ºåŒº.*', content, re.DOTALL)
        mobj13 = re.match('.*åä¸º.*ç³»åˆ—.*', content, re.DOTALL)
        mobj14 = re.match('.*ç”Ÿæ—¥ç¥ç¦.*', content, re.DOTALL)
        if mobj_6 != None:
            msg = 'æµªæ¼«ä¸ƒå¤•'
            return msg
        if mobj_5 != None:
            msg = 'ä¸­ä¸ªå¤§å¥–'
            return msg
        if mobj_4 != None:
            msg = re.findall(r'å¸¦è¯é¢˜ #(.*?)#', content, re.DOTALL)
            msg1 = '#' + str(msg[0]) + '#'
            return msg1
        if mobj_2 != None:
            msg = re.findall(r'å¸¦è¯é¢˜  #(.*?)#', content, re.DOTALL)
            msg1 = '#' + str(msg[0]) + '#'
            return msg1
        if mobj_1 != None:
            msg = re.findall(r'è¯„è®º#(.*?)#ï¼Œ', content, re.DOTALL)
            msg1 = '#' + str(msg[0]) + '#'
            return msg1
        if mobj != None:
            msg = re.findall(r'åœ¨è¯„è®ºåŒºæ‰“å‡º#(.*?)#ï¼Œ', content, re.DOTALL)
            msg1 = '#' + str(msg[0]) + '#'
            return msg1
        if mobj1 != None:
            msg = re.findall(r'è¯„è®ºåŒºåˆ·#(.*?)#ï¼Œ', content, re.DOTALL)
            msg1 = msg[0]
            return msg1
        if mobj4 != None:
            msg = re.findall(r'å¸¦#(.*?)#', content, re.DOTALL)
            msg1 = '#' + str(msg[0]) + '#'
            return msg1
        if mobj7 != None:
            msg = re.findall(r'è¯„è®ºè¯é¢˜#(.*?)#', content, re.DOTALL)
            msg1 = '#' + str(msg[0]) + '#'
            return msg1
        if mobj14 != None:
            msg = 'ç”Ÿæ—¥å¿«ä¹ï¼'
            return msg
        if mobj5 != None:
            msg = 'åŠ æ²¹ï¼'
            return msg
        if mobj6 != None:
            msg = 'æ­å–œ'
            return msg
        if mobj8 != None:
            msglist = ['å¥¥è¿ªåŒé’»ï¼Œæˆ‘çš„ä¼™ä¼´[doge]', 'è€æ¿å¤§æ°”']
            return random.choice(msglist)
        if mobj9 != None:
            msg = 'å®…å®¶'
            return msg
        if mobj10 != None:
            msg = 'æœŸå¾…[æ˜Ÿæ˜Ÿçœ¼]'
            return msg
        if mobj11 != None:
            msglist1 = ['ä¹°äº†ä¹°äº†', 'å¤ªåˆ’ç®—å•¦', 'ç¡®å®æŒºä¾¿å®œ', 'æœ‰ç‚¹å¿ƒåŠ¨']
            msg = random.choice(msglist1)
            return msg
        if mobj12 != None:
            msg = re.findall(r'æŠŠ(.*)æ‰“åœ¨è¯„è®ºåŒº', content, re.DOTALL)
            msg1 = str(msg[0])
            return msg1
        if mobj13 != None:
            msg = 'åä¸ºåŠ æ²¹ï¼'
            return msg
        print('ä½¿ç”¨å¸¸ç”¨å›å¤')
        msg = random.choice(self.replycontent)
        return msg

    def dynamic_card_resolution(self, dynamic_item):
        """
            æ–°ç‰ˆæœ¬åŠ¨æ€å¡ç‰‡è§£æ
        :param dynamic_item:
        :return:
        """
        try:
            comment_type = dynamic_item.get('basic').get('comment_type')
            dynamic_type = None
            if str(comment_type) == '17':
                dynamic_type = '4'
            elif str(comment_type) == '1':
                dynamic_type = '8'
            elif str(comment_type) == '11':
                dynamic_type = '2'
            elif str(comment_type) == '12':
                dynamic_type = '64'
            dynamic_id = dynamic_item.get('id_str')
            dynamic_rid = dynamic_item.get('basic').get('comment_id_str')
            relation = dynamic_item.get('modules').get('module_author').get('following')
            author_uid = dynamic_item.get('modules').get('module_author').get('mid')
            author_name = dynamic_item.get('modules').get('module_author').get('name')
            pub_time = dynamic_item.get('modules').get('module_author').get('pub_time')
            pub_ts = dynamic_item.get('modules').get('module_author').get('pub_ts')
            official_verify_type = dynamic_item.get('modules').get('module_author').get(
                'official_verify').get('type')
            comment_count = dynamic_item.get('modules').get('module_stat').get('comment').get('count')
            forward_count = dynamic_item.get('modules').get('module_stat').get('forward').get('count')
            like_count = dynamic_item.get('modules').get('module_stat').get('like').get('count')
            dynamic_content1 = ''
            if dynamic_item.get('modules').get('module_dynamic').get('desc'):
                dynamic_content1 = dynamic_item.get('modules').get('module_dynamic').get('desc').get('text')
            dynamic_content2 = ''
            dynamic_content3 = ''
            if dynamic_item.get('modules').get('module_dynamic').get('major'):
                if dynamic_item.get('modules').get('module_dynamic').get('major').get('archive'):
                    dynamic_content2 = dynamic_item.get('modules').get('module_dynamic').get('major').get(
                        'archive').get('desc')
                if dynamic_item.get('modules').get('module_dynamic').get('major').get('article'):
                    dynamic_content3 = dynamic_item.get('modules').get('module_dynamic').get('major').get(
                        'article').get('desc')
            dynamic_content = dynamic_content1 + dynamic_content2 + dynamic_content3
            if relation:
                relation = 1
            else:
                relation = 0
            is_liked = dynamic_item.get('modules').get('module_stat').get('like').get('status')
            if is_liked:
                is_liked = 1
            else:
                is_liked = 0
            if relation != 1:
                print('æœªå…³æ³¨çš„response')
                print(f'https://space.bilibili.com/{author_uid}')
        except Exception as e:
            traceback.print_exc()
            # time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            return None

        top_dynamic = None
        try:
            module_tag = dynamic_item.get('modules').get('module_tag')
            if module_tag:
                module_tag_text = module_tag.get('text')
                if module_tag_text == "ç½®é¡¶":
                    top_dynamic = True
                else:
                    print(module_tag_text)
                    print('æœªçŸ¥åŠ¨æ€tag')
            else:
                top_dynamic = False
        except:
            top_dynamic = None
        orig_name = None
        orig_mid = None
        orig_official_verify = None
        orig_pub_ts = None
        orig_comment_count = None
        orig_forward_count = None
        orig_dynamic_content = None
        orig_like_count = None
        orig_relation = None
        orig_is_liked = None
        orig_dynamic_id = None
        try:
            if dynamic_item.get('orig'):
                orig_dynamic_id = dynamic_item.get('id_str')
                orig_mid = dynamic_item.get('orig').get('modules').get('module_author').get('mid')
                orig_name = dynamic_item.get('orig').get('modules').get('module_author').get('name')
                orig_pub_ts = dynamic_item.get('orig').get('modules').get('module_author').get('pub_ts')
                orig_official_verify = dynamic_item.get('orig').get('modules').get('module_author').get(
                    'official_verify').get('type')
                # orig_comment_count = dynamic_item.get('orig').get('modules').get('module_stat').get('comment').get(
                #     'count')
                # orig_forward_count = dynamic_item.get('orig').get('modules').get('module_stat').get('forward').get(
                #     'count')
                # orig_like_count = dynamic_item.get('orig').get('modules').get('module_stat').get('like').get('count')
                # åŸåŠ¨æ€æš‚æ—¶æ— æ³•è·å–è½¬è¯„èµæ•°æ®
                orig_dynamic_content1 = ''
                if dynamic_item.get('orig').get('modules').get('module_dynamic').get('desc'):
                    orig_dynamic_content1 = dynamic_item.get('orig').get('modules').get(
                        'module_dynamic').get(
                        'desc').get('text')
                orig_dynamic_content2 = ''
                if dynamic_item.get('orig').get('modules').get('module_dynamic').get('major'):
                    if dynamic_item.get('orig').get('modules').get('module_dynamic').get('major').get(
                            'archive'):
                        orig_dynamic_content2 = dynamic_item.get('orig').get('modules').get(
                            'module_dynamic').get('major').get('archive').get('desc')
                orig_dynamic_content = orig_dynamic_content1 + orig_dynamic_content2
                orig_relation = dynamic_item.get('orig').get('modules').get('module_author').get(
                    'following')
                if orig_relation:
                    orig_relation = 1
                else:
                    orig_relation = 0
                # orig_is_liked = dynamic_data.get('item').get('orig').get('modules').get('module_stat').get('like').get(
                #     'status')
                # if orig_is_liked:
                #     orig_is_liked = 1
                # else:
                #     orig_is_liked = 0
            else:
                print('éè½¬å‘åŠ¨æ€ï¼Œæ— åŸåŠ¨æ€')
        except:
            print(dynamic_item)
            traceback.print_exc()
        structure = {
            'dynamic_id': dynamic_id,
            'type': dynamic_type,
            'rid': dynamic_rid,
            'relation': relation,
            'is_liked': is_liked,
            'author_uid': author_uid,
            'author_name': author_name,
            'comment_count': comment_count,
            'forward_count': forward_count,  # è½¬å‘æ•°
            'like_count': like_count,
            'dynamic_content': dynamic_content,
            'pub_time': pub_time,
            'pub_ts': pub_ts,
            'official_verify_type': official_verify_type,

            'top_dynamic': top_dynamic,

            'orig_dynamic_id': orig_dynamic_id,
            'orig_mid': orig_mid,
            'orig_name': orig_name,
            'orig_pub_ts': orig_pub_ts,
            'orig_official_verify': orig_official_verify,
            'orig_comment_count': orig_comment_count,
            'orig_forward_count': orig_forward_count,
            'orig_like_count': orig_like_count,
            'orig_dynamic_content': orig_dynamic_content,
            'orig_relation': orig_relation,
        }
        return structure

    def feed_space_without_cookie(self, host_mid, offset=''):
        """
            æ–°ç‰ˆæœ¬éšèº«æ¨¡å¼æŸ¥çœ‹æŸäººç©ºé—´åŠ¨æ€
            æš‚æ—¶æ— æ³•è·å–åŸåŠ¨æ€çš„è½¬è¯„èµæ•°æ®
        :param offset:
        :param host_mid:
        """
        url = f'https://api.bilibili.com/x/polymer/web-dynamic/v1/feed/space?offset={offset}&host_mid={host_mid}&timezone_offset=-480'
        req = self.s.get(url=url)
        has_more = None
        tempitems = []
        if req.json().get('code') == 0:
            has_more = req.json().get('data').get('has_more')
            offset = req.json().get('data').get('offset')
            for i in req.json().get('data').get('items'):
                tempitems.append(self.dynamic_card_resolution(i))
        if req.json().get('code') == -412:
            print('412é£æ§')
            time.sleep(10 * 60)
            return self.feed_space_without_cookie(host_mid, offset)
        if req.json().get('code') == 4101128:
            print(req.json().get('message'))
            time.sleep(10 * 60)
            # time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            return None
        if not tempitems:
            print(req.json())
        return {'offset': offset, 'data': tempitems, 'has_more': has_more}

    def dynamic_lottery_notice(self, dynamic_id):
        url = f'http://api.vc.bilibili.com/lottery_svr/v1/lottery_svr/lottery_notice?dynamic_id={dynamic_id}'
        req = self.s.get(url=url)
        try:
            if req.json().get('code') == 0:
                return req.json()
            else:
                print(req.text)
                print(url)
                while 1:
                    try:
                        time.sleep(int(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
                    except:
                        continue
                return None
        except:
            print(req.text)
            while 1:
                try:
                    time.sleep(int(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
                except:
                    continue
            return False

    def js_repost_non_content_dyn(self, _dynamic_req, dynamic_id, uid, cookie, ua, csrf, card_stype=''):
        """

        :param _dynamic_req:
        :param dynamic_id:
        :param uid:è‡ªå·±çš„uid
        :param cookie:
        :param ua:
        :param csrf:
        """
        if card_stype != '' and card_stype is not None:
            res = asyncio.run(
                log_reporter.handleSelfDefReport(eventname='dynamic_forward_click',
                                                 url=f'https://t.bilibili.com/{dynamic_id}',
                                                 cookie=cookie
                                                 ,
                                                 ua=ua
                                                 , ops={
                        "dynamic_id": dynamic_id, "card_stype": card_stype
                    }))
            for i in res:
                asyncio.run(self.log_report(i, 'https://t.bilibili.com', f'https://t.bilibili.com/{dynamic_id}', cookie,
                                            ua))

        js = '''
        function U(t, e) {
                        (null == e || e > t.length) && (e = t.length);
                        for (var n = 0, r = new Array(e); n < e; n++)
                            r[n] = t[n];
                        return r
                    }
        function Te(t) {
                        return function(t) {
                            if (Array.isArray(t))
                                return U(t)
                        }(t) || function(t) {
                            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t))
                                return Array.from(t)
                        }(t) || W(t) || function() {
                            throw new TypeError("Invalid attempt to spread non-iterable instance.In order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }()
                    }
        function h(t, e, n) {
                        return e in t ? Object.defineProperty(t, e, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : t[e] = n,
                        t
                    }
        function m(t, e) {
                        var n = Object.keys(t);
                        if (Object.getOwnPropertySymbols) {
                            var r = Object.getOwnPropertySymbols(t);
                            e && (r = r.filter((function(e) {
                                return Object.getOwnPropertyDescriptor(t, e).enumerable
                            }
                            ))),
                            n.push.apply(n, r)
                        }
                        return n
                    }
        function _(t) {
                        for (var e = 1; e < arguments.length; e++) {
                            var n = null != arguments[e] ? arguments[e] : {};
                            e % 2 ? m(Object(n), !0).forEach((function(e) {
                                h(t, e, n[e])
                            }
                            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : m(Object(n)).forEach((function(e) {
                                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                            }
                            ))
                        }
                        return t
                    }
    
        var vd = function(t, e) {
                         return [Yr("//"), jr({
                             type: "at",
                             data: {
                                 rid: t.uid,
                                 text: "@".concat(t.name)
                            }
                             }), Yr(":")].concat(Te(e.map(Mu)))
                     }
        var Or = function(t, e) {
                        return t && e ? "".concat(t, ":").concat(e) : null
                    }
        var Yr = function(t) {
                         return {
                            type: "text",
                            text: t,
                            data: null
                         }
                     }
        var jr = function(t) {
                         var e = t.type
                           , n = t.data;
                         return {
                             id: t.unique && Or(e, n.rid) || null,
                             type: "highlight",
                             text: n.text,
                             data: _(_({}, n), {}, {
                                 type: e
                             })
                         }
                     }
    
        var Mu = function(t) {
                        switch (t.type) {
                        case "RICH_TEXT_NODE_TYPE_AT":
                            return jr({
                                type: "at",
                                data: {
                                    text: t.text,
                                    rid: t.rid
                                }
                            });
                        case "RICH_TEXT_NODE_TYPE_LOTTERY":
                            return jr({
                                type: "lottery",
                                data: {
                                    text: t.text,
                                    rid: t.rid
                                },
                                unique: !0
                            });
                        case "RICH_TEXT_NODE_TYPE_VOTE":
                            return jr({
                                type: "vote",
                                data: {
                                    text: t.text,
                                    rid: t.rid
                                },
                                unique: !0
                            });
                        case "RICH_TEXT_NODE_TYPE_EMOJI":
                            return Ir(t.text, {
                                type: t.emoji.type,
                                size: t.emoji.size,
                                text: t.emoji.text,
                                id: t.emoji.id,
                                src: t.emoji.icon_url
                            });
                        case "RICH_TEXT_NODE_TYPE_BV":
                            return jr({
                                type: "bv",
                                data: {
                                    text: t.text,
                                    rid: t.rid
                                },
                                unique: !0
                            });
                        case "RICH_TEXT_NODE_TYPE_TOPIC":
                        case "RICH_TEXT_NODE_TYPE_WEB":
                        case "RICH_TEXT_NODE_TYPE_TAOBAO":
                        case "RICH_TEXT_NODE_TYPE_NONE":
                        case "RICH_TEXT_NODE_TYPE_TEXT":
                        default:
                            return Yr(t.text)
                        }
                    }
    
        var wr = null
        var Mr = {}
        var Ir = function(t, e) {
                    return {
                        type: "emoji",
                        text: t,
                        data: t
                    }
                }
    
    
    
    
        var defaultForwardContentNodes= function(dynamic_detail) {
                                var t;
                                if (!dynamic_detail.orig_dynamic_id || dynamic_detail.isPGCAuthor)
                                    return [];
                                var e = null === (t = dynamic_detail.desc) || void 0 === t ? void 0 : t.rich_text_nodes;
                                return e ? vd({
                                    uid: dynamic_detail.author_uid,
                                    name: dynamic_detail.author_name
                                }, e) : []
                            }
    
        var si = function(t, e) {
                        switch (e.type) {
                        case "text":
                            t.push({
                                raw_text: e.text,
                                type: 1,
                                biz_id: ""
                            });
                            break;
                        case "highlight":
                            switch (e.data.type) {
                            case "at":
                                t.push({
                                    raw_text: e.text,
                                    type: 2,
                                    biz_id: String(e.data.rid)
                                });
                                break;
                            case "lottery":
                                t.push({
                                    raw_text: e.text,
                                    type: 3,
                                    biz_id: String(e.data.rid)
                                });
                                break;
                            case "vote":
                                t.push({
                                    raw_text: e.text,
                                    type: 4,
                                    biz_id: String(e.data.rid)
                                });
                                break;
                            case "bv":
                                t.push({
                                    raw_text: e.data.rid,
                                    type: 7,
                                    biz_id: e.data.rid
                                })
                            }
                            break;
                        case "emoji":
                            t.push({
                                raw_text: e.text,
                                type: 9,
                                biz_id: ""
                            })
                        }
                        return t
                    }
                      ci = function(t, e) {
                        switch (e) {
                        case 0:
                            oi(t, "close_comment", 1);
                            break;
                        case 2:
                            oi(t, "up_choose_comment", 1)
                        }
                    }
            var ai = function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0;
                        return "object" !== C(t) ? t || e : Er(t) ? t.length ? t : e : t || e
                    }
            function C(t) {
                        return (C = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                            return typeof t
                        }
                        : function(t) {
                            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                        }
                        )(t)
                    }
    
            var ui = function(t) {
                        var e, n, r;
                        if (!t.scene && (null !== (e = t.content) && void 0 !== e && null !== (n = e.contents) && void 0 !== n && n.length && (t.scene = 1),
                        null !== (r = t.pics) && void 0 !== r && r.length && (t.scene = 2),
                        t.video && (t.scene = 3),
                        t.repost_src && (t.repost_src.dynId ? t.scene = 4 : t.repost_src.revsId && (t.scene = 5)),
                        t.sketch && (t.scene = 6),
                        !t.scene))
                            throw new Error("dyn create params scene empty")
                    }
    
            function gen_contents(e){
            a={content: {
                       contents: null == e || null === (r = e.nodes) || void 0 === r ? void 0 : r.reduce(si, [])
                                        }}
            return a
            }
    
    
    
    
    
    Sr = function(t) {
        return (null == t ? void 0 : t.length) > 0 ? t[t.length - 1] : null
    }
    
    le = function(t) {
        return JSON.parse(JSON.stringify(t))
    }
    
    de = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "JSON";
        switch (e) {
        case "JSON":
        default:
            return le(t)
        }
    }
    
    Rr = function(t) {//ä¸»è¦çš„åˆ·æ–°nodesçš„æ–¹å¼
        for (var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t.length, n = [], r = 0, i = 0; i < t.length; i++) {
            var a = t[i]
              , o = Sr(n);
            "text" === (null == o ? void 0 : o.type) && "text" === a.type ? (o.text += a.text,
            i <= e && r++) : n.push(a)
        }
        return [n, r]
    }
    var refresh_nodes = function(t) {
        if (i = t.value,
            null == (a = t.nodes) || !a.length) {
                return []
            }
            return Rr(de(a))[0]
    
                        }
        '''

        def submit(_data, _dynamic_id, _csrf, _cookie, _ua):
            url = f'https://api.bilibili.com/x/dynamic/feed/create/submit_check?csrf={_csrf}'
            headers = {
                'accept': 'application/json, text/plain, */*',
                'accept-encoding': 'gzip, deflate, br',
                'accept-language': 'zh-CN,zh;q=0.9',
                'content-type': 'application/json;charset=UTF-8',
                'cookie': _cookie,
                'origin': 'https://t.bilibili.com',
                'referer': f'https://t.bilibili.com/{_dynamic_id}',
                'user-agent': _ua
            }
            req = self.s.post(url=url, data=json.dumps(eval(str(_data))), headers=headers)
            if req.json().get('code') == 0:
                return True
            else:
                print(req.text)
                return False

        def feed_crate_dyn(_data, _dynamic_id, _csrf, _cookie, _ua):
            url = f'https://api.bilibili.com/x/dynamic/feed/create/dyn?csrf={_csrf}'
            headers = {
                'accept': 'application/json, text/plain, */*',
                'accept-encoding': 'gzip, deflate, br',
                'accept-language': 'zh-CN,zh;q=0.9',
                'content-type': 'application/json;charset=UTF-8',
                'cookie': _cookie,
                'origin': 'https://t.bilibili.com',
                'referer': f'https://t.bilibili.com/{_dynamic_id}',
                'user-agent': _ua
            }
            req = self.s.post(url=url, headers=headers, data=json.dumps(eval(str(_data))))
            if req.json().get('code') == 0:
                print(f'è½¬å‘åŠ¨æ€ç»“æœï¼š{req.json()}')
                return req.json().get('data')
            else:
                print('æ— å†…å®¹è½¬å‘å¤±è´¥')
                print(req.text)
                print(eval(str(_data)))
                print(f'è½¬å‘åŠ¨æ€ç»“æœï¼š{req.json()}')
                self.zhuanfashibai.append(f'https://t.bilibili.com/{dynamic_id}\t{req.json()}\tjsfail')

                return False

        def get_upload_id(__uid):
            return f'{__uid}_{int(time.time())}_{math.floor(1e3 * random.random())}'

        content = js2py.EvalJs()
        content.execute(js)
        res = content.defaultForwardContentNodes(_dynamic_req)
        nodes = {'nodes': res}
        nodes = {'nodes': content.refresh_nodes(nodes)}
        contents = content.gen_contents(nodes)  # submitçš„å‚æ•°
        submit(contents, dynamic_id, csrf, cookie, ua)
        forward_args = {
            "dyn_req": {
                'content': eval(str(contents)).get('content'),
                "meta": {
                    "app_meta": {
                        'from': "create.dynamic.web",
                        'mobi_app': 'web'
                    },
                },
                "scene": 4,
                "uploadId": get_upload_id(uid)
            },
            "web_repost_src": {
                "dyn_id_str": str(dynamic_id)
            }
        }
        res = feed_crate_dyn(forward_args, dynamic_id, csrf, cookie, ua)
        if res:
            return res
        else:
            return False

    def get_topcomment(self, dynamicid, rid, pn, _type, mid):
        iner_replies = ''
        pinglunreq = self.get_pinglunreq(dynamicid, rid, pn, _type, 3)
        try:
            pinglun_dict = json.loads(pinglunreq)
            pingluncode = pinglun_dict.get('code')
            if pingluncode != 0:
                print('è·å–ç½®é¡¶è¯„è®ºå¤±è´¥')
                message = pinglun_dict.get('message')
                print(pinglun_dict)

                if message != 'UPä¸»å·²å…³é—­è¯„è®ºåŒº' and message != 'å•¥éƒ½æœ¨æœ‰' and message != 'è¯„è®ºåŒºå·²å…³é—­':
                    while 1:
                        try:
                            time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
                            break
                        except:
                            continue
                    return 'null'
                else:
                    print(message)
                    return 'null'
            reps = pinglun_dict.get('data').get('replies')
            if reps != None:
                for i in reps:
                    pinglun_mid = i.get('mid')
                    if pinglun_mid == mid:
                        iner_replies += i.get('content').get('message')
            data = pinglun_dict.get('data')
            topreplies = data.get('top_replies')
            topmsg = ''
            if topreplies != None:
                for tprps in topreplies:
                    topmsg += tprps.get('content').get('message')
                    if tprps.get('replies'):
                        for tprpsrps in tprps.get('replies'):
                            if tprpsrps.get('mid') == mid:
                                iner_replies += tprpsrps.get('content').get('message')
                topmsg += iner_replies
                print('ç½®é¡¶è¯„è®ºï¼š' + topmsg)
            else:
                print('æ— ç½®é¡¶è¯„è®º')
                topmsg = 'null' + iner_replies
        except Exception as e:
            print(e)
            print('è·å–ç½®é¡¶è¯„è®ºå¤±è´¥')
            pinglun_dict = json.loads(pinglunreq)
            data = pinglun_dict.get('data')
            print(pinglun_dict)
            print(data)
            topmsg = 'null'
            print(self.timeshift(int(time.time())))
            if data == 'è¯„è®ºåŒºå·²å…³é—­':
                topmsg = data
            else:
                while 1:
                    try:
                        time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
                        break
                    except:
                        continue
        return topmsg

    def get_pinglunreq_proxy(self, dynamic_id, rid, pn, _type, *mode) -> dict:
        """
        3æ˜¯çƒ­è¯„ï¼Œ2æ˜¯æœ€æ–°ï¼Œå¤§æ¦‚
        :param dynamic_id:
        :param rid:
        :param pn:
        :param _type:
        :param mode:
        :return:
        """
        if mode:
            mode = mode[0]
        else:
            mode = 2
        ctype = 17
        if str(_type) == '8':
            ctype = 1
        elif str(_type) == '4' or str(_type) == '1':
            ctype = 17
        elif str(_type) == '2':
            ctype = 11
        elif str(_type) == '64':
            ctype = 12
        if len(str(rid)) == len(str(dynamic_id)):
            oid = dynamic_id
        else:
            oid = rid
        pinglunheader = {
            'user-agent': 'Mozilla/5.0'}
        pinglunurl = 'https://api.bilibili.com/x/v2/reply/main?next=' + str(pn) + '&type=' + str(ctype) + '&oid=' + str(
            oid) + '&mode=' + str(mode) + '&plat=1&_=' + str(int(time.time()))
        pinglundata = {
            'jsonp': 'jsonp',
            'next': pn,
            'type': ctype,
            'oid': oid,
            'mode': mode,
            'plat': 1,
            '_': time.time()
        }
        try:
            pinglunreq = async_to_sync(
                self.requests_with_proxy.request_with_proxy
            )(method="GET", url=pinglunurl, data=pinglundata,headers=pinglunheader)
        except:
            traceback.print_exc()
            print('è·å–è¯„è®ºå¤±è´¥')
            print(self.timeshift(int(time.time())))
            # while 1:
            #     try:
            #         time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
            #         break
            #     except:
            #         continue
            time.sleep(3)
            pinglunreq = self.get_pinglunreq(dynamic_id, rid, pn, _type)
            return pinglunreq
        return pinglunreq

    def get_topcomment_proxy(self, dynamicid, rid, pn, _type, mid) -> str:
        iner_replies = ''
        pinglunreq = self.get_pinglunreq_proxy(dynamicid, rid, pn, _type, 3)
        try:
            pinglun_dict = pinglunreq
            pingluncode = pinglun_dict.get('code')
            if pingluncode != 0:
                print('è·å–ç½®é¡¶è¯„è®ºå¤±è´¥')
                message = pinglun_dict.get('message')
                print(pinglun_dict)

                if message != 'UPä¸»å·²å…³é—­è¯„è®ºåŒº' and message != 'å•¥éƒ½æœ¨æœ‰' and message != 'è¯„è®ºåŒºå·²å…³é—­':
                    while 1:
                        try:
                            time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
                            break
                        except:
                            continue
                    return 'null'
                else:
                    print(message)
                    return 'null'
            reps = pinglun_dict.get('data').get('replies')
            if reps != None:
                for i in reps:
                    pinglun_mid = i.get('mid')
                    if pinglun_mid == mid:
                        iner_replies += i.get('content').get('message')
            data = pinglun_dict.get('data')
            topreplies = data.get('top_replies')
            topmsg = ''
            if topreplies != None:
                for tprps in topreplies:
                    topmsg += tprps.get('content').get('message')
                    if tprps.get('replies'):
                        for tprpsrps in tprps.get('replies'):
                            if tprpsrps.get('mid') == mid:
                                iner_replies += tprpsrps.get('content').get('message')
                topmsg += iner_replies
                print('ç½®é¡¶è¯„è®ºï¼š' + topmsg)
            else:
                print('æ— ç½®é¡¶è¯„è®º')
                topmsg = 'null' + iner_replies
        except Exception as e:
            print(e)
            print('è·å–ç½®é¡¶è¯„è®ºå¤±è´¥')
            pinglun_dict = pinglunreq
            data = pinglun_dict.get('data')
            print(pinglun_dict)
            print(data)
            topmsg = 'null'
            print(self.timeshift(int(time.time())))
            if data == 'è¯„è®ºåŒºå·²å…³é—­':
                topmsg = data
            else:
                while 1:
                    try:
                        time.sleep(eval(input('è¾“å…¥ç­‰å¾…æ—¶é—´')))
                        break
                    except:
                        continue
        return topmsg

    def get_private_cookie_t_bilibili(self) -> str:
        '''
        è·å–æœªç™»å½•çŠ¶æ€çš„cookie
        :return:
        '''
        r1 = httpx.get(
            "https://t.bilibili.com/",
            headers={
                "Host": "space.bilibili.com",
                "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36",
            },
        )
        payload = {
            "payload": "{\"3064\":1,\"5062\":\"1688485907676\",\"03bf\":\"https%3A%2F%2Ft.bilibili.com%2F\",\"39c8\":\"444.41.fp.risk\",\"34f1\":\"\",\"d402\":\"\",\"654a\":\"\",\"6e7c\":\"995x1321\",\"3c43\":{\"2673\":0,\"5766\":24,\"6527\":0,\"7003\":1,\"807e\":1,\"b8ce\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36 Edg/114.0.1823.67\",\"641c\":0,\"07a4\":\"zh-CN\",\"1c57\":8,\"0bd0\":12,\"748e\":[2560,1440],\"d61f\":[2560,1392],\"fc9d\":-480,\"6aa9\":\"Asia/Shanghai\",\"75b8\":1,\"3b21\":1,\"8a1c\":1,\"d52f\":\"not available\",\"adca\":\"Win32\",\"80c9\":[[\"PDF Viewer\",\"Portable Document Format\",[[\"application/pdf\",\"pdf\"],[\"text/pdf\",\"pdf\"]]],[\"Chrome PDF Viewer\",\"Portable Document Format\",[[\"application/pdf\",\"pdf\"],[\"text/pdf\",\"pdf\"]]],[\"Chromium PDF Viewer\",\"Portable Document Format\",[[\"application/pdf\",\"pdf\"],[\"text/pdf\",\"pdf\"]]],[\"Microsoft Edge PDF Viewer\",\"Portable Document Format\",[[\"application/pdf\",\"pdf\"],[\"text/pdf\",\"pdf\"]]],[\"WebKit built-in PDF\",\"Portable Document Format\",[[\"application/pdf\",\"pdf\"],[\"text/pdf\",\"pdf\"]]]],\"13ab\":\"NgoAAAAASUVORK5CYII=\",\"bfe9\":\"AFzCgAsMxYTaIooF+B/wGUsPWmkr+6+QAAAABJRU5ErkJggg==\",\"a3c1\":[\"extensions:ANGLE_instanced_arrays;EXT_blend_minmax;EXT_color_buffer_half_float;EXT_disjoint_timer_query;EXT_float_blend;EXT_frag_depth;EXT_shader_texture_lod;EXT_texture_compression_bptc;EXT_texture_compression_rgtc;EXT_texture_filter_anisotropic;EXT_sRGB;KHR_parallel_shader_compile;OES_element_index_uint;OES_fbo_render_mipmap;OES_standard_derivatives;OES_texture_float;OES_texture_float_linear;OES_texture_half_float;OES_texture_half_float_linear;OES_vertex_array_object;WEBGL_color_buffer_float;WEBGL_compressed_texture_s3tc;WEBGL_compressed_texture_s3tc_srgb;WEBGL_debug_renderer_info;WEBGL_debug_shaders;WEBGL_depth_texture;WEBGL_draw_buffers;WEBGL_lose_context;WEBGL_multi_draw\",\"webgl aliased line width range:[1, 1]\",\"webgl aliased point size range:[1, 1024]\",\"webgl alpha bits:8\",\"webgl antialiasing:yes\",\"webgl blue bits:8\",\"webgl depth bits:24\",\"webgl green bits:8\",\"webgl max anisotropy:16\",\"webgl max combined texture image units:32\",\"webgl max cube map texture size:16384\",\"webgl max fragment uniform vectors:1024\",\"webgl max render buffer size:16384\",\"webgl max texture image units:16\",\"webgl max texture size:16384\",\"webgl max varying vectors:30\",\"webgl max vertex attribs:16\",\"webgl max vertex texture image units:16\",\"webgl max vertex uniform vectors:4095\",\"webgl max viewport dims:[32767, 32767]\",\"webgl red bits:8\",\"webgl renderer:WebKit WebGL\",\"webgl shading language version:WebGL GLSL ES 1.0 (OpenGL ES GLSL ES 1.0 Chromium)\",\"webgl stencil bits:0\",\"webgl vendor:WebKit\",\"webgl version:WebGL 1.0 (OpenGL ES 2.0 Chromium)\",\"webgl unmasked vendor:Google Inc. (NVIDIA)\",\"webgl unmasked renderer:ANGLE (NVIDIA, NVIDIA GeForce GTX 1660 SUPER Direct3D11 vs_5_0 ps_5_0, D3D11)\",\"webgl vertex shader high float precision:23\",\"webgl vertex shader high float precision rangeMin:127\",\"webgl vertex shader high float precision rangeMax:127\",\"webgl vertex shader medium float precision:23\",\"webgl vertex shader medium float precision rangeMin:127\",\"webgl vertex shader medium float precision rangeMax:127\",\"webgl vertex shader low float precision:23\",\"webgl vertex shader low float precision rangeMin:127\",\"webgl vertex shader low float precision rangeMax:127\",\"webgl fragment shader high float precision:23\",\"webgl fragment shader high float precision rangeMin:127\",\"webgl fragment shader high float precision rangeMax:127\",\"webgl fragment shader medium float precision:23\",\"webgl fragment shader medium float precision rangeMin:127\",\"webgl fragment shader medium float precision rangeMax:127\",\"webgl fragment shader low float precision:23\",\"webgl fragment shader low float precision rangeMin:127\",\"webgl fragment shader low float precision rangeMax:127\",\"webgl vertex shader high int precision:0\",\"webgl vertex shader high int precision rangeMin:31\",\"webgl vertex shader high int precision rangeMax:30\",\"webgl vertex shader medium int precision:0\",\"webgl vertex shader medium int precision rangeMin:31\",\"webgl vertex shader medium int precision rangeMax:30\",\"webgl vertex shader low int precision:0\",\"webgl vertex shader low int precision rangeMin:31\",\"webgl vertex shader low int precision rangeMax:30\",\"webgl fragment shader high int precision:0\",\"webgl fragment shader high int precision rangeMin:31\",\"webgl fragment shader high int precision rangeMax:30\",\"webgl fragment shader medium int precision:0\",\"webgl fragment shader medium int precision rangeMin:31\",\"webgl fragment shader medium int precision rangeMax:30\",\"webgl fragment shader low int precision:0\",\"webgl fragment shader low int precision rangeMin:31\",\"webgl fragment shader low int precision rangeMax:30\"],\"6bc5\":\"Google Inc. (NVIDIA)~ANGLE (NVIDIA, NVIDIA GeForce GTX 1660 SUPER Direct3D11 vs_5_0 ps_5_0, D3D11)\",\"ed31\":0,\"72bd\":0,\"097b\":0,\"52cd\":[0,0,0],\"a658\":[\"Arial\",\"Arial Black\",\"Arial Narrow\",\"Book Antiqua\",\"Bookman Old Style\",\"Calibri\",\"Cambria\",\"Cambria Math\",\"Century\",\"Century Gothic\",\"Century Schoolbook\",\"Comic Sans MS\",\"Consolas\",\"Courier\",\"Courier New\",\"Georgia\",\"Helvetica\",\"Impact\",\"Lucida Bright\",\"Lucida Calligraphy\",\"Lucida Console\",\"Lucida Fax\",\"Lucida Handwriting\",\"Lucida Sans\",\"Lucida Sans Typewriter\",\"Lucida Sans Unicode\",\"Microsoft Sans Serif\",\"Monotype Corsiva\",\"MS Gothic\",\"MS PGothic\",\"MS Reference Sans Serif\",\"MS Sans Serif\",\"MS Serif\",\"Palatino Linotype\",\"Segoe Print\",\"Segoe Script\",\"Segoe UI\",\"Segoe UI Light\",\"Segoe UI Semibold\",\"Segoe UI Symbol\",\"Tahoma\",\"Times\",\"Times New Roman\",\"Trebuchet MS\",\"Verdana\",\"Wingdings\",\"Wingdings 2\",\"Wingdings 3\"],\"d02f\":\"124.04347527516074\"},\"54ef\":\"{\\\"in_new_ab\\\":true,\\\"ab_version\\\":{},\\\"ab_split_num\\\":{},\\\"ab_type\\\":1}\",\"8b94\":\"\",\"df35\":\"634B21D10-AA27-911D-848A-2F142F351EED07055infoc\",\"07a4\":\"zh-CN\",\"5f45\":null,\"db46\":0}"}
        url = "https://api.bilibili.com/x/internal/gaia-gateway/ExClimbWuzhi"
        headers = {
            "authority": "api.bilibili.com",
            "accept": "*/*",
            "accept-language": "zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6",
            "content-type": "application/json;charset=UTF-8",
            "dnt": "1",
            "origin": "https://space.bilibili.com",
            "referer": "https://space.bilibili.com/1133258171/dynamic",
            "sec-ch-ua": '"Not.A/Brand";v="8", "Chromium";v="114", "Microsoft Edge";v="114"',
            "sec-ch-ua-mobile": "?0",
            "sec-ch-ua-platform": '"Windows"',
            "sec-fetch-dest": "empty",
            "sec-fetch-mode": "cors",
            "sec-fetch-site": "same-site",
            "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36 Edg/114.0.1823.67",
        }

        response = httpx.post(url, headers=headers, data=json.dumps(payload), cookies=r1.cookies)
        print(response.json())
        print(response.cookies)
        print(r1.cookies)
        print(response.status_code)
        fake_cookie_str = ''
        for k, v in response.cookies.items():
            fake_cookie_str += f"{k}={v}; "
        return fake_cookie_str

    def rid_2_dynamic_id(self, rid):
        url = 'https://api.vc.bilibili.com/link_draw/v2/doc/dynamic_id'
        params = {
            'doc_id': rid
        }
        headers = {
            "accept-language": "zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6",
            "content-type": "application/json;charset=UTF-8",
            "dnt": "1",
            "sec-ch-ua": '"Not.A/Brand";v="8", "Chromium";v="114", "Microsoft Edge";v="114"',
            "sec-ch-ua-mobile": "?0",
            "sec-ch-ua-platform": '"Windows"',
            "sec-fetch-dest": "empty",
            "sec-fetch-mode": "cors",
            "sec-fetch-site": "same-site",
            "user-agent": "Mozilla/5.0",
        }
        req = self.s.get(url, params=params, headers=headers)
        return req.json()

if __name__=='__main__':
    __test =methods()
    __res=__test.daily_choujiangxinxipanduan("""æ­å–œä½ åœ¨å¼€å­¦å‰åˆ·åˆ°è¿™æ¡åŠ¨æ€[ç»™å¿ƒå¿ƒ]!
å…³æ³¨@æ¬¡å…ƒæ•°ç è¯´ ç²‰ä¸ç ´9100æˆ–è€…è½¬å‘ç ´1000
å°±æœ‰æœºä¼šéšæœºè·å¾—ä¸€æ¬¾å¤´æˆ´å¼è€³æœºé™ªä½ å¼€å­¦![é¼“æŒ]
#å” å—‘##é—²èŠ##è€³æœº##å¤´æˆ´å¼è€³##QCY##iKF##æ¼«æ­¥è€…##å€æ€##å¼€å­¦##å¼€å­¦å¥½ç¤¼#""")
    print(__res)